/*! For license information please see main.c17fb19d.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,V=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case T:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return V({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return V({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Te(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ee(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==xe||null!==Se)&&(Ae(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Pe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Ve=null,Fe=!1,Ue=null,je={onError:function(e){Me=!0,Ve=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Ve=null,Le.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Tt,Et=!1,It=[],Ct=null,At=null,Rt=null,Ot=new Map,Nt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function jt(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),null!==Rt&&Ft(Rt)&&(Rt=null),Ot.forEach(Ut),Nt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function zt(e){function t(t){return Bt(t,e)}if(0<It.length){Bt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Rt&&Bt(Rt,e),Ot.forEach(t),Nt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Vt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Mt(At,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Mt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Nt.set(a,Mt(Nt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return V(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=V({},cn,{view:0,detail:0}),hn=an(fn),dn=V({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(V({},dn,{dataTransfer:0})),mn=an(V({},fn,{relatedTarget:0})),yn=an(V({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=V({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(V({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Tn(){return Sn}var En=V({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(En),Cn=an(V({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(V({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Rn=an(V({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=V({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=an(On),Pn=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Vn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function $n(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Hn(t,Gn,e,we(e)),Oe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Tr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Er=Tr("animationend"),Ir=Tr("animationiteration"),Cr=Tr("animationstart"),Ar=Tr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Rr.set(e,t),s(t,[e])}for(var Pr=0;Pr<Or.length;Pr++){var Dr=Or[Pr];Nr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Nr(Er,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Cr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Vr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Ve;Me=!1,Ve=null,Fe||(Fe=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Vr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Vr(i,u,c),a=s}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Er:case Ir:case Cr:s=yn;break;case Ar:s=Rn;break;case"scroll":s=hn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Hn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ne(n,a))&&o.unshift(Hr(n,s,u)):i||null!=(s=Ne(n,a))&&o.push(Hr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ti(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ei(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Ai=Si(!1),Ri=Ii;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ti(Ai),Ti(Ci)}function Di(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ei(Ci,t),Ei(Ai,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return V({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ri=Ci.current,Ei(Ci,e),Ei(Ai,Ai.current),!0}function Vi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ai),Ti(Ci),Ei(Ci,e)):Ti(Ai),Ei(Ai,n)}var Fi=null,Ui=!1,ji=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!ji&&null!==Fi){ji=!0;var e=0,t=kt;try{var n=Fi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{kt=t,ji=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=V({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ti(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ea=null;function Ia(e){null===Ea?Ea=[e]:Ea.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ra=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var i=e.updateQueue;Ra=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=V({},f,h);break e;case 2:Ra=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Fa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function ja(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:V({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Pa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Pa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Ni(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Ni(t)?Ri:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ja(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Va(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===N&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Vc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Dc(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case N:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Vc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ei(to,t),Ei(eo,e),Ei(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Za),Ei(Za,t)}function io(){Ti(Za),Ti(eo),Ti(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ei(eo,e),Ei(Za,n))}function oo(e){eo.current===e&&(Ti(Za),Ti(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function To(){var e=0!==bo;return bo=0,e}function Eo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function Io(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function No(e,t){var n=vo,r=Io(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Do.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Vo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Vo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Vo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function Fo(e){var t=Eo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return Io().memoizedState}function Bo(e,t,n,r){var i=Eo();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Io().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ia(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ta,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ta,useCallback:function(e,t){return Eo().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Eo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Eo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Eo().memoizedState=e},useState:Fo,useDebugValue:$o,useDeferredValue:function(e){return Eo().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),Eo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Eo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Eo(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ta,useCallback:Yo,useContext:Ta,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:jo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(Io(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:No,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ta,useCallback:Yo,useContext:Ta,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ro,useRef:jo,useState:function(){return Ro(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=Io();return null===mo?t.memoizedState=e:Jo(t,mo.memoizedState,e)},useTransition:function(){return[Ro(Co)[0],Io().memoizedState]},useMutableSource:Oo,useSyncExternalStore:No,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ws||(Ws=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=To(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Iu(e,t,n,r,i)}function Tu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ps,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ps,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Ps,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Ps,Ns),Ns|=r;return wu(e,t,i,n),t.child}function Eu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Ni(n)?Ri:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=To(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Cu(e,t,n,r,i){if(Ni(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Oi(t,c=Ni(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Ra=!1;var h=t.memoizedState;o.state=h,Va(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Ra?("function"===typeof l&&(ja(t,n,l,r),s=t.memoizedState),(u=Ra||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Na(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ta(s):s=Oi(t,s=Ni(n)?Ri:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Ra=!1,h=t.memoizedState,o.state=h,Va(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Ra?("function"===typeof d&&(ja(t,n,d,r),p=t.memoizedState),(c=Ra||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Eu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Vi(t,n,!1),Wu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Vi(t,n,!0),t.child}function Ru(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Nu,Pu,Du,Lu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Lu,e):Fu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Fu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ju(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function zu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ju(e,n,t);else if(19===e.tag)ju(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Ni(t.type)&&Pi(),Ku(t),null;case 3:return r=t.stateNode,io(),Ti(Ai),Ti(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Nu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=V({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Du(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ti(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ds&&(Ds=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&zr(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Ti(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ds||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>zs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>zs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ei(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Ni(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ai),Ti(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Nu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=V({},i,{value:void 0}),r=V({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Du=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sc(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Sc(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Sc(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Sc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Sc(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Sc(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Sc(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(l=Yu)||f,vs(t,e),Yu=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Sc(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Sc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sc(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var c=Yu;if($u=o,(Yu=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sc(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sc(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sc(t,o,s)}}}catch(s){Sc(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var xs,Ss=Math.ceil,Ts=b.ReactCurrentDispatcher,Es=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Cs=0,As=null,Rs=null,Os=0,Ns=0,Ps=Si(0),Ds=0,Ls=null,Ms=0,Vs=0,Fs=0,Us=null,js=null,Bs=0,zs=1/0,qs=null,Ws=!1,Hs=null,Ks=null,Gs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Vs|=n),4===Ds&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(zs=Xe()+500,Ui&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(sc.bind(null,e)):Bi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Os===t||(qs=null,zs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ts.current=o,Cs=i,null!==Rs?t=0:(As=null,Os=0,t=Ds)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ls,hc(e,0),uc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,js,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=Bs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,qs),t);break}wc(e,js,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,qs),r);break}wc(e,js,qs);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&oc(t)),e}function oc(e){null===js?js=e:js.push.apply(js,e)}function uc(e,t){for(t&=~Fs,t&=~Vs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ls,hc(e,0),uc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,qs),rc(e,Xe()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(zs=Xe()+500,Ui&&zi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Cs=t))&&zi()}}function fc(){Ns=Ps.current,Ti(Ps)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),Ti(Ai),Ti(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Rs=e=Pc(e.current,null),Os=Ns=t,Ds=0,Ls=null,Fs=Vs=Ms=0,js=Us=null,null!==Ea){for(t=0;t<Ea.length;t++)if(null!==(r=(n=Ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ea=null}return e}function dc(e,t){for(;;){var n=Rs;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Es.current=null,null===n||null===n.return){Ds=1,Ls=t,Rs=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ds&&(Ds=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function pc(){var e=Ts.current;return Ts.current=ou,null===e?ou:e}function vc(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===As||0===(268435455&Ms)&&0===(268435455&Vs)||uc(As,Os)}function mc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Os===t||(qs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ts.current=r,null!==Rs)throw Error(a(261));return As=null,Os=0,Ds}function yc(){for(;null!==Rs;)kc(Rs)}function gc(){for(;null!==Rs&&!$e();)kc(Rs)}function kc(e){var t=xs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?bc(e):Rs=t,Es.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ns)))return void(Rs=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(Rs=n);if(null===e)return Ds=6,void(Rs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Ds&&(Ds=5)}function wc(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Rs=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Es.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Is.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ws)throw Ws=!1,e=Hs,Hs=null,e;0!==(1&$s)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,zi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function _c(){if(null!==Qs){var e=bt($s),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Sc(s,s.return,_)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xc(e,t,n){e=Da(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Da(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Ds||3===Ds&&(130023424&Os)===Os&&500>Xe()-Bs?hc(e,0):Fs|=n),rc(e,t)}function Ec(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ec(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ec(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Rc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Nc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case T:return(e=Oc(12,n,t,2|i)).elementType=T,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case R:return(e=Oc(19,n,t,i)).elementType=R,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case I:u=9;break e;case C:u=11;break e;case O:u=14;break e;case N:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Vc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ii;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=jc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Pa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),La(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Ru(t),da();break;case 5:ao(t);break;case 1:Ni(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Vu(e,t,n):(Ei(uo,1&uo.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ei(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Tu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Ru(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Na(e,t),Va(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Wu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Eu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Vu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Pa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ta(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),qu(e,t),t.tag=1,Ni(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Ha(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return zu(e,t,n);case 22:return Tu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Hc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Hc(s);u.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Hc(o)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Vt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Cs)&&(zs=Xe()+500,zi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},St=function(){return kt},Tt=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ee,Ie,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,y=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),m=k("react.fundamental"),y=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===y||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},P={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:P,ReactCurrentOwner:x};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,P(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,T=null,E=-1,I=5,C=-1;function A(){return!(t.unstable_now()-C<I)}function R(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?x():(S=!1,T=null)}}else S=!1}if("function"===typeof k)x=function(){k(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=R,x=function(){N.postMessage(null)}}else x=function(){y(R,0)};function P(e){T=e,S||(S=!0,x())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,P(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ss},SDK_VERSION:function(){return vc},_DEFAULT_ENTRY_NAME:function(){return nc},_addComponent:function(){return oc},_addOrOverwriteComponent:function(){return uc},_apps:function(){return ic},_clearComponents:function(){return fc},_components:function(){return ac},_getProvider:function(){return cc},_registerComponent:function(){return sc},_removeServiceInstance:function(){return lc},deleteApp:function(){return kc},getApp:function(){return yc},getApps:function(){return gc},initializeApp:function(){return mc},onLog:function(){return _c},registerVersion:function(){return wc},setLogLevel:function(){return xc}});var t=n(791),r=n(250);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||c(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){h(a,r,i,o,u,"next",e)}function u(e){h(a,r,i,o,u,"throw",e)}o(void 0)}))}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t,n){return y=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},y.apply(null,arguments)}function g(e){var t="function"===typeof Map?new Map:void 0;return g=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return y(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)},g(e)}function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=_(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(E([])));m&&m!==t&&n.call(m,i)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==k(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(y),u(y,o,"Generator"),u(y,i,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function w(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function I(e,t){if(t&&("object"===k(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function C(e){var t=m();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var N=n(164),P=["override"],D=["cachePolicyForParams_UNSTABLE"],L=b().mark(lt),M=b().mark(_n);var V=function(e){var t=new Error(e);if(void 0===t.stack)try{throw t}catch(BF){}return t};var F=function(e){return!!e&&"function"===typeof e.then};var U=function(e,t){if(null!=e)return e;throw V(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=function(){function e(){A(this,e)}return O(e,[{key:"getValue",value:function(){throw V("BaseLoadable")}},{key:"toPromise",value:function(){throw V("BaseLoadable")}},{key:"valueMaybe",value:function(){throw V("BaseLoadable")}},{key:"valueOrThrow",value:function(){throw V('Loadable expected value, but in "'.concat(this.state,'" state'))}},{key:"promiseMaybe",value:function(){throw V("BaseLoadable")}},{key:"promiseOrThrow",value:function(){throw V('Loadable expected promise, but in "'.concat(this.state,'" state'))}},{key:"errorMaybe",value:function(){throw V("BaseLoadable")}},{key:"errorOrThrow",value:function(){throw V('Loadable expected error, but in "'.concat(this.state,'" state'))}},{key:"is",value:function(e){return e.state===this.state&&e.contents===this.contents}},{key:"map",value:function(e){throw V("BaseLoadable")}}]),e}(),z=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),j(T(r=t.call(this)),"state","hasValue"),j(T(r),"contents",void 0),r.contents=e,r}return O(n,[{key:"getValue",value:function(){return this.contents}},{key:"toPromise",value:function(){return Promise.resolve(this.contents)}},{key:"valueMaybe",value:function(){return this.contents}},{key:"valueOrThrow",value:function(){return this.contents}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;try{var n=e(this.contents);return F(n)?G(n):Y(n)?n:H(n)}catch(r){return F(r)?G(r.next((function(){return t.map(e)}))):K(r)}}}]),n}(B),q=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),j(T(r=t.call(this)),"state","hasError"),j(T(r),"contents",void 0),r.contents=e,r}return O(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return Promise.reject(this.contents)}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){return this.contents}},{key:"errorOrThrow",value:function(){return this.contents}},{key:"map",value:function(e){return this}}]),n}(B),W=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),j(T(r=t.call(this)),"state","loading"),j(T(r),"contents",void 0),r.contents=e,r}return O(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return this.contents}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){return this.contents}},{key:"promiseOrThrow",value:function(){return this.contents}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;return G(this.contents.then((function(t){var n=e(t);if(Y(n)){var r=n;switch(r.state){case"hasValue":case"loading":return r.contents;case"hasError":throw r.contents}}return n})).catch((function(n){if(F(n))return n.then((function(){return t.map(e).contents}));throw n})))}}]),n}(B);function H(e){return Object.freeze(new z(e))}function K(e){return Object.freeze(new q(e))}function G(e){return Object.freeze(new W(e))}function Q(){return Object.freeze(new W(new Promise((function(){}))))}function $(e){var t=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))).map((function(e){return Y(e)?e:F(e)?G(e):H(e)})),n=function(e){return e.every((function(e){return"hasValue"===e.state}))?H(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?K(U(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):G(Promise.all(e.map((function(e){return e.contents}))))}(t);return Array.isArray(e)?n:n.map((function(t){return Object.getOwnPropertyNames(e).reduce((function(e,n,r){return S(S({},e),{},_({},n,t[r]))}),{})}))}function Y(e){return e instanceof B}var X={of:function(e){return F(e)?G(e):Y(e)?e:H(e)},error:function(e){return K(e)},loading:function(){return Q()},all:$,isLoadable:Y},J={loadableWithValue:H,loadableWithError:K,loadableWithPromise:G,loadableLoading:Q,loadableAll:$,isLoadable:Y,RecoilLoadable:X},Z=J.loadableWithValue,ee=J.loadableWithError,te=J.loadableWithPromise,ne=J.loadableLoading,re=J.loadableAll,ie=J.isLoadable,ae=J.RecoilLoadable,oe=Object.freeze({__proto__:null,loadableWithValue:Z,loadableWithError:ee,loadableWithPromise:te,loadableLoading:ne,loadableAll:re,isLoadable:ie,RecoilLoadable:ae}),ue=(new Map).set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function se(e){var t;return null!==(t=ue.get(e))&&void 0!==t&&t}se.setPass=function(e){ue.set(e,!0)},se.setFail=function(e){ue.set(e,!1)},se.clear=function(){ue.clear()};var ce,le,fe,he=se,de=null!==(ce=t.createMutableSource)&&void 0!==ce?ce:t.unstable_createMutableSource,pe=null!==(le=t.useMutableSource)&&void 0!==le?le:t.unstable_useMutableSource,ve=null!==(fe=t.useSyncExternalStore)&&void 0!==fe?fe:t.unstable_useSyncExternalStore;var me={createMutableSource:de,useMutableSource:pe,useSyncExternalStore:ve,reactMode:function(){return he("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:he("recoil_sync_external_store")&&null!=ve?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:he("recoil_mutable_source")&&null!=pe&&"undefined"!==typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?he("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:he("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}},ye=function(){function e(t){A(this,e),j(this,"key",void 0),this.key=t}return O(e,[{key:"toJSON",value:function(){return{key:this.key}}}]),e}(),ge=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n)}(ye),ke=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n)}(ye);var be={AbstractRecoilValue:ye,RecoilState:ge,RecoilValueReadOnly:ke,isRecoilValue:function(e){return e instanceof ge||e instanceof ke}},we=be.AbstractRecoilValue,_e=be.RecoilState,xe=be.RecoilValueReadOnly,Se=be.isRecoilValue,Te=Object.freeze({__proto__:null,AbstractRecoilValue:we,RecoilState:_e,RecoilValueReadOnly:xe,isRecoilValue:Se});var Ee=function(e){};var Ie=function(e,t){return b().mark((function n(){var r,i,a,o;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,i=w(e),n.prev=2,i.s();case 4:if((a=i.n()).done){n.next=10;break}return o=a.value,n.next=8,t(o,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()};var Ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.error,null},Ae=Ce,Re=O((function e(){A(this,e)})),Oe=new Re,Ne=new Map,Pe=new Map;var De=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n)}(g(Error));var Le=new Map;function Me(e){return Le.get(e)}var Ve={nodes:Ne,recoilValues:Pe,registerNode:function(e){if(Ne.has(e.key)){var t='Duplicate atom key "'.concat(e.key,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}Ne.set(e.key,e);var n=null==e.set?new Te.RecoilValueReadOnly(e.key):new Te.RecoilState(e.key);return Pe.set(e.key,n),n},getNode:function(e){var t=Ne.get(e);if(null==t)throw new De('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return Ne.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(he("recoil_memory_managament_2020")){var n,r=Ne.get(e);if(null!==r&&void 0!==r&&null!==(t=r.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(r))Ne.delete(e),null===(n=Me(e))||void 0===n||n(),Le.delete(e)}},setConfigDeletionHandler:function(e,t){he("recoil_memory_managament_2020")&&(void 0===t?Le.delete(e):Le.set(e,t))},getConfigDeletionHandler:Me,recoilValuesForKeys:function(e){return Ie(e,(function(e){return U(Pe.get(e))}))},NodeMissingError:De,DefaultValue:Re,DEFAULT_VALUE:Oe};var Fe={enqueueExecution:function(e,t){t()}};var Ue=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,a=r/2,o=r/4,u={},s=function(e){return function(){return e}},c=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,a=e.length;i<a;++i){r=(r<<5)-r+e.charCodeAt(i)|0}return r},l=function(e,t){return t>>>e&i},f=function(e){return 1<<e},h=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&e+(e>>16)}(e&t-1)},d=function(e,t,n,r){var i=r;if(!e){var a=r.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=r[o]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,a=0,o=n;if(e)i=a=t;else for(o=new Array(r);i<t;)o[a++]=n[i++];for(++i;i<=r;)o[a++]=n[i++];return e&&(o.length=r),o},v={__hamt_isEmpty:!0},m=function(e){return e===v||e&&e.__hamt_isEmpty},y=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:x}},g=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:S}},k=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:T}},b=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:E}},w=function e(t,n,r,i,a,o){if(r===a)return g(t,r,[o,i]);var u=l(n,r),s=l(n,a);return k(t,f(u)|f(s),u===s?[e(t,n+5,r,i,a,o)]:u<s?[i,o]:[o,i])},_=function(e,t){return e===t.edit},x=function(e,t,n,r,i,a,o){if(t(a,this.key)){var s=r(this.value);return s===this.value?this:s===u?(--o.value,v):_(e,this)?(this.value=s,this):y(e,i,a,s)}var c=r();return c===u?this:(++o.value,w(e,n,this.hash,this,i,y(e,i,a,c)))},S=function(e,t,n,r,i,a,o){if(i===this.hash){var s=function(e,t,n,r,i,a,o,s){for(var c=i.length,l=0;l<c;++l){var f=i[l];if(n(o,f.key)){var h=f.value,v=a(h);return v===h?i:v===u?(--s.value,p(e,l,i)):d(e,l,y(t,r,o,v),i)}}var m=a();return m===u?i:(++s.value,d(e,c,y(t,r,o,m),i))}(_(e,this),e,t,this.hash,this.children,r,a,o);return s===this.children?this:s.length>1?g(e,this.hash,s):s[0]}var c=r();return c===u?this:(++o.value,w(e,n,this.hash,this,i,y(e,i,a,c)))},T=function(e,t,n,r,i,o,u){var s=this.mask,c=this.children,y=l(n,i),g=f(y),w=h(s,g),x=s&g,S=x?c[w]:v,T=S._modify(e,t,n+5,r,i,o,u);if(S===T)return this;var E,I=_(e,this),C=s,A=void 0;if(x&&m(T)){if(!(C&=~g))return v;if(c.length<=2&&((E=c[1^w])===v||1===E.type||2===E.type))return c[1^w];A=p(I,w,c)}else if(x||m(T))A=d(I,w,T,c);else{if(c.length>=a)return function(e,t,n,r,i){for(var a=[],o=r,u=0,s=0;o;++s)1&o&&(a[s]=i[u++]),o>>>=1;return a[t]=n,b(e,u+1,a)}(e,y,T,s,c);C|=g,A=function(e,t,n,r){var i=r.length;if(e){for(var a=i;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var o=0,u=0,s=new Array(i+1);o<t;)s[u++]=r[o++];for(s[t]=n;o<i;)s[++u]=r[o++];return s}(I,w,T,c)}return I?(this.mask=C,this.children=A,this):k(e,C,A)},E=function(e,t,n,r,i,a,u){var s=this.size,c=this.children,f=l(n,i),h=c[f],p=(h||v)._modify(e,t,n+5,r,i,a,u);if(h===p)return this;var y=_(e,this),g=void 0;if(m(h)&&!m(p))++s,g=d(y,f,p,c);else if(!m(h)&&m(p)){if(--s<=o)return function(e,t,n,r){for(var i=new Array(t-1),a=0,o=0,u=0,s=r.length;u<s;++u)if(u!==n){var c=r[u];c&&!m(c)&&(i[a++]=c,o|=1<<u)}return k(e,o,i)}(e,s,f,c);g=d(y,f,v,c)}else g=d(y,f,p,c);return y?(this.size=s,this.children=g,this):b(e,s,g)};function I(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}v._modify=function(e,t,n,r,i,a,o){var s=r();return s===u?v:(++o.value,y(e,i,a,s))},I.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new I(this._editable,this._edit,this._config,e,t)};var C=n.tryGetHash=function(e,t,n,r){for(var i=r._root,a=0,o=r._config.keyEq;;)switch(i.type){case 1:return o(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var u=i.children,s=0,c=u.length;s<c;++s){var d=u[s];if(o(n,d.key))return d.value}return e;case 3:var p=l(a,t),v=f(p);if(i.mask&v){i=i.children[h(i.mask,v)],a+=5;break}return e;case 4:if(i=i.children[l(a,t)]){a+=5;break}return e;default:return e}};I.prototype.tryGetHash=function(e,t,n){return C(e,t,n,this)};var A=n.tryGet=function(e,t,n){return C(e,n._config.hash(t),t,n)};I.prototype.tryGet=function(e,t){return A(e,t,this)};var R=n.getHash=function(e,t,n){return C(void 0,e,t,n)};I.prototype.getHash=function(e,t){return R(e,t,this)};n.get=function(e,t){return C(void 0,t._config.hash(e),e,t)};I.prototype.get=function(e,t){return A(t,e,this)};var O=n.has=function(e,t,n){return C(u,e,t,n)!==u};I.prototype.hasHash=function(e,t){return O(e,t,this)};var N=n.has=function(e,t){return O(t._config.hash(e),e,t)};I.prototype.has=function(e){return N(e,this)};var P=function(e,t){return e===t};n.make=function(e){return new I(0,0,{keyEq:e&&e.keyEq||P,hash:e&&e.hash||c},v,0)},n.empty=n.make();var D=n.isEmpty=function(e){return e&&!!m(e._root)};I.prototype.isEmpty=function(){return D(this)};var L=n.modifyHash=function(e,t,n,r){var i={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(a,i.value)};I.prototype.modifyHash=function(e,t,n){return L(n,e,t,this)};var M=n.modify=function(e,t,n){return L(e,n._config.hash(t),t,n)};I.prototype.modify=function(e,t){return M(t,e,this)};var V=n.setHash=function(e,t,n,r){return L(s(n),e,t,r)};I.prototype.setHash=function(e,t,n){return V(e,t,n,this)};var F=n.set=function(e,t,n){return V(n._config.hash(e),e,t,n)};I.prototype.set=function(e,t){return F(e,t,this)};var U=s(u),j=n.removeHash=function(e,t,n){return L(U,e,t,n)};I.prototype.removeHash=I.prototype.deleteHash=function(e,t){return j(e,t,this)};var B=n.remove=function(e,t){return j(t._config.hash(e),e,t)};I.prototype.remove=I.prototype.delete=function(e){return B(e,this)};var z=n.beginMutation=function(e){return new I(e._editable+1,e._edit+1,e._config,e._root,e._size)};I.prototype.beginMutation=function(){return z(this)};var q=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};I.prototype.endMutation=function(){return q(this)};var W=n.mutate=function(e,t){var n=z(t);return e(n),q(n)};I.prototype.mutate=function(e){return W(e,this)};var H=function(e){return e&&K(e[0],e[1],e[2],e[3],e[4])},K=function(e,t,n,r,i){for(;n<e;){var a=t[n++];if(a&&!m(a))return G(a,r,[e,t,n,r,i])}return H(i)},G=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return K(r.length,r,0,t,n);default:return H(n)}},Q={done:!0};function $(e){this.v=e}$.prototype.next=function(){if(!this.v)return Q;var e=this.v;return this.v=H(e.rest),e},$.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new $(G(e._root,t))},X=function(e){return[e.key,e.value]},J=n.entries=function(e){return Y(e,X)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return J(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return Y(e,Z)};I.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=I.prototype.values=function(e){return Y(e,te)};I.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],a=void 0;a=i.pop();)for(var o=0,u=a.length;o<u;){var s=a[o++];s&&s.type&&(1===s.type?t=e(t,s.value,s.key):i.push(s.children))}return t};I.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};I.prototype.forEach=function(e){return ie(e,this)};var ae=n.count=function(e){return e._size};I.prototype.count=function(){return ae(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n})),je=function(){function e(t){A(this,e),j(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return O(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return ze(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),Be=function(){function e(t){if(A(this,e),j(this,"_hamt",Ue.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,i=w(t.entries());try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];this._hamt.set(o,u)}}catch(c){i.e(c)}finally{i.f()}}}return O(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return ze(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function ze(e){return he("recoil_hamt_2020")?new Be(e):new je(e)}var qe=ze;var We=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=w(e);try{e:for(o.s();!(a=o.n()).done;){var u,s=a.value,c=w(r);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(l.has(s))continue e}}catch(f){c.e(f)}finally{c.f()}t.add(s)}}catch(f){o.e(f)}finally{o.f()}return t};var He=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function Ke(e,t,n,r){var i=n.nodeDeps,a=n.nodeToNodeSubscriptions,o=i.get(e);if(!o||!r||o===r.nodeDeps.get(e)){i.set(e,t);var u,s=w(null==o?t:We(t,o));try{for(s.s();!(u=s.n()).done;){var c=u.value;a.has(c)||a.set(c,new Set),U(a.get(c)).add(e)}}catch(p){s.e(p)}finally{s.f()}if(o){var l,f=w(We(o,t));try{for(f.s();!(l=f.n()).done;){var h=l.value;if(!a.has(h))return;var d=U(a.get(h));d.delete(e),0===d.size&&a.delete(h)}}catch(p){f.e(p)}finally{f.f()}}}}var Ge=function(e){return{nodeDeps:He(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:He(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},Qe=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},$e=function(e,t,n,r){var i,a,o,u,s=n.getState();r!==s.currentTree.version&&r!==(null===(i=s.nextTree)||void 0===i?void 0:i.version)&&r!==(null===(a=s.previousTree)||void 0===a?void 0:a.version)&&Ae("Tried to save dependencies to a discarded tree");var c=n.getGraph(r);if(Ke(e,t,c),r===(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&Ke(e,t,n.getGraph(s.currentTree.version),c),r===(null===(u=s.previousTree)||void 0===u?void 0:u.version)||r===s.currentTree.version){var l,f=null===(l=s.nextTree)||void 0===l?void 0:l.version;if(void 0!==f)Ke(e,t,n.getGraph(f),c)}},Ye=0,Xe=0,Je=0,Ze=function(){return Ye++},et=function(){return Xe++},tt=function(){return Je++},nt=Object.freeze({__proto__:null,persistentMap:qe}).persistentMap,rt=Qe,it=Ze;function at(){var e=it();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:nt(),nonvalidatedAtoms:nt()}}var ot={makeEmptyTreeState:at,makeEmptyStoreState:function(){var e=at();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,rt()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:it},ut=O((function e(){A(this,e)}));var st={RetentionZone:ut,retentionZone:function(){return new ut}};var ct=function(e,t){var n=new Set(e);return n.add(t),n};function lt(e,t){var n,r,i,a;return b().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=0,r=w(e),o.prev=2,r.s();case 4:if((i=r.n()).done){o.next=11;break}if(a=i.value,!t(a,n++)){o.next=9;break}return o.next=9,a;case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),r.e(o.t0);case 16:return o.prev=16,r.f(),o.finish(16);case 19:case"end":return o.stop()}}),L,null,[[2,13,16,19]])}var ft=lt;var ht=function(e,t){return new Proxy(e,{get:function(e,n){return!(n in e)&&n in t&&(e[n]=t[n]()),e[n]},ownKeys:function(e){return Object.keys(e)}})},dt=Ve.getNode,pt=Ve.getNodeMaybe,vt=Ve.recoilValuesForKeys,mt=st.RetentionZone,yt=ct,gt=Object.freeze(new Set),kt=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n)}(g(Error));function bt(e,t,n,r){var i=e.getState();if(!i.nodeCleanupFunctions.has(n)){var a=dt(n),o=function(e,t,n){if(!he("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function i(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof mt)i(n);else if(Array.isArray(n)){var a,o=w(n);try{for(o.s();!(a=o.n()).done;)i(a.value)}catch(u){o.e(u)}finally{o.f()}}return function(){if(he("recoil_memory_managament_2020")){var r=e.getState().retention;if(n instanceof mt)o(n);else if(Array.isArray(n)){var i,a=w(n);try{for(a.s();!(i=a.n()).done;)o(i.value)}catch(u){a.e(u)}finally{a.f()}}}function o(e){var n=r.nodesRetainedByZone.get(e);null===n||void 0===n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}}}(e,n,a.retainedBy),u=a.init(e,t,r);i.nodeCleanupFunctions.set(n,(function(){u(),o()}))}}function wt(e,t,n){return dt(n).peek(e,t)}function _t(e,t,n){for(var r=new Set,i=Array.from(n),a=e.getGraph(t.version),o=i.pop();o;o=i.pop()){var u;r.add(o);var s,c=w(null!==(u=a.nodeToNodeSubscriptions.get(o))&&void 0!==u?u:gt);try{for(c.s();!(s=c.n()).done;){var l=s.value;r.has(l)||i.push(l)}}catch(f){c.e(f)}finally{c.f()}}return r}var xt=function(e,t,n){return bt(e,t,n,"get"),dt(n).get(e,t)},St=wt,Tt=function(e,t,n,r){var i=dt(n);if(null==i.set)throw new kt("Attempt to set read-only RecoilValue: ".concat(n));var a=i.set;return bt(e,t,n,"set"),a(e,t,r)},Et=function(e,t,n){bt(e,e.getState().currentTree,t,n)},It=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},Ct=function(e,t,n){var r,i=pt(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),S(S({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:yt(e.dirtyAtoms,t)})},At=function(e,t,n){var r=e.getState(),i=e.getGraph(t.version),a=dt(n).nodeType;return ht({type:a},{loadable:function(){return wt(e,t,n)},isActive:function(){return r.knownAtoms.has(n)||r.knownSelectors.has(n)},isSet:function(){return"selector"!==a&&t.atomValues.has(n)},isModified:function(){return t.dirtyAtoms.has(n)},deps:function(){var e;return vt(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:function(){var i,a;return{nodes:vt(ft(_t(e,t,new Set([n])),(function(e){return e!==n}))),components:Ie(null!==(i=null===(a=r.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==i?i:[],(function(e){return{name:s(e,1)[0]}}))}}})},Rt=_t,Ot=null;var Nt=function(e){Ot=e},Pt=function(){var e;null===(e=Ot)||void 0===e||e()},Dt=Rt,Lt=xt,Mt=Tt,Vt=tt,Ft=Ve.getNode,Ut=Ve.getNodeMaybe,jt=Ve.DefaultValue,Bt=me.reactMode,zt=Te.AbstractRecoilValue,qt=Te.RecoilState,Wt=Te.RecoilValueReadOnly,Ht=Te.isRecoilValue,Kt=Pt;function Gt(e,t,n){if("set"===n.type){var r,i=n.recoilValue,a=function(e,t,n,r){var i=n.key;if("function"===typeof r){var a=Lt(e,t,i);if("loading"===a.state){var o='Tried to set atom or selector "'.concat(i,'" using an updater function while the current state is pending, this is not currently supported.');throw Ae(o),V(o)}if("hasError"===a.state)throw a.contents;return r(a.contents)}return r}(e,t,i,n.valueOrUpdater),o=w(Mt(e,t,i.key,a).entries());try{for(o.s();!(r=o.n()).done;){var u=s(r.value,2);Qt(t,u[0],u[1])}}catch(p){o.e(p)}finally{o.f()}}else if("setLoadable"===n.type){Qt(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var c=n.recoilValue.key;t.dirtyAtoms.add(c)}else if("setUnvalidated"===n.type){var l,f=n.recoilValue.key,h=n.unvalidatedValue,d=Ut(f);null===d||void 0===d||null===(l=d.invalidate)||void 0===l||l.call(d,t),t.atomValues.delete(f),t.nonvalidatedAtoms.set(f,h),t.dirtyAtoms.add(f)}else Ae("Unknown action ".concat(n.type))}function Qt(e,t,n){"hasValue"===n.state&&n.contents instanceof jt?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function $t(e,t){e.replaceState((function(n){var r,i=Jt(n),a=w(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;Gt(e,i,o)}}catch(u){a.e(u)}finally{a.f()}return Zt(e,i),Kt(),i}))}function Yt(e,t){if(Xt.length){var n=Xt[Xt.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else $t(e,[t])}var Xt=[];function Jt(e){return S(S({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function Zt(e,t){var n,r=w(Dt(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var i,a,o=n.value;null===(i=Ut(o))||void 0===i||null===(a=i.invalidate)||void 0===a||a.call(i,t)}}catch(u){r.e(u)}finally{r.f()}}function en(e,t,n){Yt(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var tn={RecoilValueReadOnly:Wt,AbstractRecoilValue:zt,RecoilState:qt,getRecoilValueAsLoadable:function(e,t){var n,r,i=t.key,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,o=e.getState();a.version!==o.currentTree.version&&a.version!==(null===(n=o.nextTree)||void 0===n?void 0:n.version)&&a.version!==(null===(r=o.previousTree)||void 0===r?void 0:r.version)&&Ae("Tried to read from a discarded tree");var u=Lt(e,a,i);return"loading"===u.state&&u.contents.catch((function(){})),u},setRecoilValue:en,setRecoilValueLoadable:function(e,t,n){if(n instanceof jt)return en(e,t,n);Yt(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){Yt(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){Yt(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=Vt(),o=e.getState();o.nodeToComponentSubscriptions.has(r)||o.nodeToComponentSubscriptions.set(r,new Map),U(o.nodeToComponentSubscriptions.get(r)).set(a,[null!==i&&void 0!==i?i:"<not captured>",n]);var u=Bt();if(u.early&&("LEGACY"===u.mode||"MUTABLE_SOURCE"===u.mode)){var s=e.getState().nextTree;s&&s.dirtyAtoms.has(r)&&n(s)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(a)?(n.delete(a),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):Ae("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:Ht,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof jt?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return Xt.push(e),function(){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2);$t(r[0],r[1])}}catch(i){n.e(i)}finally{n.f()}Xt.pop()!==e&&Ae("Incorrect order of batch popping")}},writeLoadableToTreeState:Qt,invalidateDownstreams:Zt,copyTreeState:Jt,refreshRecoilValue:function(e,t){var n,r=e.getState().currentTree,i=Ft(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var nn=function(e,t,n){for(var r=e.entries(),i=r.next();!i.done;){var a=i.value;if(t.call(n,a[1],a[0],e))return!0;i=r.next()}return!1},rn=It,an=Ve.deleteNodeConfigIfPossible,on=Ve.getNode,un=st.RetentionZone,sn=new Set;function cn(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)Ae("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var i,a=new Set,o=w(t);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(u instanceof un){var s,c=w(fn(n,u));try{for(c.s();!(s=c.n()).done;){var l=s.value;a.add(l)}}catch(p){c.e(p)}finally{c.f()}}else a.add(u)}}catch(p){o.e(p)}finally{o.f()}var f,h=function(e,t){var n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),a=new Set,o=new Set;return u(t),a;function u(t){var s,c=new Set,l=function(e,t,n,r,i){var a=e.getGraph(t.version),o=[],u=new Set;for(;n.size>0;)s(U(n.values().next().value));return o;function s(e){if(r.has(e)||i.has(e))n.delete(e);else if(!u.has(e)){var t=a.nodeToNodeSubscriptions.get(e);if(t){var c,l=w(t);try{for(l.s();!(c=l.n()).done;){s(c.value)}}catch(p){l.e(p)}finally{l.f()}}u.add(e),n.delete(e),o.push(e)}}}(e,r,t,a,o),f=w(l);try{for(f.s();!(s=f.n()).done;){var h,d=s.value;if("recoilRoot"!==on(d).retainedBy)if((null!==(h=n.retention.referenceCounts.get(d))&&void 0!==h?h:0)>0)o.add(d);else if(hn(d).some((function(e){return n.retention.referenceCounts.get(e)})))o.add(d);else{var v=i.nodeToNodeSubscriptions.get(d);v&&nn(v,(function(e){return o.has(e)}))?o.add(d):(a.add(d),c.add(d))}else o.add(d)}}catch(p){f.e(p)}finally{f.f()}var m,y=new Set,g=w(c);try{for(g.s();!(m=g.n()).done;){var k,b=m.value,_=w(null!==(x=i.nodeDeps.get(b))&&void 0!==x?x:sn);try{for(_.s();!(k=_.n()).done;){var x,S=k.value;a.has(S)||y.add(S)}}catch(p){_.e(p)}finally{_.f()}}}catch(p){g.e(p)}finally{g.f()}y.size&&u(y)}}(e,a),d=w(h);try{for(d.s();!(f=d.n()).done;){ln(e,r,f.value)}}catch(p){d.e(p)}finally{d.f()}}}function ln(e,t,n){if(he("recoil_memory_managament_2020")){rn(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var i,a=w(hn(n));try{for(a.s();!(i=a.n()).done;){var o,u=i.value;null===(o=r.retention.nodesRetainedByZone.get(u))||void 0===o||o.delete(n)}}catch(p){a.e(p)}finally{a.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var s=r.graphsByVersion.get(t.version);if(s){var c=s.nodeDeps.get(n);if(void 0!==c){s.nodeDeps.delete(n);var l,f=w(c);try{for(f.s();!(l=f.n()).done;){var h,d=l.value;null===(h=s.nodeToNodeSubscriptions.get(d))||void 0===h||h.delete(n)}}catch(p){f.e(p)}finally{f.f()}}s.nodeToNodeSubscriptions.delete(n)}an(n)}}function fn(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:sn}function hn(e){var t=on(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof un?[t]:t}function dn(e,t){he("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):cn(e,new Set([t]))}(e,t))}var pn=12e4,vn=function(e,t,n){var r;if(he("recoil_memory_managament_2020")){var i=e.getState().retention.referenceCounts,a=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===a?dn(e,t):i.set(t,a)}},mn=function(e){if(he("recoil_memory_managament_2020")){var t=e.getState();cn(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},yn=function(e){return void 0===e?"recoilRoot":e},gn=N.unstable_batchedUpdates,kn=tn.batchStart,bn={unstable_batchedUpdates:{unstable_batchedUpdates:gn}.unstable_batchedUpdates}.unstable_batchedUpdates,wn=function(e){bn((function(){var t=function(){};try{t=kn(),e()}finally{t()}}))};function _n(e){var t,n,r,i,a,o;return b().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=w(e),u.prev=1,t.s();case 3:if((n=t.n()).done){u.next=24;break}r=n.value,i=w(r),u.prev=6,i.s();case 8:if((a=i.n()).done){u.next=14;break}return o=a.value,u.next=12,o;case 12:u.next=8;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(6),i.e(u.t0);case 19:return u.prev=19,i.f(),u.finish(19);case 22:u.next=3;break;case 24:u.next=29;break;case 26:u.prev=26,u.t1=u.catch(1),t.e(u.t1);case 29:return u.prev=29,t.f(),u.finish(29);case 32:case"end":return u.stop()}}),M,null,[[1,26,29,32],[6,16,19,22]])}var xn=_n,Sn="undefined"===typeof Window||"undefined"===typeof window,Tn="undefined"!==typeof navigator&&"ReactNative"===navigator.product,En={isSSR:Sn,isReactNative:Tn,isWindow:function(e){return!Sn&&(e===window||e instanceof Window)}};var In=function(e,t){var n,r;return[function(){var i=t.apply(void 0,arguments);return n===i?r:(n=i,r=e.apply(void 0,arguments))},function(){n=null}]},Cn=wn,An=Et,Rn=At,On=Qe,Nn=et,Pn=Ve.DEFAULT_VALUE,Dn=Ve.recoilValues,Ln=Ve.recoilValuesForKeys,Mn=tn.AbstractRecoilValue,Vn=tn.getRecoilValueAsLoadable,Fn=tn.setRecoilValue,Un=tn.setUnvalidatedRecoilValue,jn=vn,Bn=Nt,zn=ot.getNextTreeStateVersion,qn=ot.makeEmptyStoreState,Wn=En.isSSR,Hn=In,Kn=function(){function e(t,n){var r=this;A(this,e),j(this,"_store",void 0),j(this,"_refCount",1),j(this,"getLoadable",(function(e){return r.checkRefCount_INTERNAL(),Vn(r._store,e)})),j(this,"getPromise",(function(e){return r.checkRefCount_INTERNAL(),r.getLoadable(e).toPromise()})),j(this,"getNodes_UNSTABLE",(function(e){if(r.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=r._store.getState().currentTree;return Ln(t.dirtyAtoms)}var n=r._store.getState().knownAtoms,i=r._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?Dn.values():!0===e.isInitialized?Ln(xn([n,i])):ft(Dn.values(),(function(e){var t=e.key;return!n.has(t)&&!i.has(t)}))})),j(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return r.checkRefCount_INTERNAL(),Rn(r._store,r._store.getState().currentTree,t)})),j(this,"map",(function(e){r.checkRefCount_INTERNAL();var t=new Jn(r,Cn);return e(t),t})),j(this,"asyncMap",function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.checkRefCount_INTERNAL(),(n=new Jn(r,Cn)).retain(),e.next=5,t(n);case 5:return n.autoRelease_INTERNAL(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={storeID:Nn(),parentStoreID:n,getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return U(n.get(e));var r=On();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw V("Cannot subscribe to Snapshots")}};var i,a=w(this._store.getState().knownAtoms);try{for(a.s();!(i=a.n()).done;){var o=i.value;An(this._store,o,"get"),jn(this._store,o,1)}}catch(u){a.e(u)}finally{a.f()}this.autoRelease_INTERNAL()}return O(e,[{key:"retain",value:function(){var e=this;this._refCount<=0&&Ae("Attempt to retain() Snapshot that was already released."),this._refCount++;var t=!1;return function(){t||(t=!0,e._release())}}},{key:"autoRelease_INTERNAL",value:function(){var e=this;Wn||window.setTimeout((function(){return e._release()}),10)}},{key:"_release",value:function(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((function(e){return e()})),this._store.getState().nodeCleanupFunctions.clear(),!he("recoil_memory_managament_2020"))return}else this._refCount}},{key:"isRetained",value:function(){return this._refCount>0}},{key:"checkRefCount_INTERNAL",value:function(){he("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}},{key:"getStoreID",value:function(){return this.checkRefCount_INTERNAL(),this._store.storeID}}]),e}();function Gn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),i=n?zn():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:S({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Ie(r.nodeCleanupFunctions.entries(),(function(e){return[s(e,1)[0],function(){}]})))}}var Qn=Hn((function(e,t){var n,r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:U(r.previousTree);return new Kn(Gn(e,i),e.storeID)}),(function(e,t){var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)})),$n=s(Qn,2),Yn=$n[0],Xn=$n[1];Bn(Xn);var Jn=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),j(T(i=t.call(this,Gn(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID())),"_batch",void 0),j(T(i),"set",(function(e,t){i.checkRefCount_INTERNAL();var n=i.getStore_INTERNAL();i._batch((function(){jn(n,e.key,1),Fn(i.getStore_INTERNAL(),e,t)}))})),j(T(i),"reset",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();i._batch((function(){jn(t,e.key,1),Fn(i.getStore_INTERNAL(),e,Pn)}))})),j(T(i),"setUnvalidatedAtomValues_DEPRECATED",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();Cn((function(){var n,r=w(e.entries());try{for(r.s();!(n=r.n()).done;){var i=s(n.value,2),a=i[0],o=i[1];jn(t,a,1),Un(t,new Mn(a),o)}}catch(u){r.e(u)}finally{r.f()}}))})),i._batch=r,i}return O(n)}(Kn),Zn={Snapshot:Kn,MutableSnapshot:Jn,freshSnapshot:function(e){var t=new Kn(qn());return null!=e?t.map(e):t},cloneSnapshot:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",n=Yn(e,t);return n.isRetained()?n:(Xn(),Yn(e,t))}},er=Zn.Snapshot,tr=Zn.MutableSnapshot,nr=Zn.freshSnapshot,rr=Zn.cloneSnapshot,ir=Object.freeze({__proto__:null,Snapshot:er,MutableSnapshot:tr,freshSnapshot:nr,cloneSnapshot:rr});var ar=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,u=a[i],s=w(u);try{for(s.s();!(o=s.n()).done;){var c=o.value;e.add(c)}}catch(l){s.e(l)}finally{s.f()}}return e},or=t.useRef;var ur=function(e){var t=or(e);return t.current===e&&"function"===typeof e&&(t.current=e()),t},sr=ot.getNextTreeStateVersion,cr=ot.makeEmptyStoreState,lr=It,fr=Rt,hr=Et,dr=Tt,pr=Ct,vr=Qe,mr=Ge,yr=et,gr=me.createMutableSource,kr=me.reactMode,br=tn.applyAtomValueWrites,wr=mn,_r=ir.freshSnapshot,xr=t.useCallback,Sr=t.useContext,Tr=t.useEffect,Er=t.useMemo,Ir=t.useRef,Cr=t.useState;function Ar(){throw V("This component must be used inside a <RecoilRoot> component.")}var Rr=Object.freeze({storeID:yr(),getState:Ar,replaceState:Ar,getGraph:Ar,subscribeToTransactions:Ar,addTransactionMetadata:Ar}),Or=!1;function Nr(e){if(Or)throw V("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){he("recoil_memory_managament_2020")&&he("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&wr(e);var n=t.currentTree.version,r=sr();t.nextTree=S(S({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,mr(U(t.graphsByVersion.get(n))))}}var Pr=t.createContext({current:Rr}),Dr=function(){return Sr(Pr)},Lr=t.createContext(null);function Mr(e,t,n){var r,i=w(fr(e,n,n.dirtyAtoms));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.nodeToComponentSubscriptions.get(a);if(o){var u,c=w(o);try{for(c.s();!(u=c.n()).done;){var l=s(u.value,2),f=(l[0],s(l[1],2));f[0];(0,f[1])(n)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){i.e(h)}finally{i.f()}}function Vr(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var i,a=w(t.nodeTransactionSubscriptions);try{for(a.s();!(i=a.n()).done;){var o=s(i.value,2),u=o[0],c=o[1];if(r.has(u)){var l,f=w(c);try{for(f.s();!(l=f.n()).done;){var h=s(l.value,2);h[0];(0,h[1])(e)}}catch(m){f.e(m)}finally{f.f()}}}}catch(m){a.e(m)}finally{a.f()}var d,p=w(t.transactionSubscriptions);try{for(p.s();!(d=p.n()).done;){var v=s(d.value,2);v[0];(0,v[1])(e)}}catch(m){p.e(m)}finally{p.f()}(!kr().early||t.suspendedComponentResolvers.size>0)&&(Mr(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function Fr(e){var t=e.setNotifyBatcherOfChange,n=Dr(),r=s(Cr([]),2)[1];return t((function(){return r({})})),Tr((function(){return t((function(){return r({})})),function(){t((function(){}))}}),[t]),Tr((function(){Fe.enqueueExecution("Batcher",(function(){!function(e){var t=e.getState();t.commitDepth++;try{var n=t.nextTree;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,Vr(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):Ae("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,he("recoil_memory_managament_2020")&&null==n&&wr(e)}finally{t.commitDepth--}}(n.current)}))})),null}var Ur=0;function jr(e){var n,r=e.initializeState_DEPRECATED,i=e.initializeState,a=e.store_INTERNAL,o=e.children,u=function(e){var t=n.current.graphsByVersion;if(t.has(e))return U(t.get(e));var r=vr();return t.set(e,r),r},s=function(e,t){if(null==t){var n=d.current.getState().transactionSubscriptions,r=Ur++;return n.set(r,e),{release:function(){n.delete(r)}}}var i=d.current.getState().nodeTransactionSubscriptions;i.has(t)||i.set(t,new Map);var a=Ur++;return U(i.get(t)).set(a,e),{release:function(){var e=i.get(t);e&&(e.delete(a),0===e.size&&i.delete(t))}}},c=function(e){Nr(d.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];U(d.current.getState().nextTree).transactionMetadata[r]=e[r]}},l=function(e){Nr(d.current);var t,r=U(n.current.nextTree);try{Or=!0,t=e(r)}finally{Or=!1}t!==r&&(n.current.nextTree=t,kr().early&&Mr(d.current,n.current,t),U(f.current)())},f=Ir(null),h=xr((function(e){f.current=e}),[f]),d=ur((function(){return null!==a&&void 0!==a?a:{storeID:yr(),getState:function(){return n.current},replaceState:l,getGraph:u,subscribeToTransactions:s,addTransactionMetadata:c}}));null!=a&&(d.current=a),n=ur((function(){return null!=r?function(e,t){var n=cr();return t({set:function(t,r){var i,a=n.currentTree,o=dr(e,a,t.key,r),u=new Set(o.keys()),s=a.nonvalidatedAtoms.clone(),c=w(u);try{for(c.s();!(i=c.n()).done;){var l=i.value;s.delete(l)}}catch(f){c.e(f)}finally{c.f()}n.currentTree=S(S({},a),{},{dirtyAtoms:ar(a.dirtyAtoms,u),atomValues:br(a.atomValues,o),nonvalidatedAtoms:s})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=pr(n.currentTree,t,e)}))}}),n}(d.current,r):null!=i?function(e){var t=_r(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((function(e){return e()})),n.nodeCleanupFunctions.clear(),n}(i):cr()}));var p=Er((function(){return null===gr||void 0===gr?void 0:gr(n,(function(){return n.current.currentTree.version}))}),[n]);return Tr((function(){var e,t=d.current,n=w(new Set(t.getState().knownAtoms));try{for(n.s();!(e=n.n()).done;){var r=e.value;hr(t,r,"get")}}catch(i){n.e(i)}finally{n.f()}return function(){var e,n=w(t.getState().knownAtoms);try{for(n.s();!(e=n.n()).done;){var r=e.value;lr(t,r)}}catch(i){n.e(i)}finally{n.f()}}}),[d]),t.createElement(Pr.Provider,{value:d},t.createElement(Lr.Provider,{value:p},t.createElement(Fr,{setNotifyBatcherOfChange:h}),o))}var Br=function(e){var n=e.override,r=f(e,P),i=Dr();return!1===n&&i.current!==Rr?e.children:t.createElement(jr,r)},zr=Dr,qr=function(){var e=Sr(Lr);return null==e&&Ee("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},Wr=function(){return Dr().current.storeID};var Hr=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},Kr=t.useEffect,Gr=t.useRef;var Qr=function(e){var t=Gr();return Kr((function(){t.current=e})),t.current},$r=zr,Yr=pn,Xr=vn,Jr=st.RetentionZone,Zr=t.useEffect,ei=t.useRef,ti=En.isSSR;var ni=function(e){if(he("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof Jr?e:e.key})),n=$r();Zr((function(){if(he("recoil_memory_managament_2020")){var e=n.current;if(r.current&&!ti)window.clearTimeout(r.current),r.current=null;else{var i,a=w(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;Xr(e,o,1)}}catch(u){a.e(u)}finally{a.f()}}return function(){var n,r=w(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;Xr(e,i,-1)}}catch(u){r.e(u)}finally{r.f()}}}}),[n].concat(l(t)));var r=ei(),i=Qr(t);if(!ti&&(void 0===i||!Hr(i,t))){var a,o=n.current,u=w(t);try{for(u.s();!(a=u.n()).done;){var s=a.value;Xr(o,s,1)}}catch(d){u.e(d)}finally{u.f()}if(i){var c,f=w(i);try{for(f.s();!(c=f.n()).done;){var h=c.value;Xr(o,h,-1)}}catch(d){f.e(d)}finally{f.f()}}r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((function(){r.current=null;var e,n=w(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;Xr(o,i,-1)}}catch(d){n.e(d)}finally{n.f()}}),Yr)}}(e)};var ri=function(){return"<component name not available>"},ii=Ve.DEFAULT_VALUE,ai=me.reactMode,oi=me.useMutableSource,ui=me.useSyncExternalStore,si=qr,ci=zr,li=(Te.isRecoilValue,tn.getRecoilValueAsLoadable),fi=tn.setRecoilValue,hi=tn.subscribeToRecoilValue,di=t.useCallback,pi=t.useEffect,vi=t.useMemo,mi=t.useRef,yi=t.useState;function gi(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){var r=new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw r}throw"hasError"===e.state?e.contents:V('Invalid value of loadable atom "'.concat(t.key,'"'))}function ki(e){var t=ci(),n=ri(),r=di((function(){var n;var r=t.current,i=r.getState(),a=ai().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:li(r,e,a),key:e.key}}),[t,e]),i=di((function(e){var t;return function(){var n,r,i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),a=vi((function(){return i(r)}),[r,i]),o=di((function(r){var i=t.current;return hi(i,e,r,n).release}),[t,e,n]);return ui(o,a,a).loadable}function bi(e){var t=ci(),n=di((function(){var n,r=t.current,i=r.getState(),a=ai().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return li(r,e,a)}),[t,e]),r=di((function(){return n()}),[n]),i=ri(),a=di((function(r,a){var o=t.current;return hi(o,e,(function(){if(!he("recoil_suppress_rerender_in_callback"))return a();var e=n();s.current.is(e)||a(),s.current=e}),i).release}),[t,e,i,n]),o=si();if(null==o)throw V("Recoil hooks must be used in components contained within a <RecoilRoot> component.");var u=oi(o,r,a),s=mi(u);return pi((function(){s.current=u})),u}function wi(e){var t=ci(),n=ri(),r=di((function(){var n;var r=t.current,i=r.getState(),a=ai().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return li(r,e,a)}),[t,e]),i=di((function(){return{loadable:r(),key:e.key}}),[r,e.key]),a=di((function(e){var t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);pi((function(){var r=hi(t.current,e,(function(e){c(a)}),n);return c(a),r.release}),[n,e,t,a]);var o=s(yi(i),2),u=o[0],c=o[1];return u.key!==e.key?i().loadable:u.loadable}function _i(e){var t=ci(),n=s(yi([]),2)[1],r=ri(),i=di((function(){var n;var r=t.current,i=r.getState(),a=ai().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return li(r,e,a)}),[t,e]),a=i(),o=mi(a);return pi((function(){o.current=a})),pi((function(){var a=t.current,u=a.getState(),s=hi(a,e,(function(e){var t;if(!he("recoil_suppress_rerender_in_callback"))return n([]);var r=i();null!==(t=o.current)&&void 0!==t&&t.is(r)||n(r),o.current=r}),r);if(u.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push((function(){o.current=null,n([])}));else{var c;if(!he("recoil_suppress_rerender_in_callback"))return n([]);var l=i();null!==(c=o.current)&&void 0!==c&&c.is(l)||n(l),o.current=l}return s.release}),[r,i,e,t]),a}function xi(e){return he("recoil_memory_managament_2020")&&ni(e),{TRANSITION_SUPPORT:wi,SYNC_EXTERNAL_STORE:ki,MUTABLE_SOURCE:bi,LEGACY:_i}[ai().mode](e)}function Si(e){var t=ci();return gi(xi(e),e,t)}function Ti(e){var t=ci();return di((function(n){fi(t.current,e,n)}),[t,e])}function Ei(e){return he("recoil_memory_managament_2020")&&ni(e),wi(e)}function Ii(e){var t=ci();return gi(Ei(e),e,t)}var Ci=function(e){return[Si(e),Ti(e)]},Ai=function(e){return[xi(e),Ti(e)]},Ri=Si,Oi=xi,Ni=function(e){var t=ci();return di((function(){fi(t.current,e,ii)}),[t,e])},Pi=Ti,Di=Ei,Li=Ii,Mi=function(e){return[Ii(e),Ti(e)]};var Vi=wn,Fi=Ve.DEFAULT_VALUE,Ui=Ve.getNode,ji=zr,Bi=tn.AbstractRecoilValue,zi=tn.setRecoilValueLoadable,qi=pn,Wi=ir.cloneSnapshot,Hi=t.useCallback,Ki=t.useEffect,Gi=t.useRef,Qi=t.useState,$i=En.isSSR;function Yi(e){var t=ji();Ki((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function Xi(e,t){var n,r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;Vi((function(){for(var n=new Set,r=0,o=[i.atomValues.keys(),a.atomValues.keys()];r<o.length;r++){var u,s=w(o[r]);try{for(s.s();!(u=s.n()).done;){var c,l,f=u.value;(null===(c=i.atomValues.get(f))||void 0===c?void 0:c.contents)!==(null===(l=a.atomValues.get(f))||void 0===l?void 0:l.contents)&&Ui(f).shouldRestoreFromSnapshots&&n.add(f)}}catch(h){s.e(h)}finally{s.f()}}n.forEach((function(t){zi(e,new Bi(t),a.atomValues.has(t)?U(a.atomValues.get(t)):Fi)})),e.replaceState((function(e){return S(S({},e),{},{stateID:t.getID()})}))}))}var Ji=function(){var e=ji(),t=s(Qi((function(){return Wi(e.current)})),2),n=t[0],r=t[1],i=Qr(n),a=Gi(),o=Gi();if(Yi(Hi((function(e){return r(Wi(e))}),[])),Ki((function(){var e,t=n.retain();a.current&&!$i&&(window.clearTimeout(a.current),a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null);return function(){window.setTimeout(t,10)}}),[n]),i!==n&&!$i){var u;if(a.current)window.clearTimeout(a.current),a.current=null,null===(u=o.current)||void 0===u||u.call(o),o.current=null;o.current=n.retain(),a.current=window.setTimeout((function(){var e;a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null}),qi)}return n},Zi=Xi,ea=function(){var e=ji();return Hi((function(t){return Xi(e.current,t)}),[e])},ta=function(e){Yi(Hi((function(t){var n=Wi(t,"latest"),r=Wi(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},na=At,ra=zr;var ia=function(){var e=ra();return function(t){var n=t.key;return na(e.current,e.current.getState().currentTree,n)}},aa=me.reactMode,oa=Br,ua=zr,sa=t.useMemo;var ca=function(){"MUTABLE_SOURCE"===aa().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");var e=ua().current;return sa((function(){return function(n){var r=n.children;return t.createElement(oa,{store_INTERNAL:e},r)}}),[e])},la=oe.loadableWithValue,fa=Et,ha=Ve.DEFAULT_VALUE,da=Ve.getNode,pa=tn.copyTreeState,va=tn.getRecoilValueAsLoadable,ma=tn.invalidateDownstreams,ya=tn.writeLoadableToTreeState;function ga(e){return"atom"===da(e.key).nodeType}var ka=function(){function e(t,n){var r=this;A(this,e),j(this,"_store",void 0),j(this,"_treeState",void 0),j(this,"_changes",void 0),j(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!ga(e))throw V("Reading selectors within atomicUpdate is not supported");var t=va(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:V("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),j(this,"set",(function(e,t){if(!ga(e))throw V("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else fa(r._store,e.key,"set"),r._changes.set(e.key,t)})),j(this,"reset",(function(e){r.set(e,ha)})),this._store=t,this._treeState=n,this._changes=new Map}return O(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=pa(this._treeState),n=w(this._changes);try{for(n.s();!(e=n.n()).done;){var r=s(e.value,2),i=r[0],a=r[1];ya(t,i,la(a))}}catch(o){n.e(o)}finally{n.f()}return ma(this._store,t),t}}]),e}();var ba=function(e){return function(t){e.replaceState((function(n){var r=new ka(e,n);return t(r),r.newTreeState_INTERNAL()}))}},wa=ba,_a=Object.freeze({__proto__:null,atomicUpdater:wa});var xa=function(e,t){if(!e)throw new Error(t)},Sa=_a.atomicUpdater,Ta=wn,Ea=Ve.DEFAULT_VALUE,Ia=zr,Ca=tn.refreshRecoilValue,Aa=tn.setRecoilValue,Ra=ir.cloneSnapshot,Oa=Zi,Na=t.useCallback,Pa=O((function e(){A(this,e)})),Da=new Pa;function La(e,t,n,r){var i,a,o=Da;(Ta((function(){var a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof t)throw V(a);var u=ht(S(S({},null!==r&&void 0!==r?r:{}),{},{set:function(t,n){return Aa(e,t,n)},reset:function(t){return Aa(e,t,Ea)},refresh:function(t){return Ca(e,t)},gotoSnapshot:function(t){return Oa(e,t)},transact_UNSTABLE:function(t){return Sa(e)(t)}}),{snapshot:function(){var t=Ra(e);return i=t.retain(),t}}),s=t(u);if("function"!==typeof s)throw V(a);o=s.apply(void 0,l(n))})),o instanceof Pa&&xa(!1),F(o))?o.finally((function(){var e;null===(e=i)||void 0===e||e()})):null===(a=i)||void 0===a||a();return o}var Ma=La,Va=function(e,t){var n=Ia();return Na((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return La(n.current,e,r)}),null!=t?[].concat(l(t),[n]):void 0)},Fa=zr,Ua=tn.refreshRecoilValue,ja=t.useCallback;var Ba=function(e){var t=Fa();return ja((function(){var n=t.current;Ua(n,e)}),[e,t])},za=_a.atomicUpdater,qa=zr,Wa=t.useMemo;var Ha=function(e,t){var n=qa();return Wa((function(){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=za(n.current);a((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(l(t),[n]):void 0)},Ka={WrappedValue:O((function e(t){A(this,e),j(this,"value",void 0),this.value=t}))}.WrappedValue,Ga=Object.freeze({__proto__:null,WrappedValue:Ka}),Qa=me.isFastRefreshEnabled,$a=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n)}(g(Error)),Ya=function(){function e(t){var n,r,i;A(this,e),j(this,"_name",void 0),j(this,"_numLeafs",void 0),j(this,"_root",void 0),j(this,"_onHit",void 0),j(this,"_onSet",void 0),j(this,"_mapNodeValue",void 0),this._name=null===t||void 0===t?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(i=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==i?i:function(e){return e}}return O(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){if(null!=this._root)for(var n=this._root;n;){if(null===t||void 0===t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;var r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}},{key:"set",value:function(e,t,n){var r=this,i=function(){var i,a,o,u,c,l,f,h=w(e);try{for(h.s();!(f=h.n()).done;){var d,p,v,m=s(f.value,2),y=m[0],g=m[1],k=r._root;if("leaf"===(null===k||void 0===k?void 0:k.type))throw r.invalidCacheError();var b=c;if("branch"!==(c=null!==(d=c=b?b.branches.get(l):k)&&void 0!==d?d:{type:"branch",nodeKey:y,parent:b,branches:new Map,branchKey:l}).type||c.nodeKey!==y)throw r.invalidCacheError();null===b||void 0===b||b.branches.set(l,c),null===n||void 0===n||null===(p=n.onNodeVisit)||void 0===p||p.call(n,c),l=r._mapNodeValue(g),r._root=null!==(v=r._root)&&void 0!==v?v:c}}catch(S){h.e(S)}finally{h.f()}var _=c?null===(i=c)||void 0===i?void 0:i.branches.get(l):r._root;if(null!=_&&("leaf"!==_.type||_.branchKey!==l))throw r.invalidCacheError();var x={type:"leaf",value:t,parent:c,branchKey:l};null===(a=c)||void 0===a||a.branches.set(l,x),r._root=null!==(o=r._root)&&void 0!==o?o:x,r._numLeafs++,r._onSet(x),null===n||void 0===n||null===(u=n.onNodeVisit)||void 0===u||u.call(n,x)};try{i()}catch(a){if(!(a instanceof $a))throw a;this.clear(),i()}}},{key:"delete",value:function(e){var t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;for(var n=e.parent,r=e.branchKey;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}},{key:"invalidCacheError",value:function(){var e=Qa()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Ae(e+(null!=this._name?" - ".concat(this._name):"")),new $a}}]),e}(),Xa={TreeCache:Ya}.TreeCache,Ja=Object.freeze({__proto__:null,TreeCache:Xa}),Za=function(){function e(t){var n;A(this,e),j(this,"_maxSize",void 0),j(this,"_size",void 0),j(this,"_head",void 0),j(this,"_tail",void 0),j(this,"_map",void 0),j(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return O(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=U(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),eo={LRUCache:Za}.LRUCache,to=Object.freeze({__proto__:null,LRUCache:eo}),no=to.LRUCache,ro=Ja.TreeCache;var io=function(e){var t=e.name,n=e.maxSize,r=e.mapNodeValue,i=void 0===r?function(e){return e}:r,a=new no({maxSize:n}),o=new ro({name:t,mapNodeValue:i,onHit:function(e){a.set(e,!0)},onSet:function(e){var t=a.tail();a.set(e,!0),t&&o.size()>n&&o.delete(t.key)}});return o};function ao(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw V("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(F(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return ao(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return ao(e.toJSON(n),t,n);if(e instanceof Map){var i,a={},o=w(e);try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1];a["string"===typeof c?c:ao(c,t)]=l}}catch(f){o.e(f)}finally{o.f()}return ao(a,t,n)}return e instanceof Set?ao(Array.from(e).sort((function(e,n){return ao(e,t).localeCompare(ao(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?ao(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(ao(n,t),":").concat(ao(e[n],t,n))})).join(","),"}")}var oo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return ao(e,t)},uo=Ja.TreeCache,so={equality:"reference",eviction:"keep-all",maxSize:1/0};function co(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return oo(e)}}throw V("Unrecognized equality policy ".concat(e))}function lo(e,t,n,r){switch(e){case"keep-all":return new uo({name:r,mapNodeValue:n});case"lru":return io({name:r,maxSize:U(t),mapNodeValue:n});case"most-recent":return io({name:r,maxSize:1,mapNodeValue:n})}throw V("Unrecognized eviction policy ".concat(e))}var fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:so,t=e.equality,n=void 0===t?so.equality:t,r=e.eviction,i=void 0===r?so.eviction:r,a=e.maxSize,o=void 0===a?so.maxSize:a,u=arguments.length>1?arguments[1]:void 0,s=co(n);return lo(i,o,s,u)};var ho=function(e){return function(){return null}},po=oe.isLoadable,vo=oe.loadableWithError,mo=oe.loadableWithPromise,yo=oe.loadableWithValue,go=Ga.WrappedValue,ko=xt,bo=St,wo=Tt,_o=$e,xo=Ve.DEFAULT_VALUE,So=Ve.getConfigDeletionHandler,To=Ve.getNode,Eo=Ve.registerNode,Io=Te.isRecoilValue,Co=tn.markRecoilValueModified,Ao=yn,Ro=Ma,Oo=ho,No=O((function e(){A(this,e)})),Po=new No,Do=[],Lo=new Map,Mo=function(){var e=0;return function(){return e++}}();function Vo(e){var t=null,n=e.key,r=e.get,i=e.cachePolicy_UNSTABLE,a=null!=e.set?e.set:void 0;var o=new Set,u=fo(null!==i&&void 0!==i?i:{equality:"reference",eviction:"keep-all"},n),c=Ao(e.retainedBy_UNSTABLE),l=new Map,f=0;function h(){return!he("recoil_memory_managament_2020")||f>0}function d(e){return e.getState().knownSelectors.add(n),f++,function(){f--}}function p(){return void 0!==So(n)&&!h()}function v(e,t,n,r,i){A(t,r,i),m(e,n)}function m(e,t){C(e,t)&&I(e),y(t,!0)}function y(e,n){var r=Lo.get(e);if(null!=r){var i,a=w(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;Co(o,U(t))}}catch(u){a.e(u)}finally{a.f()}n&&Lo.delete(e)}}function g(e,t){var n=Lo.get(t);null==n&&Lo.set(t,n=new Set),n.add(e)}function k(e,t,n,r,i,a){return t.then((function(r){if(!h())throw I(e),Po;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,yo(r)):e.getState().knownSelectors.forEach((function(e){n.atomValues.delete(e)}));var o=x(e,n);if(o&&"loading"!==o.state){if((C(e,i)||null==E(e))&&m(e,i),"hasValue"===o.state)return o.contents;throw o.contents}if(!C(e,i)){var u=T(e,n);if(null!=u)return u.loadingLoadable.contents}var c=s(_(e,n,i),2),l=c[0],f=c[1];if("loading"!==l.state&&v(e,n,i,l,f),"hasError"===l.state)throw l.contents;return l.contents})).catch((function(t){if(t instanceof No)throw Po;if(!h())throw I(e),Po;var a=vo(t);throw v(e,n,i,a,r),t}))}function b(e,t,r,i){var a,u,s,c,l,f,h;(C(e,i)||t.version===(null===(a=e.getState())||void 0===a||null===(u=a.currentTree)||void 0===u?void 0:u.version)||t.version===(null===(s=e.getState())||void 0===s||null===(c=s.nextTree)||void 0===c?void 0:c.version))&&_o(n,r,e,null!==(l=null===(f=e.getState())||void 0===f||null===(h=f.nextTree)||void 0===h?void 0:h.version)&&void 0!==l?l:e.getState().currentTree.version);var d,p=w(r);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.add(v)}}catch(m){p.e(m)}finally{p.f()}}function _(e,i,a){var o,u,s=Oo(n),c=!0,l=!0,f=function(){s(),l=!1},d=!1,p={loadingDepKey:null,loadingDepPromise:null},m=new Map;function g(t){var n=t.key,r=ko(e,i,n);switch(m.set(n,r),c||(b(e,i,new Set(m.keys()),a),function(e,t){C(e,t)&&(U(E(e)).stateVersions.clear(),y(t,!1))}(e,a)),r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":throw p.loadingDepKey=n,p.loadingDepPromise=r.contents,r.contents}throw V("Invalid Loadable state")}try{o=r({get:g,getCallback:function(n){return function(){if(l)throw V("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");null==t&&xa(!1);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return Ro(e,n,i,{node:t})}}}),o=Io(o)?g(o):o,po(o)&&("hasError"===o.state&&(d=!0),o=o.contents),F(o)?o=function(e,t,n,r,i,a){return t.then((function(t){if(!h())throw I(e),Po;var a=yo(t);return v(e,n,i,a,r),t})).catch((function(t){if(!h())throw I(e),Po;if(F(t))return k(e,t,n,r,i,a);var o=vo(t);throw v(e,n,i,o,r),t}))}(e,o,i,m,a,p).finally(f):f(),o=o instanceof go?o.value:o}catch(w){F(o=w)?o=k(e,o,i,m,a,p).finally(f):(d=!0,f())}return u=d?vo(o):F(o)?mo(o):yo(o),c=!1,function(e,t,n){if(C(e,t)){var r=E(e);null!=r&&(r.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,a,m),b(e,i,new Set(m.keys()),a),[u,m]}function x(e,t){var r=t.atomValues.get(n);if(null!=r)return r;var i,a=new Set;try{r=u.get((function(n){return"string"!==typeof n&&xa(!1),ko(e,t,n).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==n&&a.add(e.nodeKey)}})}catch(o){throw V('Problem with cache lookup for selector "'.concat(n,'": ').concat(o.message))}r&&(t.atomValues.set(n,r),b(e,t,a,null===(i=E(e))||void 0===i?void 0:i.executionID));return r}function S(e,t){var n=x(e,t);if(null!=n)return I(e),n;var r,i=T(e,t);if(null!=i)return"loading"===(null===(r=i.loadingLoadable)||void 0===r?void 0:r.state)&&g(e,i.executionID),i.loadingLoadable;var a=Mo(),o=s(_(e,t,a),2),u=o[0],c=o[1];return"loading"===u.state?(!function(e,t,n,r,i){l.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,a,u,c,t),g(e,a)):(I(e),A(t,u,c)),u}function T(e,t){function n(n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(!ko(e,t,o).is(u))return!0}}catch(c){i.e(c)}finally{i.f()}return!1}var r,i=w(xn([l.has(e)?[U(l.get(e))]:[],Ie(ft(l,(function(t){return s(t,1)[0]!==e})),(function(e){return s(e,2)[1]}))]));try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.stateVersions.get(t.version)||!n(a.depValuesDiscoveredSoFarDuringAsyncWork))return a.stateVersions.set(t.version,!0),a;a.stateVersions.set(t.version,!1)}}catch(o){i.e(o)}finally{i.f()}}function E(e){return l.get(e)}function I(e){l.delete(e)}function C(e,t){var n;return t===(null===(n=E(e))||void 0===n?void 0:n.executionID)}function A(e,t,r){e.atomValues.set(n,t);try{u.set(function(e){return Array.from(e.entries()).map((function(e){var t=s(e,2);return[t[0],t[1].contents]}))}(r),t)}catch(i){throw V('Problem with setting cache for selector "'.concat(n,'": ').concat(i.message))}}function R(e,t){var r=t.atomValues.get(n);return null!=r?r:u.get((function(n){var r;return"string"!==typeof n&&xa(!1),null===(r=bo(e,t,n))||void 0===r?void 0:r.contents}))}function O(e,t){return function(e){if(Do.includes(n)){var t="Recoil selector has circular dependencies: ".concat(Do.slice(Do.indexOf(n)).join(" \u2192 "));return vo(V(t))}Do.push(n);try{return e()}finally{Do.pop()}}((function(){return S(e,t)}))}function N(e){e.atomValues.delete(n)}function P(e,n){null==t&&xa(!1);var r,i=w(o);try{for(i.s();!(r=i.n()).done;){var a,s=r.value,c=To(s);null===(a=c.clearCache)||void 0===a||a.call(c,e,n)}}catch(l){i.e(l)}finally{i.f()}o.clear(),N(n),u.clear(),Co(e,t)}if(null!=a){return t=Eo({key:n,nodeType:"selector",peek:R,get:O,set:function(e,t,r){var i=!1,o=new Map;function u(r){var a=r.key;if(i)throw V("Recoil: Async selector sets are not currently supported.");var o=ko(e,t,a);if("hasValue"===o.state)return o.contents;if("loading"===o.state){var u='Getting value of asynchronous atom or selector "'.concat(a,'" in a pending state while setting selector "').concat(n,'" is not yet supported.');throw Ae(u),V(u)}throw o.contents}function s(n,r){if(i){var a="Recoil: Async selector sets are not currently supported.";throw Ae(a),V(a)}var s="function"===typeof r?r(u(n)):r;wo(e,t,n.key,s).forEach((function(e,t){return o.set(t,e)}))}var c=a({set:s,get:u,reset:function(e){s(e,xo)}},r);if(void 0!==c)throw F(c)?V("Recoil: Async selector sets are not currently supported."):V("Recoil: selector set should be a void function.");return i=!0,o},init:d,invalidate:N,clearCache:P,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})}return t=Eo({key:n,nodeType:"selector",peek:R,get:O,init:d,invalidate:N,clearCache:P,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:c})}Vo.value=function(e){return new go(e)};var Fo=Vo,Uo=oe.isLoadable,jo=oe.loadableWithError,Bo=oe.loadableWithPromise,zo=oe.loadableWithValue,qo=Ga.WrappedValue,Wo=At,Ho=Ve.DEFAULT_VALUE,Ko=Ve.DefaultValue,Go=Ve.getConfigDeletionHandler,Qo=Ve.registerNode,$o=Ve.setConfigDeletionHandler,Yo=Te.isRecoilValue,Xo=tn.getRecoilValueAsLoadable,Jo=tn.markRecoilValueModified,Zo=tn.setRecoilValue,eu=tn.setRecoilValueLoadable,tu=yn,nu=function(e){return e instanceof qo?e.value:e};function ru(e){var t=e.key,n=e.persistence_UNSTABLE,r=tu(e.retainedBy_UNSTABLE),i=0;function a(e){return Bo(e.then((function(e){return o=zo(e),e})).catch((function(e){throw o=jo(e),e})))}var o=F(e.default)?a(e.default):Uo(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:zo(nu(e.default));c(o.contents);var u=void 0,s=new Map;function c(e){return e}function f(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:u)&&void 0!==r?r:o}var h=Qo({key:t,nodeType:"atom",peek:f,get:function(e,r){if(r.atomValues.has(t))return U(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=u)return u;if(null==n)return Ee("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),o;var i=r.nonvalidatedAtoms.get(t),a=n.validator(i,Ho),s=a instanceof Ko?o:zo(a);return u=s}return o},set:function(e,n,r){if(n.atomValues.has(t)){var i=U(n.atomValues.get(t));if("hasValue"===i.state&&r===i.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof Ko)return new Map;return u=void 0,(new Map).set(t,zo(r))},init:function(n,r,a){var u;if(i++,n.getState().knownAtoms.add(t),"loading"===o.state){o.contents.finally((function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||Jo(n,h)}))}var c=null!==(u=e.effects)&&void 0!==u?u:e.effects_UNSTABLE;if(null!=c){var d,p=function(e){if(g&&e.key===t){var i=y;return i instanceof Ko?f(n,r):F(i)?Bo(i.then((function(e){return e instanceof Ko?o.toPromise():e}))):zo(i)}return Xo(n,e)},v=function(e){return p(e).toPromise()},m=function(e){var r,i=Wo(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!g||e.key!==t||y instanceof Ko?i:S(S({},i),{},{isSet:!0,loadable:p(e)})},y=Ho,g=!0,k=!1,b=null,_=function(e){return function(t){if(g){var r=p(h),i="hasValue"===r.state?r.contents:Ho;y="function"===typeof t?t(i):t,F(y)&&(y=y.then((function(t){return b={effect:e,value:t},t})))}else{if(F(t))throw V("Setting atoms to async values is not implemented.");"function"!==typeof t&&(b={effect:e,value:nu(t)}),Zo(n,h,"function"===typeof t?function(n){var r=nu(t(n));return b={effect:e,value:r},r}:nu(t))}}},x=function(e){return function(){return _(e)(Ho)}},T=function(e){return function(r){var i,a=n.subscribeToTransactions((function(n){var i,a=n.getState(),u=a.currentTree,s=a.previousTree;s||(Ae("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),s=u);var c=null!==(i=u.atomValues.get(t))&&void 0!==i?i:o;if("hasValue"===c.state){var l,f,h,d,p=c.contents,v=null!==(l=s.atomValues.get(t))&&void 0!==l?l:o,m="hasValue"===v.state?v.contents:Ho;(null===(f=b)||void 0===f?void 0:f.effect)!==e||(null===(h=b)||void 0===h?void 0:h.value)!==p?r(p,m,!u.atomValues.has(t)):(null===(d=b)||void 0===d?void 0:d.effect)===e&&(b=null)}}),t).release;s.set(n,[].concat(l(null!==(i=s.get(n))&&void 0!==i?i:[]),[a]))}},E=w(c);try{for(E.s();!(d=E.n()).done;){var I=d.value;try{var C,A=I({node:h,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:a,setSelf:_(I),resetSelf:x(I),onSet:T(I),getPromise:v,getLoadable:p,getInfo_UNSTABLE:m});if(null!=A)s.set(n,[].concat(l(null!==(C=s.get(n))&&void 0!==C?C:[]),[A]))}catch(N){y=N,k=!0}}}catch(P){E.e(P)}finally{E.f()}if(g=!1,!(y instanceof Ko)){var R,O=k?jo(y):F(y)?Bo(function(e,n){var r=n.then((function(n){var i,a;return(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&Zo(e,h,n),n})).catch((function(n){var i,a;throw(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&eu(e,h,jo(n)),n}));return r}(n,y)):zo(nu(y));O.contents,r.atomValues.set(t,O),null===(R=n.getState().nextTree)||void 0===R||R.atomValues.set(t,O)}}return function(){var e;i--,null===(e=s.get(n))||void 0===e||e.forEach((function(e){return e()})),s.delete(n)}},invalidate:function(){u=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==Go(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return h}function iu(e){var t=Object.assign({},e),n="default"in e?e.default:new Promise((function(){}));return Yo(n)?function(e){var t=iu(S(S({},e),{},{default:Ho,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:S(S({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof Ko?t:U(e.persistence_UNSTABLE).validator(t,Ho)}}),effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE})),n=Fo({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof Ko?e.default:r},set:function(e,n){return(0,e.set)(t,n)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return $o(n.key,Go(e.key)),n}(S(S({},t),{},{default:n})):ru(S(S({},t),{},{default:n}))}iu.value=function(e){return new qo(e)};var au=iu,ou=function(){function e(t){var n;A(this,e),j(this,"_map",void 0),j(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return O(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}(),uu={MapCache:ou}.MapCache,su=Object.freeze({__proto__:null,MapCache:uu}),cu=to.LRUCache,lu=su.MapCache,fu={equality:"reference",eviction:"none",maxSize:1/0};function hu(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return oo(e)}}throw V("Unrecognized equality policy ".concat(e))}function du(e,t,n){switch(e){case"keep-all":return new lu({mapKey:n});case"lru":return new cu({mapKey:n,maxSize:U(t)});case"most-recent":return new cu({mapKey:n,maxSize:1})}throw V("Unrecognized eviction policy ".concat(e))}var pu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fu,t=e.equality,n=void 0===t?fu.equality:t,r=e.eviction,i=void 0===r?fu.eviction:r,a=e.maxSize,o=void 0===a?fu.maxSize:a,u=hu(n),s=du(i,o,u);return s},vu=Ve.setConfigDeletionHandler;var mu=function(e){var t,n,r=pu({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i,a=r.get(t);if(null!=a)return a;e.cachePolicyForParams_UNSTABLE;var o=f(e,D),u="default"in e?e.default:new Promise((function(){})),s=au(S(S({},o),{},{key:"".concat(e.key,"__").concat(null!==(n=oo(t))&&void 0!==n?n:"void"),default:"function"===typeof u?u(t):u,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"===typeof e.effects?e.effects(t):"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE}));return r.set(t,s),vu(s.key,(function(){r.delete(t)})),s}},yu=Ve.setConfigDeletionHandler,gu=0;var ku=function(e){var t,n,r=pu({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i;try{i=r.get(t)}catch(f){throw V("Problem with cache lookup for selector ".concat(e.key,": ").concat(f.message))}if(null!=i)return i;var a,o="".concat(e.key,"__selectorFamily/").concat(null!==(n=oo(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(gu++),u=function(n){return e.get(t)(n)},s=e.cachePolicy_UNSTABLE,c="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var l=e.set;a=Fo({key:o,get:u,set:function(e,n){return l(t)(e,n)},cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else a=Fo({key:o,get:u,cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(t,a),yu(a.key,(function(){r.delete(t)})),a}},bu=ku({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var wu=function(e){return bu(e)},_u=ku({key:"__error",get:function(e){return function(){throw V(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var xu=function(e){return _u(e)};var Su=function(e){return e},Tu=oe.loadableWithError,Eu=oe.loadableWithPromise,Iu=oe.loadableWithValue;function Cu(e,t){var n,r=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0),a=w(t.entries());try{for(a.s();!(n=a.n()).done;){var o=s(n.value,2),u=o[0],c=o[1];try{r[u]=e(c)}catch(l){i[u]=l}}}catch(f){a.e(f)}finally{a.f()}return[r,i]}function Au(e){return null!=e&&!F(e)}function Ru(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function Ou(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return S(S({},e),{},_({},n,t[r]))}),{})}function Nu(e,t,n){return Ou(e,n.map((function(e,n){return null==e?Iu(t[n]):F(e)?Eu(e):Tu(e)})))}var Pu=ku({key:"__waitForNone",get:function(e){return function(t){var n=s(Cu(t.get,Ru(e)),2),r=n[0],i=n[1];return Nu(e,r,i)}},dangerouslyAllowMutability:!0}),Du=ku({key:"__waitForAny",get:function(e){return function(t){var n=s(Cu(t.get,Ru(e)),2),r=n[0],i=n[1];return i.some((function(e){return!F(e)}))?Nu(e,r,i):new Promise((function(t){var n,a=w(i.entries());try{var o=function(){var a=s(n.value,2),o=a[0],u=a[1];F(u)&&u.then((function(n){r[o]=n,i[o]=void 0,t(Nu(e,r,i))})).catch((function(n){i[o]=n,t(Nu(e,r,i))}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}}))}},dangerouslyAllowMutability:!0}),Lu={waitForNone:Pu,waitForAny:Du,waitForAll:ku({key:"__waitForAll",get:function(e){return function(t){var n=s(Cu(t.get,Ru(e)),2),r=n[0],i=n[1];if(i.every((function(e){return null==e})))return Ou(e,r);var a=i.find(Au);if(null!=a)throw a;return Promise.all(i).then((function(t){return Ou(e,(n=r,t.map((function(e,t){return void 0===e?n[t]:e}))));var n}))}},dangerouslyAllowMutability:!0}),waitForAllSettled:ku({key:"__waitForAllSettled",get:function(e){return function(t){var n=s(Cu(t.get,Ru(e)),2),r=n[0],i=n[1];return i.every((function(e){return!F(e)}))?Nu(e,r,i):Promise.all(i.map((function(e,t){return F(e)?e.then((function(e){r[t]=e,i[t]=void 0})).catch((function(e){r[t]=void 0,i[t]=e})):null}))).then((function(){return Nu(e,r,i)}))}},dangerouslyAllowMutability:!0}),noWait:ku({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return Fo.value(Iu(n(e)))}catch(r){return Fo.value(F(r)?Eu(r):Tu(r))}}},dangerouslyAllowMutability:!0})},Mu=oe.RecoilLoadable,Vu=Ve.DefaultValue,Fu=Br,Uu=Wr,ju=Te.isRecoilValue,Bu=st.retentionZone,zu=ir.freshSnapshot,qu={DefaultValue:Vu,isRecoilValue:ju,RecoilLoadable:Mu,RecoilRoot:Fu,useRecoilStoreID:Uu,useRecoilBridgeAcrossReactRoots_UNSTABLE:ca,atom:au,selector:Fo,atomFamily:mu,selectorFamily:ku,constSelector:wu,errorSelector:xu,readOnlySelector:Su,noWait:Lu.noWait,waitForNone:Lu.waitForNone,waitForAny:Lu.waitForAny,waitForAll:Lu.waitForAll,waitForAllSettled:Lu.waitForAllSettled,useRecoilValue:Ri,useRecoilValueLoadable:Oi,useRecoilState:Ci,useRecoilStateLoadable:Ai,useSetRecoilState:Pi,useResetRecoilState:Ni,useGetRecoilValueInfo_UNSTABLE:ia,useRecoilRefresher_UNSTABLE:Ba,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Di,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Li,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Mi,useRecoilCallback:Va,useRecoilTransaction_UNSTABLE:Ha,useGotoRecoilSnapshot:ea,useRecoilSnapshot:Ji,useRecoilTransactionObserver_UNSTABLE:ta,snapshot_UNSTABLE:zu,useRetain:ni,retentionZone:Bu},Wu=qu.RecoilRoot,Hu=qu.atom,Ku=qu.useRecoilValue,Gu=qu.useRecoilState,Qu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},$u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Qu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Yu=function(e){return function(e){var t=Qu(e);return $u.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Xu=function(e){try{return $u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ju(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Ju(e[n],t[n]));return e}var Zu=function(){function e(){var t=this;A(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return O(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function es(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yu(JSON.stringify({alg:"none",type:"JWT"})),Yu(JSON.stringify(a)),""].join(".")}function ts(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ns(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ts())}function rs(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function is(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function as(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function os(){var e=ts();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function us(){return"object"===typeof indexedDB}var ss=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(T(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(T(a),cs.prototype.create),a}return O(n)}(g(Error)),cs=function(){function e(t,n,r){A(this,e),this.service=t,this.serviceName=n,this.errors=r}return O(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ls(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new ss(n,a,t);return o}}]),e}();function ls(e,t){return e.replace(fs,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var fs=/\{\$([^}]+)}/g;function hs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ds(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(ps(u)&&ps(s)){if(!ds(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ps(e){return null!==e&&"object"===typeof e}function vs(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ms(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function ys(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function gs(e,t){var n=new ks(e,t);return n.subscribe.bind(n)}var ks=function(){function e(t,n){var r=this;A(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return O(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=w(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=bs),void 0===r.error&&(r.error=bs),void 0===r.complete&&(r.complete=bs);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function bs(){}function ws(e){return e&&e._delegate?e._delegate:e}var _s=function(){function e(t,n,r){A(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return O(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),xs="[DEFAULT]",Ss=function(){function e(t,n){A(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return O(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Zu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch(c){}var t,n=w(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(l(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),l(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=w(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===xs?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xs;return this.component?this.component.multipleInstances?e:xs:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Ts,Es,Is=function(){function e(t){A(this,e),this.name=t,this.providers=new Map}return O(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ss(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Cs=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Es||(Es={}));var As={debug:Es.DEBUG,verbose:Es.VERBOSE,info:Es.INFO,warn:Es.WARN,error:Es.ERROR,silent:Es.SILENT},Rs=Es.INFO,Os=(_(Ts={},Es.DEBUG,"log"),_(Ts,Es.VERBOSE,"log"),_(Ts,Es.INFO,"info"),_(Ts,Es.WARN,"warn"),_(Ts,Es.ERROR,"error"),Ts),Ns=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Os[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ps=function(){function e(t){A(this,e),this.name=t,this._logLevel=Rs,this._logHandler=Ns,this._userLogHandler=null,Cs.push(this)}return O(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Es))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?As[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Es.DEBUG].concat(t)),this._logHandler.apply(this,[this,Es.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Es.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Es.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Es.INFO].concat(t)),this._logHandler.apply(this,[this,Es.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Es.WARN].concat(t)),this._logHandler.apply(this,[this,Es.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Es.ERROR].concat(t)),this._logHandler.apply(this,[this,Es.ERROR].concat(t))}}]),e}();var Ds,Ls;var Ms=new WeakMap,Vs=new WeakMap,Fs=new WeakMap,Us=new WeakMap,js=new WeakMap;var Bs={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Vs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Fs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ws(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function zs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ls||(Ls=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Hs(this),n),Ws(Ms.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ws(e.apply(Hs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Hs(this),t].concat(r));return Fs.set(a,t.sort?t.sort():[t]),Ws(a)}}function qs(e){return"function"===typeof e?zs(e):(e instanceof IDBTransaction&&function(e){if(!Vs.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Vs.set(e,t)}}(e),t=e,(Ds||(Ds=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Bs):e);var t}function Ws(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ws(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ms.set(t,e)})).catch((function(){})),js.set(t,e),t}(e);if(Us.has(e))return Us.get(e);var t=qs(e);return t!==e&&(Us.set(e,t),js.set(t,e)),t}var Hs=function(e){return js.get(e)};var Ks,Gs,Qs=["get","getKey","getAll","getAllKeys","count"],$s=["put","add","delete","clear"],Ys=new Map;function Xs(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Ys.get(t))return Ys.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=$s.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Qs.includes(n))){var a=function(){var e=d(b().mark((function e(t){var a,o,u,s,c,l,f=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Ys.set(t,a),a}}}Bs=function(e){return S(S({},e),{},{get:function(t,n,r){return Xs(t,n)||e.get(t,n,r)},has:function(t,n){return!!Xs(t,n)||e.has(t,n)}})}(Bs);var Js=function(){function e(t){A(this,e),this.container=t}return O(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Zs="@firebase/app",ec="0.7.31",tc=new Ps("@firebase/app"),nc="[DEFAULT]",rc=(_(Ks={},Zs,"fire-core"),_(Ks,"@firebase/app-compat","fire-core-compat"),_(Ks,"@firebase/analytics","fire-analytics"),_(Ks,"@firebase/analytics-compat","fire-analytics-compat"),_(Ks,"@firebase/app-check","fire-app-check"),_(Ks,"@firebase/app-check-compat","fire-app-check-compat"),_(Ks,"@firebase/auth","fire-auth"),_(Ks,"@firebase/auth-compat","fire-auth-compat"),_(Ks,"@firebase/database","fire-rtdb"),_(Ks,"@firebase/database-compat","fire-rtdb-compat"),_(Ks,"@firebase/functions","fire-fn"),_(Ks,"@firebase/functions-compat","fire-fn-compat"),_(Ks,"@firebase/installations","fire-iid"),_(Ks,"@firebase/installations-compat","fire-iid-compat"),_(Ks,"@firebase/messaging","fire-fcm"),_(Ks,"@firebase/messaging-compat","fire-fcm-compat"),_(Ks,"@firebase/performance","fire-perf"),_(Ks,"@firebase/performance-compat","fire-perf-compat"),_(Ks,"@firebase/remote-config","fire-rc"),_(Ks,"@firebase/remote-config-compat","fire-rc-compat"),_(Ks,"@firebase/storage","fire-gcs"),_(Ks,"@firebase/storage-compat","fire-gcs-compat"),_(Ks,"@firebase/firestore","fire-fst"),_(Ks,"@firebase/firestore-compat","fire-fst-compat"),_(Ks,"fire-js","fire-js"),_(Ks,"firebase","fire-js-all"),Ks),ic=new Map,ac=new Map;function oc(e,t){try{e.container.addComponent(t)}catch(n){tc.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function uc(e,t){e.container.addOrOverwriteComponent(t)}function sc(e){var t=e.name;if(ac.has(t))return tc.debug("There were multiple attempts to register component ".concat(t,".")),!1;ac.set(t,e);var n,r=w(ic.values());try{for(r.s();!(n=r.n()).done;){oc(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function cc(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function lc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nc;cc(e,t).clearInstance(n)}function fc(){ac.clear()}var hc=(_(Gs={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),_(Gs,"bad-app-name","Illegal App name: '{$appName}"),_(Gs,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),_(Gs,"app-deleted","Firebase App named '{$appName}' already deleted"),_(Gs,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),_(Gs,"invalid-log-argument","First argument to `onLog` must be null or a function."),_(Gs,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),_(Gs,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),_(Gs,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),_(Gs,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Gs),dc=new cs("app","Firebase",hc),pc=function(){function e(t,n,r){var i=this;A(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _s("app",(function(){return i}),"PUBLIC"))}return O(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw dc.create("app-deleted",{appName:this._name})}}]),e}(),vc="9.9.3";function mc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:nc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw dc.create("bad-app-name",{appName:String(i)});var a=ic.get(i);if(a){if(ds(e,a.options)&&ds(r,a.config))return a;throw dc.create("duplicate-app",{appName:i})}var o,u=new Is(i),s=w(ac.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new pc(e,r,u);return ic.set(i,l),l}function yc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nc,t=ic.get(e);if(!t)throw dc.create("no-app",{appName:e});return t}function gc(){return Array.from(ic.values())}function kc(e){return bc.apply(this,arguments)}function bc(){return(bc=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ic.has(n)){e.next=6;break}return ic.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wc(e,t,n){var r,i=null!==(r=rc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void tc.warn(u.join(" "))}sc(new _s("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function _c(e,t){if(null!==e&&"function"!==typeof e)throw dc.create("invalid-log-argument");!function(e,t){var n,r=w(Cs);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=As[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Es[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function xc(e){var t;t=e,Cs.forEach((function(e){e.setLogLevel(t)}))}var Sc="firebase-heartbeat-store",Tc=null;function Ec(){return Tc||(Tc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Ws(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Ws(u.result),e.oldVersion,e.newVersion,Ws(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Sc)}}).catch((function(e){throw dc.create("idb-open",{originalErrorMessage:e.message})}))),Tc}function Ic(e){return Cc.apply(this,arguments)}function Cc(){return Cc=d(b().mark((function e(t){var n,r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ec();case 3:return r=e.sent,e.abrupt("return",r.transaction(Sc).objectStore(Sc).get(Oc(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ss?tc.warn(e.t0.message):(i=dc.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),tc.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Cc.apply(this,arguments)}function Ac(e,t){return Rc.apply(this,arguments)}function Rc(){return Rc=d(b().mark((function e(t,n){var r,i,a,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ec();case 3:return i=e.sent,a=i.transaction(Sc,"readwrite"),o=a.objectStore(Sc),e.next=8,o.put(n,Oc(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ss?tc.warn(e.t0.message):(u=dc.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),tc.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Rc.apply(this,arguments)}function Oc(e){return"".concat(e.name,"!").concat(e.options.appId)}var Nc=function(){function e(t){var n=this;A(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Vc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return O(e,[{key:"triggerHeartbeat",value:function(){var e=d(b().mark((function e(){var t,n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Pc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=d(b().mark((function e(){var t,n,r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Pc(),n=Dc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Yu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pc(){return(new Date).toISOString().substring(0,10)}function Dc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=w(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Fc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Fc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Lc,Mc,Vc=function(){function e(t){A(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return O(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(us()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Ic(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ac(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ac(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(l(r.heartbeats),l(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Fc(e){return Yu(JSON.stringify({version:2,heartbeats:e})).length}Lc="",sc(new _s("platform-logger",(function(e){return new Js(e)}),"PRIVATE")),sc(new _s("heartbeat",(function(e){return new Nc(e)}),"PRIVATE")),wc(Zs,ec,Lc),wc(Zs,ec,"esm2017"),wc("fire-js","");var Uc=function(){function e(t,n){var r=this;A(this,e),this._delegate=t,this.firebase=n,oc(t,new _s("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return O(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),kc(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nc;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nc;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){oc(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){uc(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),jc=(_(Mc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),_(Mc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Mc),Bc=new cs("app-compat","Firebase",jc);var zc=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=mc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(hs(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:wc,setLogLevel:xc,onLog:_c,apps:null,SDK_VERSION:vc,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(sc(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Bc.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&Ju(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!hs(n,e=e||nc))throw Bc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Uc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Ju(n,e)},createSubscribe:gs,ErrorFactory:cs,deepExtend:Ju}),n}(),qc=new Ps("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){qc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Wc=self.firebase.SDK_VERSION;Wc&&Wc.indexOf("LITE")>=0&&qc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Hc=zc;!function(e){wc("@firebase/app-compat","0.1.32",e)}();function Kc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function Gc(){return Gc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Kc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Gc.apply(this,arguments)}Hc.registerVersion("firebase","9.9.3","app-compat");function Qc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var $c;Object.create;var Yc="facebook.com",Xc="github.com",Jc="google.com",Zc="password",el="twitter.com",tl="EMAIL_SIGNIN",nl="PASSWORD_RESET",rl="RECOVER_EMAIL",il="REVERT_SECOND_FACTOR_ADDITION",al="VERIFY_AND_CHANGE_EMAIL",ol="VERIFY_EMAIL";function ul(){return _({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var sl=function(){var e;return _(e={},"admin-restricted-operation","This operation is restricted to administrators only."),_(e,"argument-error",""),_(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),_(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),_(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),_(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),_(e,"cordova-not-ready","Cordova framework is not ready."),_(e,"cors-unsupported","This browser is not supported."),_(e,"credential-already-in-use","This credential is already associated with a different user account."),_(e,"custom-token-mismatch","The custom token corresponds to a different audience."),_(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),_(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),_(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),_(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),_(e,"email-already-in-use","The email address is already in use by another account."),_(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),_(e,"expired-action-code","The action code has expired."),_(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),_(e,"internal-error","An internal AuthError has occurred."),_(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),_(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),_(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),_(e,"invalid-auth-event","An internal AuthError has occurred."),_(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),_(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),_(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),_(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),_(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),_(e,"invalid-email","The email address is badly formatted."),_(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),_(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),_(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),_(e,"invalid-credential","The supplied auth credential is malformed or has expired."),_(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),_(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),_(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),_(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),_(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),_(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),_(e,"wrong-password","The password is invalid or the user does not have a password."),_(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),_(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),_(e,"invalid-provider-id","The specified provider ID is invalid."),_(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),_(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),_(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),_(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),_(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),_(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),_(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),_(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),_(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),_(e,"missing-continue-uri","A continue URL must be provided in the request."),_(e,"missing-iframe-start","An internal AuthError has occurred."),_(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),_(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),_(e,"missing-multi-factor-info","No second factor identifier is provided."),_(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),_(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),_(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),_(e,"app-deleted","This instance of FirebaseApp has been deleted."),_(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),_(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),_(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),_(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),_(e,"no-auth-event","An internal AuthError has occurred."),_(e,"no-such-provider","User was not linked to an account with the given provider."),_(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),_(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),_(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),_(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),_(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),_(e,"provider-already-linked","User can only be linked to one identity for the given provider."),_(e,"quota-exceeded","The project's quota for this operation has been exceeded."),_(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),_(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),_(e,"rejected-credential","The request contains malformed or mismatching credentials."),_(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),_(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),_(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),_(e,"timeout","The operation has timed out."),_(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),_(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),_(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),_(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),_(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),_(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),_(e,"unverified-email","The operation requires a verified email."),_(e,"user-cancelled","The user did not grant your application the permissions it requested."),_(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),_(e,"user-disabled","The user account has been disabled by an administrator."),_(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),_(e,"user-signed-out",""),_(e,"weak-password","The password must be 6 characters long or more."),_(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),_(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},cl=ul,ll=new cs("auth","Firebase",ul()),fl=new Ps("@firebase/auth");function hl(e){if(fl.logLevel<=Es.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];fl.error.apply(fl,["Auth (".concat(vc,"): ").concat(e)].concat(n))}}function dl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw yl.apply(void 0,[e].concat(n))}function pl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yl.apply(void 0,[e].concat(n))}function vl(e,t,n){var r=Object.assign(Object.assign({},cl()),_({},t,n));return new cs("auth","Firebase",r).create(t,{appName:e.name})}function ml(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dl(e,"argument-error"),vl(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function yl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=l(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(l(o)))}return ll.create.apply(ll,[e].concat(n))}function gl(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw yl.apply(void 0,[t].concat(r))}}function kl(e){var t="INTERNAL ASSERTION FAILED: "+e;throw hl(t),new Error(t)}function bl(e,t){e||kl(t)}var wl=new Map;function _l(e){bl(e instanceof Function,"Expected a class definition");var t=wl.get(e);return t?(bl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wl.set(e,t),t)}function xl(e,t){var n=cc(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(ds(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;dl(r,"already-initialized")}return n.initialize({options:t})}function Sl(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Tl(){return"http:"===El()||"https:"===El()}function El(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Il=function(){function e(t,n){A(this,e),this.shortDelay=t,this.longDelay=n,bl(n>t,"Short delay should be less than long delay!"),this.isMobile=ns()||as()}return O(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Tl()||is()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Cl(e,t){bl(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Al=function(){function e(){A(this,e)}return O(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void kl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void kl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void kl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Rl=(_($c={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),_($c,"MISSING_CUSTOM_TOKEN","internal-error"),_($c,"INVALID_IDENTIFIER","invalid-email"),_($c,"MISSING_CONTINUE_URI","internal-error"),_($c,"INVALID_PASSWORD","wrong-password"),_($c,"MISSING_PASSWORD","internal-error"),_($c,"EMAIL_EXISTS","email-already-in-use"),_($c,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),_($c,"INVALID_IDP_RESPONSE","invalid-credential"),_($c,"INVALID_PENDING_TOKEN","invalid-credential"),_($c,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),_($c,"MISSING_REQ_TYPE","internal-error"),_($c,"EMAIL_NOT_FOUND","user-not-found"),_($c,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),_($c,"EXPIRED_OOB_CODE","expired-action-code"),_($c,"INVALID_OOB_CODE","invalid-action-code"),_($c,"MISSING_OOB_CODE","internal-error"),_($c,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),_($c,"INVALID_ID_TOKEN","invalid-user-token"),_($c,"TOKEN_EXPIRED","user-token-expired"),_($c,"USER_NOT_FOUND","user-token-expired"),_($c,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),_($c,"INVALID_CODE","invalid-verification-code"),_($c,"INVALID_SESSION_INFO","invalid-verification-id"),_($c,"INVALID_TEMPORARY_PROOF","invalid-credential"),_($c,"MISSING_SESSION_INFO","missing-verification-id"),_($c,"SESSION_EXPIRED","code-expired"),_($c,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),_($c,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),_($c,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),_($c,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),_($c,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),_($c,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),_($c,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),_($c,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),_($c,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),_($c,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),_($c,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),$c),Ol=new Il(3e4,6e4);function Nl(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Pl(e,t,n,r){return Dl.apply(this,arguments)}function Dl(){return Dl=d(b().mark((function e(t,n,r,i){var a,o=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ll(t,a,d(b().mark((function e(){var a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=vs(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Al.fetch()(Ul(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Ll(e,t,n){return Ml.apply(this,arguments)}function Ml(){return(Ml=d(b().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Rl),n),e.prev=2,a=new jl(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Bl(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Bl(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Bl(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Bl(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw vl(t,p,d);case 34:dl(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ss)){e.next=41;break}throw e.t0;case 41:dl(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])})))).apply(this,arguments)}function Vl(e,t,n,r){return Fl.apply(this,arguments)}function Fl(){return Fl=d(b().mark((function e(t,n,r,i){var a,o,u=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Pl(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&dl(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}function Ul(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Cl(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var jl=function(){function e(t){var n=this;A(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(pl(n.auth,"network-request-failed"))}),Ol.get())}))}return O(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Bl(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=pl(e,t,r);return i.customData._tokenResponse=n,i}function zl(e,t){return ql.apply(this,arguments)}function ql(){return(ql=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wl(e,t){return Hl.apply(this,arguments)}function Hl(){return(Hl=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kl(e,t){return Gl.apply(this,arguments)}function Gl(){return(Gl=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ql(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function $l(){return $l=d(b().mark((function e(t){var n,r,i,a,o,u,s=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=ws(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,gl((a=Xl(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Ql(Yl(a.auth_time)),issuedAtTime:Ql(Yl(a.iat)),expirationTime:Ql(Yl(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Yl(e){return 1e3*Number(e)}function Xl(e){var t,n=s(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return hl("JWT malformed, contained fewer than 3 sections"),null;try{var o=Xu(i);return o?JSON.parse(o):(hl("Failed to decode base64 JWT payload"),null)}catch(u){return hl("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Jl(e,t){return Zl.apply(this,arguments)}function Zl(){return Zl=d(b().mark((function e(t,n){var r=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ss&&ef(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Zl.apply(this,arguments)}function ef(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var tf=function(){function e(t){A(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return O(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(d(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),nf=function(){function e(t,n){A(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return O(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function rf(e){return af.apply(this,arguments)}function af(){return af=d(b().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Jl(t,Kl(r,{idToken:i}));case 6:gl(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?sf(o.providerUserInfo):[],s=uf(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new nf(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function of(){return(of=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ws(t),e.next=3,rf(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uf(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(l(n),l(t))}function sf(e){return e.map((function(e){var t=e.providerId,n=Qc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function cf(e,t){return lf.apply(this,arguments)}function lf(){return(lf=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ll(t,{},d(b().mark((function e(){var r,i,a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=vs({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Ul(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Al.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ff=function(){function e(){A(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return O(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){gl(e.idToken,"internal-error"),gl("undefined"!==typeof e.idToken,"internal-error"),gl("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Xl(e);return gl(t,"internal-error"),gl("undefined"!==typeof t.exp,"internal-error"),gl("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=d(b().mark((function e(t){var n,r=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],gl(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=d(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cf(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return kl("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(gl("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(gl("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(gl("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function hf(e,t){gl("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var df=function(){function e(t){A(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Qc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?l(a.providerData):[],this.metadata=new nf(a.createdAt||void 0,a.lastLoginAt||void 0)}return O(e,[{key:"getIdToken",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jl(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(gl(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return $l.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return of.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(gl(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){gl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=d(b().mark((function e(t){var n,r,i=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,rf(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Jl(this,zl(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;gl(k&&x,t,"internal-error");var S=ff.fromJSON(this.name,x);gl("string"===typeof k,t,"internal-error"),hf(f,t.name),hf(h,t.name),gl("boolean"===typeof b,t,"internal-error"),gl("boolean"===typeof w,t,"internal-error"),hf(d,t.name),hf(p,t.name),hf(v,t.name),hf(m,t.name),hf(y,t.name),hf(g,t.name);var T=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(){var t=d(b().mark((function t(n,r){var i,a,o,u=arguments;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new ff).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,rf(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),pf=function(){function e(){A(this,e),this.type="NONE",this.storage={}}return O(e,[{key:"_isAvailable",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();pf.type="NONE";var vf=pf;function mf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var yf=function(){function e(t,n,r){A(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=mf(this.userKey,a.apiKey,o),this.fullPersistenceKey=mf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return O(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?df._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=d(b().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,p,v,m=arguments;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=m.length>2&&void 0!==m[2]?m[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(_l(vf),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||_l(vf),u=mf(i,n.config.apiKey,n.name),s=null,c=w(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return p=df._fromJSON(n,h),f!==o&&(s=p),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(v=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&v.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=v[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gf(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_f(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sf(t))return"Blackberry";if(Tf(t))return"Webos";if(bf(t))return"Safari";if((t.includes("chrome/")||wf(t))&&!t.includes("edge/"))return"Chrome";if(xf(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function kf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/firefox\//i.test(e)}function bf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/crios\//i.test(e)}function _f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/iemobile/i.test(e)}function xf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/android/i.test(e)}function Sf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/blackberry/i.test(e)}function Tf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/webos/i.test(e)}function Ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function If(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return Ef(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Cf(){return os()&&10===document.documentMode}function Af(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return Ef(e)||xf(e)||Tf(e)||Sf(e)||/windows phone/i.test(e)||_f(e)}function Rf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gf(ts());break;case"Worker":t="".concat(gf(ts()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(vc,"/").concat(r)}var Of=function(){function e(t){A(this,e),this.auth=t,this.queue=[]}return O(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=d(b().mark((function e(t){var n,r,i,a,o,u,s,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=w(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=w(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(BF){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Nf=function(){function e(t,n,r){A(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Df(this),this.idTokenSubscription=new Df(this),this.beforeStateQueue=new Of(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ll,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return O(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=_l(t)),this._initializationPromise=this.queue(d(b().mark((function r(){var i,a;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,yf.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=d(b().mark((function e(t){var n,r,i,a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return gl(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,rf(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?ws(t):null)&&gl(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=d(b().mark((function e(t){var n,r=this,i=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&gl(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(d(b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(_l(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new cs("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return gl(n=t&&_l(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,yf.create(this,[_l(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=d(b().mark((function e(t){var n=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return gl(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return gl(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rf(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=d(b().mark((function e(){var t,n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Pf(e){return ws(e)}var Df=function(){function e(t){var n=this;A(this,e),this.auth=t,this.observer=null,this.addObserver=gs((function(e){return n.observer=e}))}return O(e,[{key:"next",get:function(){return gl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Lf(e,t,n){var r=Pf(e);gl(r._canInitEmulator,r,"emulator-config-failed"),gl(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Mf(t),o=function(e){var t=Mf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Vf(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:Vf(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mf(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Vf(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Ff=function(){function e(t,n){A(this,e),this.providerId=t,this.signInMethod=n}return O(e,[{key:"toJSON",value:function(){return kl("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return kl("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return kl("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return kl("not implemented")}}]),e}();function Uf(e,t){return jf.apply(this,arguments)}function jf(){return(jf=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:resetPassword",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bf(e,t){return zf.apply(this,arguments)}function zf(){return(zf=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qf(e,t){return Wf.apply(this,arguments)}function Wf(){return(Wf=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:update",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hf(e,t){return Kf.apply(this,arguments)}function Kf(){return(Kf=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:signInWithPassword",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gf(e,t){return Qf.apply(this,arguments)}function Qf(){return(Qf=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:sendOobCode",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $f(e,t){return Yf.apply(this,arguments)}function Yf(){return(Yf=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xf(e,t){return Jf.apply(this,arguments)}function Jf(){return(Jf=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zf(e,t){return eh.apply(this,arguments)}function eh(){return(eh=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function th(e,t){return nh.apply(this,arguments)}function nh(){return(nh=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rh(e,t){return ih.apply(this,arguments)}function ih(){return(ih=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:signInWithEmailLink",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ah(e,t){return oh.apply(this,arguments)}function oh(){return(oh=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:signInWithEmailLink",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uh=function(e){E(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return A(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return O(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Hf(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",rh(t,{email:this._email,oobCode:this._password}));case 5:dl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Bf(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ah(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:dl(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Ff);function sh(e,t){return ch.apply(this,arguments)}function ch(){return(ch=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:signInWithIdp",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lh=function(e){E(n,e);var t=C(n);function n(){var e;return A(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return O(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return sh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sh(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=vs(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dl("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Qc(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Ff);function fh(e,t){return hh.apply(this,arguments)}function hh(){return(hh=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:sendVerificationCode",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dh(){return(dh=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:signInWithPhoneNumber",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ph(){return(ph=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vl(t,"POST","/v1/accounts:signInWithPhoneNumber",Nl(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Bl(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vh=_({},"USER_NOT_FOUND","user-not-found");function mh(){return(mh=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Vl(t,"POST","/v1/accounts:signInWithPhoneNumber",Nl(t,r),vh));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yh=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this,"phone","phone")).params=e,r}return O(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return dh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ph.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return mh.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Ff);var gh=function(){function e(t){var n,r,i,a,o,u;A(this,e);var s=ms(ys(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);gl(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return O(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ms(ys(e)).link,n=t?ms(ys(t)).deep_link_id:null,r=ms(ys(e)).deep_link_id;return(r?ms(ys(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var kh=function(){function e(){A(this,e),this.providerId=e.PROVIDER_ID}return O(e,null,[{key:"credential",value:function(e,t){return uh._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=gh.parseLink(t);return gl(n,"argument-error"),uh._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();kh.PROVIDER_ID="password",kh.EMAIL_PASSWORD_SIGN_IN_METHOD="password",kh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var bh=function(){function e(t){A(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return O(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),wh=function(e){E(n,e);var t=C(n);function n(){var e;return A(this,n),(e=t.apply(this,arguments)).scopes=[],e}return O(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return l(this.scopes)}}]),n}(bh),_h=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return gl(e.idToken||e.accessToken,"argument-error"),lh._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return gl("providerId"in t&&"signInMethod"in t,"argument-error"),lh._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(wh),xh=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.call(this,"facebook.com")}return O(n,null,[{key:"credential",value:function(e){return lh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(wh);xh.FACEBOOK_SIGN_IN_METHOD="facebook.com",xh.PROVIDER_ID="facebook.com";var Sh=function(e){E(n,e);var t=C(n);function n(){var e;return A(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return O(n,null,[{key:"credential",value:function(e,t){return lh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(wh);Sh.GOOGLE_SIGN_IN_METHOD="google.com",Sh.PROVIDER_ID="google.com";var Th=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.call(this,"github.com")}return O(n,null,[{key:"credential",value:function(e){return lh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(wh);Th.GITHUB_SIGN_IN_METHOD="github.com",Th.PROVIDER_ID="github.com";var Eh=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return O(n,[{key:"_getIdTokenResponse",value:function(e){return sh(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,sh(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,sh(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Ff),Ih=function(e){E(n,e);var t=C(n);function n(e){return A(this,n),gl(e.startsWith("saml."),"argument-error"),t.call(this,e)}return O(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Eh.fromJSON(e);return gl(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Eh._create(r,n)}catch(i){return null}}}]),n}(bh),Ch=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.call(this,"twitter.com")}return O(n,null,[{key:"credential",value:function(e,t){return lh._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(wh);function Ah(e,t){return Rh.apply(this,arguments)}function Rh(){return(Rh=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:signUp",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Ch.TWITTER_SIGN_IN_METHOD="twitter.com",Ch.PROVIDER_ID="twitter.com";var Oh=function(){function e(t){A(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return O(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=d(b().mark((function t(n,r,i){var a,o,u,s,c=arguments;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,df._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Nh(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=d(b().mark((function t(n,r,i){var a;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Nh(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Nh(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ph(){return Ph=d(b().mark((function e(t){var n,r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pf(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Oh({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ah(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Oh._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ph.apply(this,arguments)}var Dh=function(e){E(n,e);var t=C(n);function n(e,r,i,a){var o,u;return A(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(T(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return O(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ss);function Lh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Dh._fromErrorAndOperation(e,n,t,r);throw n}))}function Mh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Vh(e,t){return Fh.apply(this,arguments)}function Fh(){return Fh=d(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,Bh(!0,r,n);case 3:return e.t0=Wl,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Mh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Fh.apply(this,arguments)}function Uh(e,t){return jh.apply(this,arguments)}function jh(){return jh=d(b().mark((function e(t,n){var r,i,a=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Jl,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Oh._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),jh.apply(this,arguments)}function Bh(e,t,n){return zh.apply(this,arguments)}function zh(){return(zh=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rf(n);case 2:i=Mh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",gl(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qh(e,t){return Wh.apply(this,arguments)}function Wh(){return Wh=d(b().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Jl(t,Lh(a,o,n,t),r);case 6:return gl((u=e.sent).idToken,a,"internal-error"),gl(s=Xl(u.idToken),a,"internal-error"),c=s.sub,gl(t.uid===c,a,"user-mismatch"),e.abrupt("return",Oh._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&dl(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Wh.apply(this,arguments)}function Hh(e,t){return Kh.apply(this,arguments)}function Kh(){return Kh=d(b().mark((function e(t,n){var r,i,a,o,u=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Lh(t,i,n);case 4:return a=e.sent,e.next=7,Oh._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Kh.apply(this,arguments)}function Gh(e,t){return Qh.apply(this,arguments)}function Qh(){return(Qh=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hh(Pf(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $h(e,t){return Yh.apply(this,arguments)}function Yh(){return(Yh=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,Bh(!1,r,n.providerId);case 3:return e.abrupt("return",Uh(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xh(e,t){return Jh.apply(this,arguments)}function Jh(){return(Jh=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qh(ws(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zh(e,t){return ed.apply(this,arguments)}function ed(){return(ed=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vl(t,"POST","/v1/accounts:signInWithCustomToken",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function td(){return(td=d(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pf(t),e.next=3,Zh(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Oh._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nd=function(){function e(t,n){A(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return O(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?rd._fromServerResponse(e,t):dl(e,"internal-error")}}]),e}(),rd=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return O(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(nd);function id(e,t,n){var r;gl((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),gl("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(gl(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(gl(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ad(){return(ad=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),a={requestType:"PASSWORD_RESET",email:n},r&&id(i,a,r),e.next=5,Xf(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function od(){return(od=d(b().mark((function e(t,n,r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uf(ws(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ud(){return(ud=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qf(ws(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sd(e,t){return cd.apply(this,arguments)}function cd(){return(cd=d(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,Uf(r,{oobCode:n});case 3:i=e.sent,gl(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return gl(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:gl(i.mfaInfo,r,"internal-error");case 13:gl(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=nd._fromServerResponse(Pf(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ld(){return(ld=d(b().mark((function e(t,n){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sd(ws(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fd(e,t,n){return hd.apply(this,arguments)}function hd(){return(hd=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pf(t),e.next=3,Ah(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Oh._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dd(e,t,n){return Gh(ws(e),kh.credential(t,n))}function pd(){return(pd=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),a={requestType:"EMAIL_SIGNIN",email:n},gl(r.handleCodeInApp,i,"argument-error"),r&&id(i,a,r),e.next=6,Zf(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vd(){return(vd=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),gl((a=kh.credentialWithLink(n,r||Sl()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Gh(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function md(e,t){return yd.apply(this,arguments)}function yd(){return(yd=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:createAuthUri",Nl(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gd(){return(gd=d(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tl()?Sl():"http://localhost",i={identifier:n,continueUri:r},e.next=4,md(ws(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kd(){return(kd=d(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ws(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&id(r.auth,a,n),e.next=8,$f(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bd(){return(bd=d(b().mark((function e(t,n,r){var i,a,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&id(i.auth,o,r),e.next=8,th(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wd(e,t){return _d.apply(this,arguments)}function _d(){return(_d=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pl(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xd(){return(xd=d(b().mark((function e(t,n){var r,i,a,o,u,s,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=ws(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Jl(a,wd(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sd(e,t,n){return Td.apply(this,arguments)}function Td(){return(Td=d(b().mark((function e(t,n,r){var i,a,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Jl(t,Bf(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ed=O((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};A(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Id=function(e){E(n,e);var t=C(n);function n(e,r,i,a){var o;return A(this,n),(o=t.call(this,e,r,i)).username=a,o}return O(n)}(Ed),Cd=function(e){E(n,e);var t=C(n);function n(e,r){return A(this,n),t.call(this,e,"facebook.com",r)}return O(n)}(Ed),Ad=function(e){E(n,e);var t=C(n);function n(e,r){return A(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return O(n)}(Id),Rd=function(e){E(n,e);var t=C(n);function n(e,r){return A(this,n),t.call(this,e,"google.com",r)}return O(n)}(Ed),Od=function(e){E(n,e);var t=C(n);function n(e,r,i){return A(this,n),t.call(this,e,"twitter.com",r,i)}return O(n)}(Id);function Nd(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Xl(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ed(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Cd(a,i);case"github.com":return new Ad(a,i);case"google.com":return new Rd(a,i);case"twitter.com":return new Od(a,i,e.screenName||null);case"custom":case"anonymous":return new Ed(a,null);default:return new Ed(a,r,i)}}(n)}var Pd=function(){function e(t,n){A(this,e),this.type=t,this.credential=n}return O(e,[{key:"toJSON",value:function(){return{multiFactorSession:_({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Dd=function(){function e(t,n,r){A(this,e),this.session=t,this.hints=n,this.signInResolver=r}return O(e,[{key:"resolveSignIn",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Pf(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return nd._fromServerResponse(r,e)}));gl(i.mfaPendingCredential,r,"internal-error");var o=Pd._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=d(b().mark((function e(t){var a,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Oh._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return gl(n.user,r,"internal-error"),e.abrupt("return",Oh._forOperation(n.user,n.operationType,u));case 17:dl(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ld(e,t){return Pl(e,"POST","/v2/accounts/mfaEnrollment:start",Nl(e,t))}var Md=function(){function e(t){var n=this;A(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return nd._fromServerResponse(t.auth,e)})))}))}return O(e,[{key:"getSession",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Pd,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=d(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Jl(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=d(b().mark((function e(t){var n,r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Jl(this.user,Pl(o=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Nl(o,{idToken:i,mfaEnrollmentId:r})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var o}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Vd=new WeakMap;var Fd="__sak",Ud=function(){function e(t,n){A(this,e),this.storageRetriever=t,this.type=n}return O(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var jd=function(e){E(n,e);var t=C(n);function n(){var e;return A(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ts();return bf(e)||Ef(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Af(),e._shouldAllowMigration=!0,e}return O(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Cf()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=d(b().mark((function e(t,r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc(p(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=d(b().mark((function e(t){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc(p(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc(p(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ud);jd.type="LOCAL";var Bd=jd,zd=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return O(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ud);zd.type="SESSION";var qd=zd;function Wd(e){return Promise.all(e.map(function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Hd=function(){function e(t){A(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return O(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=d(b().mark((function e(t){var n,r,i,a,o,u,s,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Wd(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Kd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hd.receivers=[];var Gd=function(){function e(t){A(this,e),this.target=t,this.handlers=new Set}return O(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=d(b().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Kd("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Qd(){return window}function $d(){return"undefined"!==typeof Qd().WorkerGlobalScope&&"function"===typeof Qd().importScripts}function Yd(){return Xd.apply(this,arguments)}function Xd(){return(Xd=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Jd(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Zd="firebaseLocalStorageDb",ep="firebaseLocalStorage",tp="fbase_key",np=function(){function e(t){A(this,e),this.request=t}return O(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function rp(e,t){return e.transaction([ep],t?"readwrite":"readonly").objectStore(ep)}function ip(){var e=indexedDB.deleteDatabase(Zd);return new np(e).toPromise()}function ap(){var e=indexedDB.open(Zd,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(ep,{keyPath:tp})}catch(r){n(r)}})),e.addEventListener("success",d(b().mark((function n(){var r;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(ep)){n.next=12;break}return r.close(),n.next=5,ip();case 5:return n.t0=t,n.next=8,ap();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function op(e,t,n){return up.apply(this,arguments)}function up(){return up=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=rp(t,!0).put((_(i={},tp,n),_(i,"value",r),i)),e.abrupt("return",new np(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),up.apply(this,arguments)}function sp(e,t){return cp.apply(this,arguments)}function cp(){return cp=d(b().mark((function e(t,n){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rp(t,!1).get(n),e.next=3,new np(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),cp.apply(this,arguments)}function lp(e,t){var n=rp(e,!0).delete(t);return new np(n).toPromise()}var fp=function(){function e(){A(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return O(e,[{key:"_openDb",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,ap();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$d()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=d(b().mark((function e(){var t=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Hd._getInstance($d()?self:null),this.receiver._subscribe("keyChanged",function(){var e=d(b().mark((function e(n,r){var i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=d(b().mark((function e(){var t,n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Gd(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Jd()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,ap();case 5:return t=e.sent,e.next=8,op(t,Fd,"1");case 8:return e.next=10,lp(t,Fd);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=d(b().mark((function e(t,n){var r=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return op(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return sp(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=d(b().mark((function e(t){var n=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return lp(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=d(b().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=rp(e,!1).getAll();return new np(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=w(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(d(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();fp.type="LOCAL";var hp=fp;function dp(e,t){return Pl(e,"POST","/v2/accounts/mfaSignIn:start",Nl(e,t))}function pp(e){return vp.apply(this,arguments)}function vp(){return(vp=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pl(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mp(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=pl("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function yp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var gp=1e12,kp=function(){function e(t){A(this,e),this.auth=t,this.counter=gp,this._widgets=new Map}return O(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new bp(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||gp;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||gp;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||gp,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),bp=function(){function e(t,n,r){var i=this;A(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;gl(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return O(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var wp=yp("rcb"),_p=new Il(3e4,6e4),xp="https://www.google.com/recaptcha/api.js?",Sp=function(){function e(){var t;A(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Qd().grecaptcha)||void 0===t?void 0:t.render)}return O(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return gl(Tp(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Qd().grecaptcha):new Promise((function(r,i){var a=Qd().setTimeout((function(){i(pl(e,"network-request-failed"))}),_p.get());Qd()[wp]=function(){Qd().clearTimeout(a),delete Qd()[wp];var o=Qd().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(pl(e,"internal-error"))},mp("".concat(xp,"?").concat(vs({onload:wp,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(pl(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Qd().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Tp(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Ep=function(){function e(){A(this,e)}return O(e,[{key:"load",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new kp(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ip="recaptcha",Cp={theme:"light",type:"image"},Ap=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Cp),r=arguments.length>2?arguments[2]:void 0;A(this,e),this.parameters=n,this.type=Ip,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pf(r),this.isInvisible="invisible"===this.parameters.size,gl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;gl(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ep:new Sp,this.validateStartingState()}return O(e,[{key:"verify",value:function(){var e=d(b().mark((function e(){var t,n,r,i=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){gl(!this.parameters.sitekey,this.auth,"argument-error"),gl(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),gl("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Qd()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){gl(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=d(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gl(Tl()&&!$d(),this.auth,"internal-error"),e.next=3,Rp();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,pp(this.auth);case 8:gl(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return gl(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Rp(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Op=function(){function e(t,n){A(this,e),this.verificationId=t,this.onConfirmation=n}return O(e,[{key:"confirm",value:function(e){var t=yh._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Np(){return(Np=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pf(t),e.next=3,Mp(i,n,ws(r));case 3:return a=e.sent,e.abrupt("return",new Op(a,(function(e){return Gh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pp(e,t,n){return Dp.apply(this,arguments)}function Dp(){return(Dp=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),e.next=3,Bh(!1,i,"phone");case 3:return e.next=5,Mp(i.auth,n,ws(r));case 5:return a=e.sent,e.abrupt("return",new Op(a,(function(e){return $h(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lp(){return(Lp=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ws(t),e.next=3,Mp(i.auth,n,ws(r));case 3:return a=e.sent,e.abrupt("return",new Op(a,(function(e){return Xh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mp(e,t,n){return Vp.apply(this,arguments)}function Vp(){return Vp=d(b().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,gl("string"===typeof a,t,"argument-error"),gl(r.type===Ip,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return gl("enroll"===u.type,t,"internal-error"),e.next=13,Ld(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return gl("signin"===u.type,t,"internal-error"),gl(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,dp(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,fh(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Vp.apply(this,arguments)}function Fp(){return(Fp=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uh(ws(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Up=function(){function e(t){A(this,e),this.providerId=e.PROVIDER_ID,this.auth=Pf(t)}return O(e,[{key:"verifyPhoneNumber",value:function(e,t){return Mp(this.auth,e,ws(t))}}],[{key:"credential",value:function(e,t){return yh._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?yh._fromTokenResponse(n,r):null}}]),e}();function jp(e,t){return t?_l(t):(gl(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Up.PROVIDER_ID="phone",Up.PHONE_SIGN_IN_METHOD="phone";var Bp=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this,"custom","custom")).params=e,r}return O(n,[{key:"_getIdTokenResponse",value:function(e){return sh(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return sh(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return sh(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Ff);function zp(e){return Hh(e.auth,new Bp(e),e.bypassAuthState)}function qp(e){var t=e.auth,n=e.user;return gl(n,t,"internal-error"),qh(n,new Bp(e),e.bypassAuthState)}function Wp(e){return Hp.apply(this,arguments)}function Hp(){return(Hp=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,gl(r=t.user,n,"internal-error"),e.abrupt("return",Uh(r,new Bp(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Kp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];A(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return O(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=d(b().mark((function t(n,r){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=d(b().mark((function e(t){var n,r,i,a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zp;case"linkViaPopup":case"linkViaRedirect":return Wp;case"reauthViaPopup":case"reauthViaRedirect":return qp;default:dl(this.auth,"internal-error")}}},{key:"resolve",value:function(e){bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){bl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Gp=new Il(2e3,1e4);function Qp(e,t,n){return $p.apply(this,arguments)}function $p(){return($p=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pf(t),ml(t,n,bh),a=jp(i,r),o=new Zp(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yp(){return(Yp=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml((i=ws(t)).auth,n,bh),a=jp(i.auth,r),o=new Zp(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xp(e,t,n){return Jp.apply(this,arguments)}function Jp(){return(Jp=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml((i=ws(t)).auth,n,bh),a=jp(i.auth,r),o=new Zp(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zp=function(e){E(n,e);var t=C(n);function n(e,r,i,a,o){var u;return A(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=T(u),u}return O(n,[{key:"executeNotNull",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return gl(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=d(b().mark((function e(){var t,n=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bl(1===this.filter.length,"Popup operations only handle one event"),t=Kd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(pl(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(pl(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(pl(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Gp.get())}()}}]),n}(Kp);Zp.currentPopupAction=null;var ev=new Map,tv=function(e){E(n,e);var t=C(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return A(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return O(n,[{key:"execute",value:function(){var e=d(b().mark((function e(){var t,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ev.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,nv(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Gc(p(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ev.set(this.auth._key(),t);case 21:return this.bypassAuthState||ev.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=d(b().mark((function e(t){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Gc(p(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Gc(p(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Kp);function nv(e,t){return rv.apply(this,arguments)}function rv(){return(rv=d(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=sv(n),i=uv(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iv(e,t){return av.apply(this,arguments)}function av(){return(av=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uv(t)._set(sv(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ov(e,t){ev.set(e._key(),t)}function uv(e){return _l(e._redirectPersistence)}function sv(e){return mf("pendingRedirect",e.config.apiKey,e.name)}function cv(e,t,n){return function(e,t,n){return lv.apply(this,arguments)}(e,t,n)}function lv(){return(lv=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pf(t),ml(t,n,bh),a=jp(i,r),e.next=5,iv(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fv(e,t,n){return function(e,t,n){return hv.apply(this,arguments)}(e,t,n)}function hv(){return(hv=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml((i=ws(t)).auth,n,bh),a=jp(i.auth,r),e.next=5,iv(a,i.auth);case 5:return e.next=7,kv(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dv(e,t,n){return function(e,t,n){return pv.apply(this,arguments)}(e,t,n)}function pv(){return(pv=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ml((i=ws(t)).auth,n,bh),a=jp(i.auth,r),e.next=5,Bh(!1,i,n.providerId);case 5:return e.next=7,iv(a,i.auth);case 7:return e.next=9,kv(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vv(e,t){return mv.apply(this,arguments)}function mv(){return(mv=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pf(t)._initializationPromise;case 2:return e.abrupt("return",yv(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yv(e,t){return gv.apply(this,arguments)}function gv(){return gv=d(b().mark((function e(t,n){var r,i,a,o,u,s=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Pf(t),a=jp(i,n),o=new tv(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),gv.apply(this,arguments)}function kv(e){return bv.apply(this,arguments)}function bv(){return(bv=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kd("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wv=function(){function e(t){A(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return O(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xv(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!xv(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pl(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(_v(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(_v(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function _v(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function xv(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Sv(e){return Tv.apply(this,arguments)}function Tv(){return Tv=d(b().mark((function e(t){var n,r=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Pl(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}var Ev=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iv=/^https?/;function Cv(){return(Cv=d(b().mark((function e(t){var n,r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Sv(t);case 4:n=e.sent,r=n.authorizedDomains,i=w(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Av(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:dl(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function Av(e){var t=Sl(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Iv.test(r))return!1;if(Ev.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Rv=new Il(3e4,6e4);function Ov(){var e=Qd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=l(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Nv=null;function Pv(e){return Nv=Nv||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ov(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ov(),n(pl(e,"network-request-failed"))},timeout:Rv.get()})}if(null===(i=null===(r=Qd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Qd().gapi)||void 0===a?void 0:a.load)){var u=yp("iframefcb");return Qd()[u]=function(){gapi.load?o():n(pl(e,"network-request-failed"))},mp("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Nv=null,e}))}(e),Nv}var Dv=new Il(5e3,15e3),Lv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vv(e){var t=e.config;gl(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Cl(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:vc},i=Mv.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(vs(r).slice(1))}function Fv(e){return Uv.apply(this,arguments)}function Uv(){return Uv=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pv(t);case 2:return n=e.sent,gl(r=Qd().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Vv(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lv,dontclear:!0},(function(e){return new Promise(function(){var n=d(b().mark((function n(r,i){var a,o,u;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Qd().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=pl(t,"network-request-failed"),o=Qd().setTimeout((function(){i(a)}),Dv.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}var jv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bv="_blank",zv="http://localhost",qv=function(){function e(t){A(this,e),this.window=t,this.associatedEvent=null}return O(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Wv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},jv),{width:r.toString(),height:i.toString(),top:a,left:o}),l=ts().toLowerCase();n&&(u=wf(l)?Bv:n),kf(l)&&(t=t||zv,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(If(l)&&"_self"!==u)return Hv(t||"",u),new qv(null);var h=window.open(t||"",u,f);gl(h,e,"popup-blocked");try{h.focus()}catch(d){}return new qv(h)}function Hv(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Kv="__/auth/handler",Gv="emulator/auth/handler";function Qv(e,t,n,r,i,a){gl(e.config.authDomain,e,"auth-domain-config-required"),gl(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vc,eventId:i};if(t instanceof bh){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof wh){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Kv);return Cl(t,Gv)}(e),"?").concat(vs(p).slice(1))}var $v="webStorageSupport",Yv=function(){function e(){A(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qd,this._completeRedirectFn=yv,this._overrideRedirectResult=ov}return O(e,[{key:"_openPopup",value:function(){var e=d(b().mark((function e(t,n,r,i){var a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bl(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Qv(t,n,r,Sl(),i),e.abrupt("return",Wv(t,o,Kd()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=d(b().mark((function e(t,n,r,i){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Qv(t,n,r,Sl(),i),Qd().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(bl(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fv(t);case 2:return n=e.sent,r=new wv(t),n.register("authEvent",(function(e){return gl(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send($v,{type:$v},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),dl(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Cv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Af()||bf()||Ef()}}]),e}(),Xv=Yv,Jv=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this,"phone")).credential=e,r}return O(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Pl(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nl(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Pl(e,"POST","/v2/accounts/mfaSignIn:finalize",Nl(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){A(this,e),this.factorId=t}return O(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return kl("unexpected MultiFactorSessionType")}}}]),e}()),Zv=function(){function e(){A(this,e)}return O(e,null,[{key:"assertion",value:function(e){return Jv._fromCredential(e)}}]),e}();Zv.FACTOR_ID="phone";var em,tm="@firebase/auth",nm="0.20.5",rm=function(){function e(t){A(this,e),this.auth=t,this.internalListeners=new Map}return O(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){gl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function im(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yc(),t=cc(e,"auth");return t.isInitialized()?t.getImmediate():xl(e,{popupRedirectResolver:Xv,persistence:[hp,Bd,qd]})}function am(){return window}em="Browser",sc(new _s("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){gl(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),gl(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:em,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rf(em)},i=new Nf(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_l);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),sc(new _s("auth-internal",(function(e){return function(e){return new rm(e)}(Pf(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),wc(tm,nm,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(em)),wc(tm,nm,"esm2017");function om(e,t,n){return um.apply(this,arguments)}function um(){return um=d(b().mark((function e(t,n,r){var i,a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=am(),o=a.BuildInfo,bl(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,dm(n.sessionId);case 4:return u=e.sent,s={},Ef()?s.ibi=o.packageName:xf()?s.apn=o.packageName:dl(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Qv(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function sm(){return(sm=d(b().mark((function e(t){var n,r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=am(),r=n.BuildInfo,i={},Ef()?i.iosBundleId=r.packageName:xf()?i.androidPackageName=r.packageName:dl(t,"operation-not-supported-in-this-environment"),e.next=5,Sv(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cm(e){var t=am().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function lm(e,t,n){return fm.apply(this,arguments)}function fm(){return fm=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=am(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(pl(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),xf()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),fm.apply(this,arguments)}function hm(e){var t,n,r,i,a,o,u,s,c,l,f=am();gl("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),gl("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),gl("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gl("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),gl("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function dm(e){return pm.apply(this,arguments)}function pm(){return(pm=d(b().mark((function e(t){var n,r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=vm(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vm(e){if(bl(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var mm=function(e){E(n,e);var t=C(n);function n(){var e;return A(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return O(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Gc(p(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(wv);function ym(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:_m(),postBody:null,tenantId:e.tenantId,error:pl(e,"no-auth-event")}}function gm(e,t){return xm()._set(Sm(e),t)}function km(e){return bm.apply(this,arguments)}function bm(){return(bm=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xm()._get(Sm(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,xm()._remove(Sm(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wm(e,t){var n,r,i=function(e){var t=Tm(e),n=t.link?decodeURIComponent(t.link):void 0,r=Tm(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Tm(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Tm(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?pl(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function _m(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function xm(){return _l(Bd)}function Sm(e){return mf("authEvent",e.config.apiKey,e.name)}function Tm(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||c(t)||o(t)||u();r[0];return ms(r.slice(1).join("?"))}var Em=function(){function e(){A(this,e),this._redirectPersistence=qd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=yv,this._overrideRedirectResult=ov}return O(e,[{key:"_initialize",value:function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new mm(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){dl(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=d(b().mark((function e(t,n,r,i){var a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hm(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ev.clear(),e.next=10,this._originValidation(t);case 10:return o=ym(t,r,i),e.next=13,gm(t,o);case 13:return e.next=15,om(t,o,n);case 15:return u=e.sent,e.next=18,cm(u);case 18:return s=e.sent,e.abrupt("return",lm(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return sm.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=am(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(d(b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,km(e);case 2:t.onEvent(Cm());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=d(b().mark((function n(r){var i,a;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,km(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=wm(i,r.url)),t.onEvent(a||Cm());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");am().handleOpenURL=function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Im=Em;function Cm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pl("no-auth-event")}}function Am(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Rm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return!("file:"!==Am()&&"ionic:"!==Am()&&"capacitor:"!==Am()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Om(){return os()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Nm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return/Edge\/\d+/.test(e)}function Pm(){try{var e=self.localStorage,t=Kd();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ts();return Om()||Nm(e)}()||us()}catch(n){return Dm()&&us()}return!1}function Dm(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Lm(){return("http:"===Am()||"https:"===Am()||is()||Rm())&&!(as()||rs())&&Pm()&&!Dm()}function Mm(){return Rm()&&"undefined"!==typeof document}function Vm(){return Fm.apply(this,arguments)}function Fm(){return Fm=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Mm()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}var Um={LOCAL:"local",NONE:"none",SESSION:"session"},jm=gl,Bm="persistence";function zm(e,t){jm(Object.values(Um).includes(t),e,"invalid-persistence-type"),as()?jm(t!==Um.SESSION,e,"unsupported-persistence-type"):rs()?jm(t===Um.NONE,e,"unsupported-persistence-type"):Dm()?jm(t===Um.NONE||t===Um.LOCAL&&us(),e,"unsupported-persistence-type"):jm(t===Um.NONE||Pm(),e,"unsupported-persistence-type")}function qm(e){return Wm.apply(this,arguments)}function Wm(){return(Wm=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Hm(),r=mf(Bm,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hm(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Km=gl,Gm=function(){function e(){A(this,e),this.browserResolver=_l(Xv),this.cordovaResolver=_l(Im),this.underlyingResolver=null,this._redirectPersistence=qd,this._completeRedirectFn=yv,this._overrideRedirectResult=ov}return O(e,[{key:"_initialize",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=d(b().mark((function e(t,n,r,i){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=d(b().mark((function e(t,n,r,i){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Mm()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Km(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Vm();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qm(e){return e.unwrap()}function $m(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new ey(e,function(e,t){var n,r=ws(e),i=t;return gl(t.customData.operationType,r,"argument-error"),gl(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Dd._fromError(r,i)}(e,t));else if(i){var a=Ym(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Ym(e){var t=(e instanceof ss?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ss)&&"temporaryProof"in t&&"phoneNumber"in t)return Up.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Zc)return null;switch(r){case Jc:n=Sh;break;case Yc:n=xh;break;case Xc:n=Th;break;case el:n=Ch;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Eh._create(r,u):lh._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new _h(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof ss?n.credentialFromError(e):n.credentialFromResult(e)}function Xm(e,t){return t.catch((function(t){throw t instanceof ss&&$m(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Ym(t)),additionalUserInfo:Nd(e),user:ty.getOrCreate(r)}}))}function Jm(e,t){return Zm.apply(this,arguments)}function Zm(){return(Zm=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Xm(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ey=function(){function e(t,n){A(this,e),this.resolver=n,this.auth=t.wrapped()}return O(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Xm(Qm(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ty=function(){function e(t){A(this,e),this._delegate=t,this.multiFactor=function(e){var t=ws(e);return Vd.has(t)||Vd.set(t,Md._fromUser(t)),Vd.get(t)}(t)}return O(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xm(this.auth,$h(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Jm(this.auth,Pp(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xm(this.auth,Xp(this._delegate,t,Gm)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(Pf(this.auth));case 2:return e.abrupt("return",dv(this._delegate,t,Gm));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xm(this.auth,Xh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Jm(this.auth,function(e,t,n){return Lp.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Xm(this.auth,function(e,t,n){return Yp.apply(this,arguments)}(this._delegate,e,Gm))}},{key:"reauthenticateWithRedirect",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qm(Pf(this.auth));case 2:return e.abrupt("return",fv(this._delegate,t,Gm));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return kd.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vh(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Sd(ws(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Sd(ws(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Fp.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return xd.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return bd.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ty.USER_MAP=new WeakMap;var ny=gl,ry=function(){function e(t,n){if(A(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ny(r,"invalid-api-key",{appName:t.name}),ny(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Gm:void 0;this._delegate=n.initialize({options:{persistence:ay(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(sl),this.linkUnderlyingAuth()}return O(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ty.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Lf(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ud.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return sd(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return od.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xm(this._delegate,fd(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return gd.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=gh.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ny(Lm(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,vv(this._delegate,Gm);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Xm(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Pf(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=iy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=iy(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return pd.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ad.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zm(this._delegate,t),e.t0=t,e.next=e.t0===Um.SESSION?4:e.t0===Um.LOCAL?6:e.t0===Um.NONE?11:13;break;case 4:return n=qd,e.abrupt("break",14);case 6:return e.next=8,_l(hp)._isAvailable();case 8:return r=e.sent,n=r?hp:Bd,e.abrupt("break",14);case 11:return n=vf,e.abrupt("break",14);case 13:return e.abrupt("return",dl("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Xm(this._delegate,function(e){return Ph.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Xm(this._delegate,Gh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Xm(this._delegate,function(e,t){return td.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Xm(this._delegate,dd(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Xm(this._delegate,function(e,t,n){return vd.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Jm(this._delegate,function(e,t,n){return Np.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ny(Lm(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Xm(this._delegate,Qp(this._delegate,t,Gm)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ny(Lm(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,qm(this._delegate);case 3:return e.abrupt("return",cv(this._delegate,t,Gm));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ld.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function iy(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ty.getOrCreate(e))},error:t,complete:n}}function ay(e,t){var n=function(e,t){var n=Hm();if(!n)return[];var r=mf(Bm,e,t);switch(n.getItem(r)){case Um.NONE:return[vf];case Um.LOCAL:return[hp,qd];case Um.SESSION:return[qd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(hp)||n.push(hp),"undefined"!==typeof window)for(var r=0,i=[Bd,qd];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(vf)||n.push(vf),n}ry.Persistence=Um;var oy=function(){function e(){A(this,e),this.providerId="phone",this._delegate=new Up(Qm(Hc.auth()))}return O(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Up.credential(e,t)}}]),e}();oy.PHONE_SIGN_IN_METHOD=Up.PHONE_SIGN_IN_METHOD,oy.PROVIDER_ID=Up.PROVIDER_ID;var uy,sy=gl,cy=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Hc.app();A(this,e),sy(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Ap(t,n,i.auth()),this.type=this._delegate.type}return O(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(uy=Hc).INTERNAL.registerComponent(new _s("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ry(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:tl,PASSWORD_RESET:nl,RECOVER_EMAIL:rl,REVERT_SECOND_FACTOR_ADDITION:il,VERIFY_AND_CHANGE_EMAIL:al,VERIFY_EMAIL:ol}},EmailAuthProvider:kh,FacebookAuthProvider:xh,GithubAuthProvider:Th,GoogleAuthProvider:Sh,OAuthProvider:_h,SAMLAuthProvider:Ih,PhoneAuthProvider:oy,PhoneMultiFactorGenerator:Zv,RecaptchaVerifier:cy,TwitterAuthProvider:Ch,Auth:ry,AuthCredential:Ff,Error:ss}).setInstantiationMode("LAZY").setMultipleInstances(!1)),uy.registerVersion("@firebase/auth-compat","0.2.18");var ly,fy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},hy={},dy=dy||{},py=fy||self;function vy(){}function my(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function yy(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var gy="closure_uid_"+(1e9*Math.random()>>>0),ky=0;function by(e,t,n){return e.call.apply(e.bind,arguments)}function wy(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _y(e,t,n){return(_y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?by:wy).apply(null,arguments)}function xy(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Sy(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Ty(){this.s=this.s,this.o=this.o}var Ey={};Ty.prototype.s=!1,Ty.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,gy)&&e[gy]||(e[gy]=++ky)}(this);delete Ey[e]}},Ty.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Iy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Cy=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Ay(e){return Array.prototype.concat.apply([],arguments)}function Ry(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Oy(e){return/^[\s\xa0]*$/.test(e)}var Ny,Py=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Dy(e,t){return-1!=e.indexOf(t)}function Ly(e,t){return e<t?-1:e>t?1:0}e:{var My=py.navigator;if(My){var Vy=My.userAgent;if(Vy){Ny=Vy;break e}}Ny=""}function Fy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Uy(e){var t={};for(var n in e)t[n]=e[n];return t}var jy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function By(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<jy.length;a++)n=jy[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function zy(e){return zy[" "](e),e}zy[" "]=vy;var qy,Wy=Dy(Ny,"Opera"),Hy=Dy(Ny,"Trident")||Dy(Ny,"MSIE"),Ky=Dy(Ny,"Edge"),Gy=Ky||Hy,Qy=Dy(Ny,"Gecko")&&!(Dy(Ny.toLowerCase(),"webkit")&&!Dy(Ny,"Edge"))&&!(Dy(Ny,"Trident")||Dy(Ny,"MSIE"))&&!Dy(Ny,"Edge"),$y=Dy(Ny.toLowerCase(),"webkit")&&!Dy(Ny,"Edge");function Yy(){var e=py.document;return e?e.documentMode:void 0}e:{var Xy="",Jy=function(){var e=Ny;return Qy?/rv:([^\);]+)(\)|;)/.exec(e):Ky?/Edge\/([\d\.]+)/.exec(e):Hy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$y?/WebKit\/(\S+)/.exec(e):Wy?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Jy&&(Xy=Jy?Jy[1]:""),Hy){var Zy=Yy();if(null!=Zy&&Zy>parseFloat(Xy)){qy=String(Zy);break e}}qy=Xy}var eg,tg={};function ng(){return function(e){var t=tg;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Py(String(qy)).split("."),n=Py("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ly(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ly(0==a[2].length,0==o[2].length)||Ly(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(py.document&&Hy){var rg=Yy();eg=rg||(parseInt(qy,10)||void 0)}else eg=void 0;var ig=eg,ag=function(){if(!py.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{py.addEventListener("test",vy,t),py.removeEventListener("test",vy,t)}catch(n){}return e}();function og(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ug(e,t){if(og.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qy){e:{try{zy(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:sg[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ug.Z.h.call(this)}}og.prototype.h=function(){this.defaultPrevented=!0},Sy(ug,og);var sg={2:"touch",3:"pen",4:"mouse"};ug.prototype.h=function(){ug.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var cg="closure_listenable_"+(1e6*Math.random()|0),lg=0;function fg(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++lg,this.ca=this.fa=!1}function hg(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function dg(e){this.src=e,this.g={},this.h=0}function pg(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Iy(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(hg(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function vg(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}dg.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=vg(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fg(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var mg="closure_lm_"+(1e6*Math.random()|0),yg={};function gg(e,t,n,r,i){if(r&&r.once)return bg(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)gg(e,t[a],n,r,i);return null}return n=Ig(n),e&&e[cg]?e.N(t,n,yy(r)?!!r.capture:!!r,i):kg(e,t,n,!1,r,i)}function kg(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=yy(i)?!!i.capture:!!i,u=Tg(e);if(u||(e[mg]=u=new dg(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Sg;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ag||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xg(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function bg(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)bg(e,t[a],n,r,i);return null}return n=Ig(n),e&&e[cg]?e.O(t,n,yy(r)?!!r.capture:!!r,i):kg(e,t,n,!0,r,i)}function wg(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)wg(e,t[a],n,r,i);else r=yy(r)?!!r.capture:!!r,n=Ig(n),e&&e[cg]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=vg(a=e.g[t],n,r,i))&&(hg(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Tg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vg(t,n,r,i)),(n=-1<e?t[e]:null)&&_g(n))}function _g(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[cg])pg(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xg(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tg(t))?(pg(n,e),0==n.h&&(n.src=null,t[mg]=null)):hg(e)}}}function xg(e){return e in yg?yg[e]:yg[e]="on"+e}function Sg(e,t){if(e.ca)e=!0;else{t=new ug(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&_g(e),e=n.call(r,t)}return e}function Tg(e){return(e=e[mg])instanceof dg?e:null}var Eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ig(e){return"function"===typeof e?e:(e[Eg]||(e[Eg]=function(t){return e.handleEvent(t)}),e[Eg])}function Cg(){Ty.call(this),this.i=new dg(this),this.P=this,this.I=null}function Ag(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new og(t,e);else if(t instanceof og)t.target=t.target||e;else{var i=t;By(t=new og(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Rg(o,r,!0,t)&&i}if(i=Rg(o=t.g=e,r,!0,t)&&i,i=Rg(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Rg(o=t.g=n[a],r,!1,t)&&i}function Rg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&pg(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Sy(Cg,Ty),Cg.prototype[cg]=!0,Cg.prototype.removeEventListener=function(e,t,n,r){wg(this,e,t,n,r)},Cg.prototype.M=function(){if(Cg.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hg(n[r]);delete t.g[e],t.h--}}this.I=null},Cg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Cg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Og=py.JSON.stringify;function Ng(){var e=jg,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Pg,Dg=function(){function e(){A(this,e),this.h=this.g=null}return O(e,[{key:"add",value:function(e,t){var n=Lg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Lg=new(function(){function e(t,n){A(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return O(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Mg}),(function(e){return e.reset()})),Mg=function(){function e(){A(this,e),this.next=this.g=this.h=null}return O(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Vg(e){py.setTimeout((function(){throw e}),0)}function Fg(e,t){Pg||function(){var e=py.Promise.resolve(void 0);Pg=function(){e.then(Bg)}}(),Ug||(Pg(),Ug=!0),jg.add(e,t)}var Ug=!1,jg=new Dg;function Bg(){for(var e;e=Ng();){try{e.h.call(e.g)}catch(n){Vg(n)}var t=Lg;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ug=!1}function zg(e,t){Cg.call(this),this.h=e||1,this.g=t||py,this.j=_y(this.kb,this),this.l=Date.now()}function qg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Wg(e,t,n){if("function"===typeof e)n&&(e=_y(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_y(e.handleEvent,e)}return 2147483647<Number(t)?-1:py.setTimeout(e,t||0)}function Hg(e){e.g=Wg((function(){e.g=null,e.i&&(e.i=!1,Hg(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Sy(zg,Cg),(ly=zg.prototype).da=!1,ly.S=null,ly.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ag(this,"tick"),this.da&&(qg(this),this.start()))}},ly.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ly.M=function(){zg.Z.M.call(this),qg(this),delete this.g};var Kg=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return O(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Hg(this)}},{key:"M",value:function(){Gc(p(n.prototype),"M",this).call(this),this.g&&(py.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Ty);function Gg(e){Ty.call(this),this.h=e,this.g={}}Sy(Gg,Ty);var Qg=[];function $g(e,t,n,r){Array.isArray(n)||(n&&(Qg[0]=n.toString()),n=Qg);for(var i=0;i<n.length;i++){var a=gg(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Yg(e){Fy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&_g(e)}),e),e.g={}}function Xg(){this.g=!0}function Jg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Og(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Gg.prototype.M=function(){Gg.Z.M.call(this),Yg(this)},Gg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xg.prototype.Aa=function(){this.g=!1},Xg.prototype.info=function(){};var Zg={},ek=null;function tk(){return ek=ek||new Cg}function nk(e){og.call(this,Zg.Ma,e)}function rk(e){var t=tk();Ag(t,new nk(t,e))}function ik(e,t){og.call(this,Zg.STAT_EVENT,e),this.stat=t}function ak(e){var t=tk();Ag(t,new ik(t,e))}function ok(e,t){og.call(this,Zg.Na,e),this.size=t}function uk(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return py.setTimeout((function(){e()}),t)}Zg.Ma="serverreachability",Sy(nk,og),Zg.STAT_EVENT="statevent",Sy(ik,og),Zg.Na="timingevent",Sy(ok,og);var sk={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ck={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lk(){}function fk(e){return e.h||(e.h=e.i())}function hk(){}lk.prototype.h=null;var dk,pk={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vk(){og.call(this,"d")}function mk(){og.call(this,"c")}function yk(){}function gk(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Gg(this),this.P=bk,e=Gy?125:void 0,this.W=new zg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new kk}function kk(){this.i=null,this.g="",this.h=!1}Sy(vk,og),Sy(mk,og),Sy(yk,lk),yk.prototype.g=function(){return new XMLHttpRequest},yk.prototype.i=function(){return{}},dk=new yk;var bk=45e3,wk={},_k={};function xk(e,t,n){e.K=1,e.v=Kk(jk(t)),e.s=n,e.U=!0,Sk(e,null)}function Sk(e,t){e.F=Date.now(),Ck(e),e.A=jk(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),ab(n.h,"t",r),e.C=0,n=e.l.H,e.h=new kk,e.g=ow(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Kg(_y(e.Ia,e,e.g),e.O)),$g(e.V,e.g,"readystatechange",e.gb),t=e.H?Uy(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rk(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Tk(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ek(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ik(e,n))==_k){4==t&&(e.o=4,ak(14),i=!1),Jg(e.j,e.m,null,"[Incomplete Response]");break}if(r==wk){e.o=4,ak(15),Jg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jg(e.j,e.m,r,null),Pk(e,r)}Tk(e)&&r!=_k&&r!=wk&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ak(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jb(t),t.L=!0,ak(11))):(Jg(e.j,e.m,n,"[Invalid Chunked Response]"),Nk(e),Ok(e))}function Ik(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_k:(n=Number(t.substring(n,r)),isNaN(n)?wk:(r+=1)+n>t.length?_k:(t=t.substr(r,n),e.C=r+n,t))}function Ck(e){e.Y=Date.now()+e.P,Ak(e,e.P)}function Ak(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=uk(_y(e.eb,e),t)}function Rk(e){e.B&&(py.clearTimeout(e.B),e.B=null)}function Ok(e){0==e.l.G||e.I||tw(e.l,e)}function Nk(e){Rk(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qg(e.W),Yg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pk(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hb(n.i,e)))if(n.I=e.N,!e.J&&hb(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;ew(n),qb(n)}Xb(n),ak(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=uk(_y(n.ab,n),6e3));if(1>=fb(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else rw(n,11)}else if((e.J||n.g==e)&&ew(n),!Oy(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Dy(l,"spdy")||Dy(l,"quic")||Dy(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(db(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Hk(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=aw(r,r.H?r.la:null,r.W),d.J){pb(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Rk(p),Ck(p)),r.g=d}else Yb(r);0<n.l.length&&Kb(n)}else"stop"!=a[0]&&"close"!=a[0]||rw(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?rw(n,7):zb(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}rk(4)}catch(a){}}function Dk(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(my(e)||"string"===typeof e)Cy(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(my(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(my(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Lk(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Lk)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Mk(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Vk(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Vk(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Vk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ly=gk.prototype).setTimeout=function(e){this.P=e},ly.gb=function(e){e=e.target;var t=this.L;t&&3==Vb(e)?t.l():this.Ia(e)},ly.Ia=function(e){try{if(e==this.g)e:{var t=Vb(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Gy||this.g&&(this.h.h||this.g.ga()||Fb(this.g)))){this.I||4!=t||7==n||rk(8==n||0>=r?3:2),Rk(this);var i=this.g.ba();this.N=i;t:if(Tk(this)){var a=Fb(this.g);e="";var o=a.length,u=4==Vb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Nk(this),Ok(this);var s="";break t}this.h.i=new py.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oy(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ak(12),Nk(this),Ok(this);break e}Jg(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pk(this,i)}this.U?(Ek(this,t,s),Gy&&this.i&&3==t&&($g(this.V,this.W,"tick",this.fb),this.W.start())):(Jg(this.j,this.m,s,null),Pk(this,s)),4==t&&Nk(this),this.i&&!this.I&&(4==t?tw(this.l,this):(this.i=!1,Ck(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ak(12)):(this.o=0,ak(13)),Nk(this),Ok(this)}}}catch(t){}},ly.fb=function(){if(this.g){var e=Vb(this.g),t=this.g.ga();this.C<t.length&&(Rk(this),Ek(this,e,t),this.i&&4!=e&&Ck(this))}},ly.cancel=function(){this.I=!0,Nk(this)},ly.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rk(3),ak(17)),Nk(this),this.o=2,Ok(this)):Ak(this,this.Y-e)},(ly=Lk.prototype).R=function(){Mk(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ly.T=function(){return Mk(this),this.g.concat()},ly.get=function(e,t){return Vk(this.h,e)?this.h[e]:t},ly.set=function(e,t){Vk(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ly.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Fk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Uk(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Uk){this.g=void 0!==t?t:e.g,Bk(this,e.j),this.s=e.s,zk(this,e.i),qk(this,e.m),this.l=e.l,t=e.h;var n=new tb;n.i=t.i,t.g&&(n.g=new Lk(t.g),n.h=t.h),Wk(this,n),this.o=e.o}else e&&(n=String(e).match(Fk))?(this.g=!!t,Bk(this,n[1]||"",!0),this.s=Gk(n[2]||""),zk(this,n[3]||"",!0),qk(this,n[4]),this.l=Gk(n[5]||"",!0),Wk(this,n[6]||"",!0),this.o=Gk(n[7]||"")):(this.g=!!t,this.h=new tb(null,this.g))}function jk(e){return new Uk(e)}function Bk(e,t,n){e.j=n?Gk(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zk(e,t,n){e.i=n?Gk(t,!0):t}function qk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wk(e,t,n){t instanceof tb?(e.h=t,function(e,t){t&&!e.j&&(nb(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rb(this,t),ab(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Qk(t,Zk)),e.h=new tb(t,e.g))}function Hk(e,t,n){e.h.set(t,n)}function Kk(e){return Hk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gk(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Qk(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,$k),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $k(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Uk.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Qk(t,Yk,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Qk(t,Yk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Qk(n,"/"==n.charAt(0)?Jk:Xk,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Qk(n,eb)),e.join("")};var Yk=/[#\/\?@]/g,Xk=/[#\?:]/g,Jk=/[#\?]/g,Zk=/[#\?@]/g,eb=/#/g;function tb(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nb(e){e.g||(e.g=new Lk,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rb(e,t){nb(e),t=ob(e,t),Vk(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Vk((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Mk(e)))}function ib(e,t){return nb(e),t=ob(e,t),Vk(e.g.h,t)}function ab(e,t,n){rb(e,t),0<n.length&&(e.i=null,e.g.set(ob(e,t),Ry(n)),e.h+=n.length)}function ob(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ly=tb.prototype).add=function(e,t){nb(this),this.i=null,e=ob(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ly.forEach=function(e,t){nb(this),this.g.forEach((function(n,r){Cy(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ly.T=function(){nb(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ly.R=function(e){nb(this);var t=[];if("string"===typeof e)ib(this,e)&&(t=Ay(t,this.g.get(ob(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Ay(t,e[n])}return t},ly.set=function(e,t){return nb(this),this.i=null,ib(this,e=ob(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ly.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ly.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ub=O((function e(t,n){A(this,e),this.h=t,this.g=n}));function sb(e){this.l=e||cb,py.PerformanceNavigationTiming?e=0<(e=py.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(py.g&&py.g.Ea&&py.g.Ea()&&py.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cb=10;function lb(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fb(e){return e.h?1:e.g?e.g.size:0}function hb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function db(e,t){e.g?e.g.add(t):e.h=t}function pb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vb(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=w(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ry(e.i)}function mb(){}function yb(){this.g=new mb}function gb(e,t,n){var r=n||"";try{Dk(e,(function(e,n){var i=e;yy(e)&&(i=Og(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function kb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function bb(e){this.l=e.$b||null,this.j=e.ib||!1}function wb(e,t){Cg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_b,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sb.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=w(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},mb.prototype.stringify=function(e){return py.JSON.stringify(e,void 0)},mb.prototype.parse=function(e){return py.JSON.parse(e,void 0)},Sy(bb,lk),bb.prototype.g=function(){return new wb(this.l,this.j)},bb.prototype.i=function(e){return function(){return e}}({}),Sy(wb,Cg);var _b=0;function xb(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Sb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tb(e)}function Tb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ly=wb.prototype).open=function(e,t){if(this.readyState!=_b)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tb(this)},ly.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||py).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ly.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sb(this)),this.readyState=_b},ly.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tb(this)),this.g&&(this.readyState=3,Tb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof py.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;xb(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ly.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sb(this):Tb(this),3==this.readyState&&xb(this)}},ly.Ua=function(e){this.g&&(this.response=this.responseText=e,Sb(this))},ly.Ta=function(e){this.g&&(this.response=e,Sb(this))},ly.ha=function(){this.g&&Sb(this)},ly.setRequestHeader=function(e,t){this.v.append(e,t)},ly.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ly.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Eb=py.JSON.parse;function Ib(e){Cg.call(this),this.headers=new Lk,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cb,this.K=this.L=!1}Sy(Ib,Cg);var Cb="",Ab=/^https?$/i,Rb=["POST","PUT"];function Ob(e){return"content-type"==e.toLowerCase()}function Nb(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pb(e),Lb(e)}function Pb(e){e.D||(e.D=!0,Ag(e,"complete"),Ag(e,"error"))}function Db(e){if(e.h&&"undefined"!=typeof dy&&(!e.C[1]||4!=Vb(e)||2!=e.ba()))if(e.v&&4==Vb(e))Wg(e.Fa,0,e);else if(Ag(e,"readystatechange"),4==Vb(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Fk)[1]||null;if(!a&&py.self&&py.self.location){var o=py.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ab.test(a?a.toLowerCase():"")}t=i}if(t)Ag(e,"complete"),Ag(e,"success");else{e.m=6;try{var u=2<Vb(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Pb(e)}}finally{Lb(e)}}}function Lb(e,t){if(e.g){Mb(e);var n=e.g,r=e.C[0]?vy:null;e.g=null,e.C=null,t||Ag(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Mb(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(py.clearTimeout(e.A),e.A=null)}function Vb(e){return e.g?e.g.readyState:0}function Fb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Cb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(jF){return null}}function Ub(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Fy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Hk(e,t,n))}function jb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bb(e){this.za=0,this.l=[],this.h=new Xg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=jb("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=jb("baseRetryDelayMs",5e3,e),this.$a=jb("retryDelaySeedMs",1e4,e),this.Ya=jb("forwardChannelMaxRetries",2,e),this.ra=jb("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sb(e&&e.concurrentRequestLimit),this.Ca=new yb,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function zb(e){if(Wb(e),3==e.G){var t=e.V++,n=jk(e.F);Hk(n,"SID",e.J),Hk(n,"RID",t),Hk(n,"TYPE","terminate"),Qb(e,n),(t=new gk(e,e.h,t,void 0)).K=2,t.v=Kk(jk(n)),n=!1,py.navigator&&py.navigator.sendBeacon&&(n=py.navigator.sendBeacon(t.v.toString(),"")),!n&&py.Image&&((new Image).src=t.v,n=!0),n||(t.g=ow(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ck(t)}iw(e)}function qb(e){e.g&&(Jb(e),e.g.cancel(),e.g=null)}function Wb(e){qb(e),e.u&&(py.clearTimeout(e.u),e.u=null),ew(e),e.i.cancel(),e.m&&("number"===typeof e.m&&py.clearTimeout(e.m),e.m=null)}function Hb(e,t){e.l.push(new ub(e.Za++,t)),3==e.G&&Kb(e)}function Kb(e){lb(e.i)||e.m||(e.m=!0,Fg(e.Ha,e),e.C=0)}function Gb(e,t){var n;n=t?t.m:e.V++;var r=jk(e.F);Hk(r,"SID",e.J),Hk(r,"RID",n),Hk(r,"AID",e.U),Qb(e,r),e.o&&e.s&&Ub(r,e.o,e.s),n=new gk(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$b(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),db(e.i,n),xk(n,r,t)}function Qb(e,t){e.j&&Dk({},(function(e,n){Hk(t,n,e)}))}function $b(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_y(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{gb(l,o,"req"+c+"_")}catch(Dw){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Yb(e){e.g||e.u||(e.Y=1,Fg(e.Ga,e),e.A=0)}function Xb(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=uk(_y(e.Ga,e),nw(e,e.A)),e.A++,!0)}function Jb(e){null!=e.B&&(py.clearTimeout(e.B),e.B=null)}function Zb(e){e.g=new gk(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=jk(e.oa);Hk(t,"RID","rpc"),Hk(t,"SID",e.J),Hk(t,"CI",e.N?"0":"1"),Hk(t,"AID",e.U),Qb(e,t),Hk(t,"TYPE","xmlhttp"),e.o&&e.s&&Ub(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Kk(jk(t)),n.s=null,n.U=!0,Sk(n,e)}function ew(e){null!=e.v&&(py.clearTimeout(e.v),e.v=null)}function tw(e,t){var n=null;if(e.g==t){ew(e),Jb(e),e.g=null;var r=2}else{if(!hb(e.i,t))return;n=t.D,pb(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ag(r=tk(),new ok(r,n,t,i)),Kb(e)}else Yb(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(fb(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=uk(_y(e.Ha,e,t),nw(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rw(e,5);break;case 4:rw(e,10);break;case 3:rw(e,6);break;default:rw(e,2)}}function nw(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rw(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=_y(e.jb,e);n||(n=new Uk("//www.google.com/images/cleardot.gif"),py.location&&"http"==py.location.protocol||Bk(n,"https"),Kk(n)),function(e,t){var n=new Xg;if(py.Image){var r=new Image;r.onload=xy(kb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=xy(kb,n,r,"TestLoadImage: error",!1,t),r.onabort=xy(kb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=xy(kb,n,r,"TestLoadImage: timeout",!1,t),py.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ak(2);e.G=0,e.j&&e.j.va(t),iw(e),Wb(e)}function iw(e){e.G=0,e.I=-1,e.j&&(0==vb(e.i).length&&0==e.l.length||(e.i.i.length=0,Ry(e.l),e.l.length=0),e.j.ua())}function aw(e,t,n){var r=function(e){return e instanceof Uk?jk(e):new Uk(e,void 0)}(n);if(""!=r.i)t&&zk(r,t+"."+r.i),qk(r,r.m);else{var i=py.location;r=function(e,t,n,r){var i=new Uk(null,void 0);return e&&Bk(i,e),t&&zk(i,t),n&&qk(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Fy(e.aa,(function(e,t){Hk(r,t,e)})),t=e.D,n=e.sa,t&&n&&Hk(r,t,n),Hk(r,"VER",e.ma),Qb(e,r),r}function ow(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ib(new bb({ib:!0})):new Ib(e.qa)).L=e.H,t}function uw(){}function sw(){if(Hy&&!(10<=Number(ig)))throw Error("Environmental error: no available transport.")}function cw(e,t){Cg.call(this),this.g=new Bb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Oy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oy(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hw(this)}function lw(e){vk.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fw(){mk.call(this),this.status=1}function hw(e){this.g=e}(ly=Ib.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dk.g(),this.C=this.u?fk(this.u):fk(dk),this.g.onreadystatechange=_y(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Nb(this,a)}e=n||"";var i=new Lk(this.headers);r&&Dk(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ob,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=py.FormData&&e instanceof py.FormData,!(0<=Iy(Rb,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mb(this),0<this.B&&((this.K=function(e){return Hy&&ng()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_y(this.pa,this)):this.A=Wg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Nb(this,a)}},ly.pa=function(){"undefined"!=typeof dy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ag(this,"timeout"),this.abort(8))},ly.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ag(this,"complete"),Ag(this,"abort"),Lb(this))},ly.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lb(this,!0)),Ib.Z.M.call(this)},ly.Fa=function(){this.s||(this.F||this.v||this.l?Db(this):this.cb())},ly.cb=function(){Db(this)},ly.ba=function(){try{return 2<Vb(this)?this.g.status:-1}catch(oW){return-1}},ly.ga=function(){try{return this.g?this.g.responseText:""}catch(oW){return""}},ly.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Eb(t)}},ly.Da=function(){return this.m},ly.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ly=Bb.prototype).ma=8,ly.G=1,ly.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(jF){}},ly.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gk(this,this.h,e,void 0),n=this.s;if(this.P&&(n?By(n=Uy(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$b(this,t,r),Hk(i=jk(this.F),"RID",e),Hk(i,"CVER",22),this.D&&Hk(i,"X-HTTP-Session-Id",this.D),Qb(this,i),this.o&&n&&Ub(i,this.o,n),db(this.i,t),this.Ra&&Hk(i,"TYPE","init"),this.ja?(Hk(i,"$req",r),Hk(i,"SID","null"),t.$=!0,xk(t,i,null)):xk(t,i,r),this.G=2}}else 3==this.G&&(e?Gb(this,e):0==this.l.length||lb(this.i)||Gb(this))},ly.Ga=function(){if(this.u=null,Zb(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=uk(_y(this.bb,this),e)}},ly.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ak(10),qb(this),Zb(this))},ly.ab=function(){null!=this.v&&(this.v=null,qb(this),Xb(this),ak(19))},ly.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ak(2)):(this.h.info("Failed to ping google.com"),ak(1))},(ly=uw.prototype).xa=function(){},ly.wa=function(){},ly.va=function(){},ly.ua=function(){},ly.Oa=function(){},sw.prototype.g=function(e,t){return new cw(e,t)},Sy(cw,Cg),cw.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fg(_y(e.hb,e,t))),ak(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=aw(e,null,e.W),Kb(e)},cw.prototype.close=function(){zb(this.g)},cw.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hb(this.g,t)}else this.v?((t={}).__data__=Og(e),Hb(this.g,t)):Hb(this.g,e)},cw.prototype.M=function(){this.g.j=null,delete this.j,zb(this.g),delete this.g,cw.Z.M.call(this)},Sy(lw,vk),Sy(fw,mk),Sy(hw,uw),hw.prototype.xa=function(){Ag(this.g,"a")},hw.prototype.wa=function(e){Ag(this.g,new lw(e))},hw.prototype.va=function(e){Ag(this.g,new fw(e))},hw.prototype.ua=function(){Ag(this.g,"b")},sw.prototype.createWebChannel=sw.prototype.g,cw.prototype.send=cw.prototype.u,cw.prototype.open=cw.prototype.m,cw.prototype.close=cw.prototype.close,sk.NO_ERROR=0,sk.TIMEOUT=8,sk.HTTP_ERROR=6,ck.COMPLETE="complete",hk.EventType=pk,pk.OPEN="a",pk.CLOSE="b",pk.ERROR="c",pk.MESSAGE="d",Cg.prototype.listen=Cg.prototype.N,Ib.prototype.listenOnce=Ib.prototype.O,Ib.prototype.getLastError=Ib.prototype.La,Ib.prototype.getLastErrorCode=Ib.prototype.Da,Ib.prototype.getStatus=Ib.prototype.ba,Ib.prototype.getResponseJson=Ib.prototype.Qa,Ib.prototype.getResponseText=Ib.prototype.ga,Ib.prototype.send=Ib.prototype.ea;var dw=hy.createWebChannelTransport=function(){return new sw},pw=hy.getStatEventTarget=function(){return tk()},vw=hy.ErrorCode=sk,mw=hy.EventType=ck,yw=hy.Event=Zg,gw=hy.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kw=hy.FetchXmlHttpFactory=bb,bw=hy.WebChannel=hk,ww=hy.XhrIo=Ib,_w="@firebase/firestore",xw=function(){function e(t){A(this,e),this.uid=t}return O(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();xw.UNAUTHENTICATED=new xw(null),xw.GOOGLE_CREDENTIALS=new xw("google-credentials-uid"),xw.FIRST_PARTY=new xw("first-party-uid"),xw.MOCK_USER=new xw("mock-user");var Sw="9.9.2",Tw=new Ps("@firebase/firestore");function Ew(){return Tw.logLevel}function Iw(e){if(Tw.logLevel<=Es.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rw);Tw.debug.apply(Tw,["Firestore (".concat(Sw,"): ").concat(e)].concat(l(i)))}}function Cw(e){if(Tw.logLevel<=Es.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rw);Tw.error.apply(Tw,["Firestore (".concat(Sw,"): ").concat(e)].concat(l(i)))}}function Aw(e){if(Tw.logLevel<=Es.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Rw);Tw.warn.apply(Tw,["Firestore (".concat(Sw,"): ").concat(e)].concat(l(i)))}}function Rw(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ow(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Sw,") INTERNAL ASSERTION FAILED: ")+e;throw Cw(t),new Error(t)}function Nw(e,t){e||Ow()}function Pw(e,t){return e}var Dw={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lw=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return O(n)}(ss),Mw=O((function e(){var t=this;A(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Vw=O((function e(t,n){A(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Fw=function(){function e(){A(this,e)}return O(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xw.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Uw=function(){function e(t){A(this,e),this.token=t,this.changeListener=null}return O(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),jw=function(){function e(t){A(this,e),this.t=t,this.currentUser=xw.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return O(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Mw;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Mw,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Iw("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Iw("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Mw)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Iw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Nw("string"==typeof n.accessToken),new Vw(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Nw(null===e||"string"==typeof e),new xw(e)}}]),e}(),Bw=O((function e(t,n,r){A(this,e),this.type="FirstParty",this.user=xw.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),zw=function(){function e(t,n,r){A(this,e),this.h=t,this.l=n,this.m=r}return O(e,[{key:"getToken",value:function(){return Promise.resolve(new Bw(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(xw.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),qw=O((function e(t){A(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ww=function(){function e(t){A(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return O(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Iw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Iw("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Iw("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Iw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Nw("string"==typeof t.token),e.p=t.token,new qw(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Hw(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Kw=function(){function e(){A(this,e)}return O(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Hw(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Gw(e,t){return e<t?-1:e>t?1:0}function Qw(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $w(e){return e+"\0"}var Yw=function(){function e(t,n){if(A(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Lw(Dw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Lw(Dw.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Lw(Dw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lw(Dw.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return O(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Gw(this.nanoseconds,e.nanoseconds):Gw(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Xw=function(){function e(t){A(this,e),this.timestamp=t}return O(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Yw(0,0))}},{key:"max",value:function(){return new e(new Yw(253402300799,999999999))}}]),e}(),Jw=function(){function e(t,n,r){A(this,e),void 0===n?n=0:n>t.length&&Ow(),void 0===r?r=t.length-n:r>t.length-n&&Ow(),this.segments=t,this.offset=n,this.len=r}return O(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Zw=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,l(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jw),e_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,t_=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return e_.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Lw(Dw.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Lw(Dw.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Lw(Dw.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Jw),n_=function(){function e(t){A(this,e),this.path=t}return O(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Zw.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Zw.fromString(t))}},{key:"fromName",value:function(t){return new e(Zw.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Zw.emptyPath())}},{key:"comparator",value:function(e,t){return Zw.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Zw(t.slice()))}}]),e}(),r_=O((function e(t,n,r,i){A(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function i_(e){return e.fields.find((function(e){return 2===e.kind}))}function a_(e){return e.fields.filter((function(e){return 2!==e.kind}))}r_.UNKNOWN_ID=-1;var o_=O((function e(t,n){A(this,e),this.fieldPath=t,this.kind=n}));var u_=function(){function e(t,n){A(this,e),this.sequenceNumber=t,this.offset=n}return O(e,null,[{key:"empty",value:function(){return new e(0,l_.min())}}]),e}();function s_(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Xw.fromTimestamp(1e9===r?new Yw(n+1,0):new Yw(n,r));return new l_(i,n_.empty(),t)}function c_(e){return new l_(e.readTime,e.key,-1)}var l_=function(){function e(t,n,r){A(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return O(e,null,[{key:"min",value:function(){return new e(Xw.min(),n_.empty(),-1)}},{key:"max",value:function(){return new e(Xw.max(),n_.empty(),-1)}}]),e}();function f_(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=n_.comparator(e.documentKey,t.documentKey))?n:Gw(e.largestBatchId,t.largestBatchId)}var h_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",d_=function(){function e(){A(this,e),this.onCommittedListeners=[]}return O(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function p_(e){return v_.apply(this,arguments)}function v_(){return v_=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Dw.FAILED_PRECONDITION&&t.message===h_){e.next=2;break}throw t;case 2:Iw("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}var m_=function(){function e(t){var n=this;A(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return O(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ow(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=w(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),y_=function(){function e(t,n){var r=this;A(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Mw,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new b_(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=T_(e.target.error);r.T.reject(new b_(t,n))}}return O(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Iw("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new __(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new b_(n,t)}}}]),e}(),g_=function(){function e(t,n,r){A(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(ts())&&Cw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return O(e,[{key:"k",value:function(){var e=d(b().mark((function e(t){var n=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Iw("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new b_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Lw(Dw.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Lw(Dw.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new b_(t,n))},i.onupgradeneeded=function(e){Iw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.M(t,i.transaction,e.oldVersion,n.version).next((function(){Iw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.O&&(this.db.onversionchange=function(e){return n.O(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.O=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=d(b().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(b().mark((function e(){var n,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=y_.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),m_.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Iw("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Iw("SimpleDb","Removing database:",e),x_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!us())return!1;if(e.S())return!0;var t=ts(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),k_=function(){function e(t){A(this,e),this.$=t,this.B=!1,this.L=null}return O(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return x_(this.$.delete())}}]),e}(),b_=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,Dw.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return O(n)}(Lw);function w_(e){return"IndexedDbTransactionError"===e.name}var __=function(){function e(t){A(this,e),this.store=t}return O(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Iw("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Iw("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),x_(n)}},{key:"add",value:function(e){return Iw("SimpleDb","ADD",this.store.name,e,e),x_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return x_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Iw("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Iw("SimpleDb","DELETE",this.store.name,e),x_(this.store.delete(e))}},{key:"count",value:function(){return Iw("SimpleDb","COUNT",this.store.name),x_(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new m_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new m_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Iw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new m_((function(n,r){t.onerror=function(e){var t=T_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new m_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new k_(i),o=t(i.primaryKey,i.value,a);if(o instanceof m_){var u=o.catch((function(e){return a.done(),m_.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return m_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function x_(e){return new m_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=T_(e.target.error);n(t)}}))}var S_=!1;function T_(e){var t=g_.v(ts());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Lw("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return S_||(S_=!0,setTimeout((function(){throw r}),0)),r}}return e}var E_=function(){function e(t,n){A(this,e),this.asyncQueue=t,this.X=n,this.task=null}return O(e,[{key:"start",value:function(){this.Z(15)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Iw("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Iw,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!w_(e.t4)){e.next=17;break}Iw("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,p_(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),I_=function(){function e(t,n){A(this,e),this.localStore=t,this.persistence=n}return O(e,[{key:"tt",value:function(){var e=d(b().mark((function e(){var t,n=this,r=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return m_.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Iw("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Iw("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=c_(t);f_(r,n)>0&&(n=r)})),new l_(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),C_=function(){function e(t,n){var r=this;A(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return O(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function A_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function R_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function O_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}C_.ot=-1;var N_=function(){function e(t,n){A(this,e),this.comparator=t,this.root=n||D_.EMPTY}return O(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,D_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,D_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new P_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new P_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new P_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new P_(this.root,e,this.comparator,!0)}}]),e}(),P_=function(){function e(t,n,r,i){A(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return O(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),D_=function(){function e(t,n,r,i,a){A(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return O(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ow();if(this.right.isRed())throw Ow();var e=this.left.check();if(e!==this.right.check())throw Ow();return e+(this.isRed()?0:1)}}]),e}();D_.EMPTY=null,D_.RED=!0,D_.BLACK=!1,D_.EMPTY=new(function(){function e(){A(this,e),this.size=0}return O(e,[{key:"key",get:function(){throw Ow()}},{key:"value",get:function(){throw Ow()}},{key:"color",get:function(){throw Ow()}},{key:"left",get:function(){throw Ow()}},{key:"right",get:function(){throw Ow()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new D_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var L_=function(){function e(t){A(this,e),this.comparator=t,this.data=new N_(this.comparator)}return O(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new M_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new M_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),M_=function(){function e(t){A(this,e),this.iter=t}return O(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function V_(e){return e.hasNext()?e.getNext():void 0}var F_=function(){function e(t){A(this,e),this.fields=t,t.sort(t_.comparator)}return O(e,[{key:"unionWith",value:function(t){var n,r=new L_(t_.comparator),i=w(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=w(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=w(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Qw(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var U_=function(e){function t(e){A(this,t),this.binaryString=e}return O(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Gw(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();U_.EMPTY_BYTE_STRING=new U_("");var j_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function B_(e){if(Nw(!!e),"string"==typeof e){var t=0,n=j_.exec(e);if(Nw(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:z_(e.seconds),nanos:z_(e.nanos)}}function z_(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function q_(e){return"string"==typeof e?U_.fromBase64String(e):U_.fromUint8Array(e)}function W_(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function H_(e){var t=e.mapValue.fields.__previous_value__;return W_(t)?H_(t):t}function K_(e){var t=B_(e.mapValue.fields.__local_write_time__.timestampValue);return new Yw(t.seconds,t.nanos)}var G_=O((function e(t,n,r,i,a,o,u,s){A(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Q_=function(){function e(t,n){A(this,e),this.projectId=t,this.database=n||"(default)"}return O(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function $_(e){return null==e}function Y_(e){return 0===e&&1/e==-1/0}function X_(e){return"number"==typeof e&&Number.isInteger(e)&&!Y_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var J_={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Z_={nullValue:"NULL_VALUE"};function ex(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?W_(e)?4:px(e)?9007199254740991:10:Ow()}function tx(e,t){if(e===t)return!0;var n=ex(e);if(n!==ex(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return K_(e).isEqual(K_(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=B_(e.timestampValue),r=B_(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return q_(e.bytesValue).isEqual(q_(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return z_(e.geoPointValue.latitude)===z_(t.geoPointValue.latitude)&&z_(e.geoPointValue.longitude)===z_(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return z_(e.integerValue)===z_(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=z_(e.doubleValue),r=z_(t.doubleValue);return n===r?Y_(n)===Y_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Qw(e.arrayValue.values||[],t.arrayValue.values||[],tx);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(A_(n)!==A_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!tx(n[i],r[i])))return!1;return!0}(e,t);default:return Ow()}}function nx(e,t){return void 0!==(e.values||[]).find((function(e){return tx(e,t)}))}function rx(e,t){if(e===t)return 0;var n=ex(e),r=ex(t);if(n!==r)return Gw(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gw(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=z_(e.integerValue||e.doubleValue),r=z_(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ix(e.timestampValue,t.timestampValue);case 4:return ix(K_(e),K_(t));case 5:return Gw(e.stringValue,t.stringValue);case 6:return function(e,t){var n=q_(e),r=q_(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Gw(n[i],r[i]);if(0!==a)return a}return Gw(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Gw(z_(e.latitude),z_(t.latitude));return 0!==n?n:Gw(z_(e.longitude),z_(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=rx(n[i],r[i]);if(a)return a}return Gw(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===J_.mapValue&&t===J_.mapValue)return 0;if(e===J_.mapValue)return 1;if(t===J_.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Gw(r[o],a[o]);if(0!==u)return u;var s=rx(n[r[o]],i[a[o]]);if(0!==s)return s}return Gw(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ow()}}function ix(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gw(e,t);var n=B_(e),r=B_(t),i=Gw(n.seconds,r.seconds);return 0!==i?i:Gw(n.nanos,r.nanos)}function ax(e){return ox(e)}function ox(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=B_(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?q_(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,n_.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=w(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ox(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=w(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ox(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ow();var t,n}function ux(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function sx(e){return!!e&&"integerValue"in e}function cx(e){return!!e&&"arrayValue"in e}function lx(e){return!!e&&"nullValue"in e}function fx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hx(e){return!!e&&"mapValue"in e}function dx(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return R_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=dx(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=dx(e.arrayValue.values[r]);return n}return Object.assign({},e)}function px(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function vx(e){return"nullValue"in e?Z_:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?ux(Q_.empty(),n_.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ow()}function mx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?ux(Q_.empty(),n_.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?J_:Ow()}function yx(e,t){var n=rx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function gx(e,t){var n=rx(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var kx=function(){function e(t){A(this,e),this.value=t}return O(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!hx(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dx(t)}},{key:"setAll",value:function(e){var t=this,n=t_.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=dx(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());hx(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return tx(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];hx(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){R_(t,(function(t,n){return e[t]=n}));var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(dx(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function bx(e){var t=[];return R_(e.fields,(function(e,n){var r=new t_([e]);if(hx(n)){var i=bx(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=w(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new F_(t)}var wx=function(){function e(t,n,r,i,a,o){A(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return O(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=kx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=kx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Xw.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Xw.min(),Xw.min(),kx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Xw.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Xw.min(),kx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Xw.min(),kx.empty(),2)}}]),e}(),_x=O((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;A(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function xx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new _x(e,t,n,r,i,a,o)}function Sx(e){var t=Pw(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ax(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ax(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ax(e)})).join(",")),t.ut=n}return t.ut}function Tx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Bx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!tx(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qx(e.startAt,t.startAt)&&qx(e.endAt,t.endAt)}function Ex(e){return n_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Ix(e,t){return e.filters.filter((function(e){return e instanceof Rx&&e.field.isEqual(t)}))}function Cx(e,t,n){var r,i=Z_,a=!0,o=w(Ix(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Z_,c=!0;switch(u.op){case"<":case"<=":s=vx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Z_}yx({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];yx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Ax(e,t,n){var r,i=J_,a=!0,o=w(Ix(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=J_,c=!0;switch(u.op){case">=":case">":s=mx(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=J_}gx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Rx=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return O(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(rx(t,this.value)):null!==t&&ex(this.value)===ex(t)&&this.at(rx(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ow()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Ox(e,t,r):"array-contains"===t?new Lx(e,r):"in"===t?new Mx(e,r):"not-in"===t?new Vx(e,r):"array-contains-any"===t?new Fx(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Nx(e,n):new Px(e,n)}}]),n}(function(){return O((function e(){A(this,e)}))}()),Ox=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this,e,r,i)).key=n_.fromName(i.referenceValue),a}return O(n,[{key:"matches",value:function(e){var t=n_.comparator(e.key,this.key);return this.at(t)}}]),n}(Rx),Nx=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e,"in",r)).keys=Dx("in",r),i}return O(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rx),Px=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e,"not-in",r)).keys=Dx("not-in",r),i}return O(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Rx);function Dx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return n_.fromName(e.referenceValue)}))}var Lx=function(e){E(n,e);var t=C(n);function n(e,r){return A(this,n),t.call(this,e,"array-contains",r)}return O(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return cx(t)&&nx(t.arrayValue,this.value)}}]),n}(Rx),Mx=function(e){E(n,e);var t=C(n);function n(e,r){return A(this,n),t.call(this,e,"in",r)}return O(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&nx(this.value.arrayValue,t)}}]),n}(Rx),Vx=function(e){E(n,e);var t=C(n);function n(e,r){return A(this,n),t.call(this,e,"not-in",r)}return O(n,[{key:"matches",value:function(e){if(nx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!nx(this.value.arrayValue,t)}}]),n}(Rx),Fx=function(e){E(n,e);var t=C(n);function n(e,r){return A(this,n),t.call(this,e,"array-contains-any",r)}return O(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!cx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return nx(t.value.arrayValue,e)}))}}]),n}(Rx),Ux=O((function e(t,n){A(this,e),this.position=t,this.inclusive=n})),jx=O((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";A(this,e),this.field=t,this.dir=n}));function Bx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?n_.comparator(n_.fromName(o.referenceValue),n.key):rx(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function qx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!tx(e.position[n],t.position[n]))return!1;return!0}var Wx=O((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;A(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function Hx(e,t,n,r,i,a,o,u){return new Wx(e,t,n,r,i,a,o,u)}function Kx(e){return new Wx(e)}function Gx(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Qx(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function $x(e){var t,n=w(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Yx(e){return null!==e.collectionGroup}function Xx(e){var t=Pw(e);if(null===t.lt){t.lt=[];var n=$x(t),r=Qx(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new jx(n)),t.lt.push(new jx(t_.keyField(),"asc"));else{var i,a=!1,o=w(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new jx(t_.keyField(),s))}}}return t.lt}function Jx(e){var t=Pw(e);if(!t.ft)if("F"===t.limitType)t.ft=xx(t.path,t.collectionGroup,Xx(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=w(Xx(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new jx(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Ux(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Ux(t.startAt.position,t.startAt.inclusive):null;t.ft=xx(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function Zx(e,t,n){return new Wx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function eS(e,t){return Tx(Jx(e),Jx(t))&&e.limitType===t.limitType}function tS(e){return"".concat(Sx(Jx(e)),"|lt:").concat(e.limitType)}function nS(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ax(t.value));var t})).join(", "),"]")),$_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ax(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ax(e)})).join(",")),"Target(".concat(t,")")}(Jx(e)),"; limitType=").concat(e.limitType,")")}function rS(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):n_.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=w(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=w(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=zx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Xx(e),t))&&!(e.endAt&&!function(e,t,n){var r=zx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Xx(e),t))}(e,t)}function iS(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function aS(e){return function(t,n){var r,i=!1,a=w(Xx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=oS(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function oS(e,t,n){var r=e.field.isKeyField()?n_.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?rx(r,i):Ow()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ow()}}function uS(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y_(t)?"-0":t}}function sS(e){return{integerValue:""+e}}function cS(e,t){return X_(t)?sS(t):uS(e,t)}var lS=O((function e(){A(this,e),this._=void 0}));function fS(e,t,n){return e instanceof pS?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof vS?mS(e,t):e instanceof yS?gS(e,t):function(e,t){var n=dS(e,t),r=bS(n)+bS(e._t);return sx(n)&&sx(e._t)?sS(r):uS(e.wt,r)}(e,t)}function hS(e,t,n){return e instanceof vS?mS(e,t):e instanceof yS?gS(e,t):n}function dS(e,t){return e instanceof kS?sx(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var pS=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n)}(lS),vS=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this)).elements=e,r}return O(n)}(lS);function mS(e,t){var n,r=wS(t),i=w(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return tx(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var yS=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this)).elements=e,r}return O(n)}(lS);function gS(e,t){var n,r=wS(t),i=w(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!tx(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var kS=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this)).wt=e,i._t=r,i}return O(n)}(lS);function bS(e){return z_(e.integerValue||e.doubleValue)}function wS(e){return cx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var _S=O((function e(t,n){A(this,e),this.field=t,this.transform=n}));var xS=O((function e(t,n){A(this,e),this.version=t,this.transformResults=n})),SS=function(){function e(t,n){A(this,e),this.updateTime=t,this.exists=n}return O(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function TS(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ES=O((function e(){A(this,e)}));function IS(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new US(e.key,SS.none()):new NS(e.key,e.data,SS.none());var n,r=e.data,i=kx.empty(),a=new L_(t_.comparator),o=w(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new PS(e.key,i,new F_(a.toArray()),SS.none())}function CS(e,t,n){e instanceof NS?function(e,t,n){var r=e.value.clone(),i=LS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof PS?function(e,t,n){if(TS(e.precondition,t)){var r=LS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(DS(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function AS(e,t,n,r){return e instanceof NS?function(e,t,n,r){if(!TS(e.precondition,t))return n;var i=e.value.clone(),a=MS(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof PS?function(e,t,n,r){if(!TS(e.precondition,t))return n;var i=MS(e.fieldTransforms,r,t),a=t.data;return a.setAll(DS(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return TS(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function RS(e,t){var n,r=null,i=w(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=dS(a.transform,o||null);null!=u&&(null===r&&(r=kx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function OS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Qw(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof vS&&t instanceof vS||e instanceof yS&&t instanceof yS?Qw(e.elements,t.elements,tx):e instanceof kS&&t instanceof kS?tx(e._t,t._t):e instanceof pS&&t instanceof pS}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var NS=function(e){E(n,e);var t=C(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return A(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return O(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ES),PS=function(e){E(n,e);var t=C(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return A(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return O(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ES);function DS(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function LS(e,t,n){var r=new Map;Nw(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,hS(o,u,n[i]))}return r}function MS(e,t,n){var r,i=new Map,a=w(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,fS(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var VS,FS,US=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return O(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ES),jS=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return O(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ES),BS=O((function e(t){A(this,e),this.count=t}));function zS(e){switch(e){default:return Ow();case Dw.CANCELLED:case Dw.UNKNOWN:case Dw.DEADLINE_EXCEEDED:case Dw.RESOURCE_EXHAUSTED:case Dw.INTERNAL:case Dw.UNAVAILABLE:case Dw.UNAUTHENTICATED:return!1;case Dw.INVALID_ARGUMENT:case Dw.NOT_FOUND:case Dw.ALREADY_EXISTS:case Dw.PERMISSION_DENIED:case Dw.FAILED_PRECONDITION:case Dw.ABORTED:case Dw.OUT_OF_RANGE:case Dw.UNIMPLEMENTED:case Dw.DATA_LOSS:return!0}}function qS(e){if(void 0===e)return Cw("GRPC error has no .code"),Dw.UNKNOWN;switch(e){case VS.OK:return Dw.OK;case VS.CANCELLED:return Dw.CANCELLED;case VS.UNKNOWN:return Dw.UNKNOWN;case VS.DEADLINE_EXCEEDED:return Dw.DEADLINE_EXCEEDED;case VS.RESOURCE_EXHAUSTED:return Dw.RESOURCE_EXHAUSTED;case VS.INTERNAL:return Dw.INTERNAL;case VS.UNAVAILABLE:return Dw.UNAVAILABLE;case VS.UNAUTHENTICATED:return Dw.UNAUTHENTICATED;case VS.INVALID_ARGUMENT:return Dw.INVALID_ARGUMENT;case VS.NOT_FOUND:return Dw.NOT_FOUND;case VS.ALREADY_EXISTS:return Dw.ALREADY_EXISTS;case VS.PERMISSION_DENIED:return Dw.PERMISSION_DENIED;case VS.FAILED_PRECONDITION:return Dw.FAILED_PRECONDITION;case VS.ABORTED:return Dw.ABORTED;case VS.OUT_OF_RANGE:return Dw.OUT_OF_RANGE;case VS.UNIMPLEMENTED:return Dw.UNIMPLEMENTED;case VS.DATA_LOSS:return Dw.DATA_LOSS;default:return Ow()}}(FS=VS||(VS={}))[FS.OK=0]="OK",FS[FS.CANCELLED=1]="CANCELLED",FS[FS.UNKNOWN=2]="UNKNOWN",FS[FS.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",FS[FS.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",FS[FS.NOT_FOUND=5]="NOT_FOUND",FS[FS.ALREADY_EXISTS=6]="ALREADY_EXISTS",FS[FS.PERMISSION_DENIED=7]="PERMISSION_DENIED",FS[FS.UNAUTHENTICATED=16]="UNAUTHENTICATED",FS[FS.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",FS[FS.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",FS[FS.ABORTED=10]="ABORTED",FS[FS.OUT_OF_RANGE=11]="OUT_OF_RANGE",FS[FS.UNIMPLEMENTED=12]="UNIMPLEMENTED",FS[FS.INTERNAL=13]="INTERNAL",FS[FS.UNAVAILABLE=14]="UNAVAILABLE",FS[FS.DATA_LOSS=15]="DATA_LOSS";var WS=function(){function e(t,n){A(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return O(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){R_(this.inner,(function(t,n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return O_(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),HS=new N_(n_.comparator);function KS(){return HS}var GS=new N_(n_.comparator);function QS(){for(var e=GS,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function $S(e){var t=GS;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function YS(){return JS()}function XS(){return JS()}function JS(){return new WS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ZS=new N_(n_.comparator),eT=new L_(n_.comparator);function tT(){for(var e=eT,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var nT=new L_(Gw);function rT(){return nT}var iT=function(){function e(t,n,r,i,a){A(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return O(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,aT.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Xw.min(),r,rT(),KS(),tT())}}]),e}(),aT=function(){function e(t,n,r,i,a){A(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return O(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(U_.EMPTY_BYTE_STRING,n,tT(),tT(),tT())}}]),e}(),oT=O((function e(t,n,r,i){A(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),uT=O((function e(t,n){A(this,e),this.targetId=t,this.It=n})),sT=O((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;A(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),cT=function(){function e(){A(this,e),this.Tt=0,this.Et=hT(),this.At=U_.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return O(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=tT(),t=tT(),n=tT();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ow()}})),new aT(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=hT()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),lT=function(){function e(t){A(this,e),this.Ot=t,this.Ft=new Map,this.$t=KS(),this.Bt=fT(),this.Lt=new L_(Gw)}return O(e,[{key:"Ut",value:function(e){var t,n=w(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=w(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Ow()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Ex(i))if(0===n){var a=new n_(i.path);this.Kt(t,a,wx.newNoDocument(a,Xw.min()))}else Nw(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Ex(a.target)){var o=new n_(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,wx.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=tT();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new iT(e,n,this.Lt,this.$t,r);return this.$t=KS(),this.Bt=fT(),this.Lt=new L_(Gw),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new cT,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new L_(Gw),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Iw("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new cT),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function fT(){return new N_(n_.comparator)}function hT(){return new N_(n_.comparator)}var dT={asc:"ASCENDING",desc:"DESCENDING"},pT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vT=O((function e(t,n){A(this,e),this.databaseId=t,this.dt=n}));function mT(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function yT(e,t){return e.dt?t.toBase64():t.toUint8Array()}function gT(e,t){return mT(e,t.toTimestamp())}function kT(e){return Nw(!!e),Xw.fromTimestamp(function(e){var t=B_(e);return new Yw(t.seconds,t.nanos)}(e))}function bT(e,t){return function(e){return new Zw(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function wT(e){var t=Zw.fromString(e);return Nw(WT(t)),t}function _T(e,t){return bT(e.databaseId,t.path)}function xT(e,t){var n=wT(t);if(n.get(1)!==e.databaseId.projectId)throw new Lw(Dw.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lw(Dw.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new n_(IT(n))}function ST(e,t){return bT(e.databaseId,t)}function TT(e){var t=wT(e);return 4===t.length?Zw.emptyPath():IT(t)}function ET(e){return new Zw(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function IT(e){return Nw(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function CT(e,t,n){return{name:_T(e,t),fields:n.value.mapValue.fields}}function AT(e,t,n){var r=xT(e,t.name),i=kT(t.updateTime),a=new kx({mapValue:{fields:t.fields}}),o=wx.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function RT(e,t){return"found"in t?function(e,t){Nw(!!t.found),t.found.name,t.found.updateTime;var n=xT(e,t.found.name),r=kT(t.found.updateTime),i=new kx({mapValue:{fields:t.found.fields}});return wx.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Nw(!!t.missing),Nw(!!t.readTime);var n=xT(e,t.missing),r=kT(t.readTime);return wx.newNoDocument(n,r)}(e,t):Ow()}function OT(e,t){var n;if(t instanceof NS)n={update:CT(e,t.key,t.value)};else if(t instanceof US)n={delete:_T(e,t.key)};else if(t instanceof PS)n={update:CT(e,t.key,t.data),updateMask:qT(t.fieldMask)};else{if(!(t instanceof jS))return Ow();n={verify:_T(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof pS)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vS)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yS)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kS)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Ow()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:gT(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ow()}(e,t.precondition)),n}function NT(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?SS.updateTime(kT(e.updateTime)):void 0!==e.exists?SS.exists(e.exists):SS.none()}(t.currentDocument):SS.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Nw("REQUEST_TIME"===t.setToServerValue),n=new pS;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new vS(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new yS(i)}else"increment"in t?n=new kS(e,t.increment):Ow();var a=t_.fromServerFormat(t.fieldPath);return new _S(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=xT(e,t.update.name),a=new kx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new F_(t.map((function(e){return t_.fromServerFormat(e)})))}(t.updateMask);return new PS(i,a,o,n,r)}return new NS(i,a,n,r)}if(t.delete){var u=xT(e,t.delete);return new US(u,n)}if(t.verify){var s=xT(e,t.verify);return new jS(s,n)}return Ow()}function PT(e,t){return{documents:[ST(e,t.path)]}}function DT(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ST(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ST(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(fx(e.value))return{unaryFilter:{field:UT(e.field),op:"IS_NAN"}};if(lx(e.value))return{unaryFilter:{field:UT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(fx(e.value))return{unaryFilter:{field:UT(e.field),op:"IS_NOT_NAN"}};if(lx(e.value))return{unaryFilter:{field:UT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:UT(e.field),op:FT(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:UT(e.field),direction:VT(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||$_(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function LT(e){var t=TT(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nw(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=MT(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new jx(jT(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return $_(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Ux(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Ux(n,t)}(n.endAt)),Hx(t,i,u,o,s,"F",c,l)}function MT(e){return e?void 0!==e.unaryFilter?[zT(e)]:void 0!==e.fieldFilter?[BT(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return MT(e)})).reduce((function(e,t){return e.concat(t)})):Ow():[]}function VT(e){return dT[e]}function FT(e){return pT[e]}function UT(e){return{fieldPath:e.canonicalString()}}function jT(e){return t_.fromServerFormat(e.fieldPath)}function BT(e){return Rx.create(jT(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ow()}}(e.fieldFilter.op),e.fieldFilter.value)}function zT(e){switch(e.unaryFilter.op){case"IS_NAN":var t=jT(e.unaryFilter.field);return Rx.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=jT(e.unaryFilter.field);return Rx.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=jT(e.unaryFilter.field);return Rx.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=jT(e.unaryFilter.field);return Rx.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ow()}}function qT(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function WT(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function HT(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=GT(t)),t=KT(e.get(n),t);return GT(t)}function KT(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function GT(e){return e+"\x01\x01"}function QT(e){var t=e.length;if(Nw(t>=2),2===t)return Nw("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Zw.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ow(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ow()}a=o+2}return new Zw(r)}var $T=["userId","batchId"];function YT(e,t){return[e,HT(t)]}function XT(e,t,n){return[e,HT(t),n]}var JT={},ZT=["prefixPath","collectionGroup","readTime","documentId"],eE=["prefixPath","collectionGroup","documentId"],tE=["collectionGroup","readTime","prefixPath","documentId"],nE=["canonicalId","targetId"],rE=["targetId","path"],iE=["path","targetId"],aE=["collectionId","parent"],oE=["indexId","uid"],uE=["uid","sequenceNumber"],sE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cE=["indexId","uid","orderedDocumentKey"],lE=["userId","collectionPath","documentId"],fE=["userId","collectionPath","largestBatchId"],hE=["userId","collectionGroup","largestBatchId"],dE=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),pE=[].concat(l(dE),["documentOverlays"]),vE=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],mE=vE,yE=[].concat(mE,["indexConfiguration","indexState","indexEntries"]),gE=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return O(n)}(d_);function kE(e,t){var n=Pw(e);return g_.N(n.ee,t)}var bE=function(){function e(t,n,r,i){A(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return O(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&CS(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=w(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=AS(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=w(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=AS(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=XS();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=IS(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Xw.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),tT())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Qw(this.mutations,e.mutations,(function(e,t){return OS(e,t)}))&&Qw(this.baseMutations,e.baseMutations,(function(e,t){return OS(e,t)}))}}]),e}(),wE=function(){function e(t,n,r,i){A(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return O(e,null,[{key:"from",value:function(t,n,r){Nw(t.mutations.length===r.length);for(var i=ZS,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),_E=function(){function e(t,n){A(this,e),this.largestBatchId=t,this.mutation=n}return O(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),xE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Xw.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xw.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:U_.EMPTY_BYTE_STRING;A(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return O(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),SE=O((function e(t){A(this,e),this.ne=t}));function TE(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:EE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:_T(e,t.key),fields:t.data.value.mapValue.fields,updateTime:mT(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:IE(t.version)};else{if(!t.isUnknownDocument())return Ow();r.unknownDocument={path:n.path.toArray(),version:IE(t.version)}}return r}function EE(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function IE(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function CE(e){var t=new Yw(e.seconds,e.nanoseconds);return Xw.fromTimestamp(t)}function AE(e,t){for(var n=(t.baseMutations||[]).map((function(t){return NT(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return NT(e.ne,t)})),u=Yw.fromMillis(t.localWriteTimeMs);return new bE(t.batchId,u,n,o)}function RE(e){var t,n,r=CE(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?CE(e.lastLimboFreeSnapshotVersion):Xw.min();return void 0!==e.query.documents?(Nw(1===(n=e.query).documents.length),t=Jx(Kx(TT(n.documents[0])))):t=function(e){return Jx(LT(e))}(e.query),new xE(t,e.targetId,0,e.lastListenSequenceNumber,r,i,U_.fromBase64String(e.resumeToken))}function OE(e,t){var n,r=IE(t.snapshotVersion),i=IE(t.lastLimboFreeSnapshotVersion);n=Ex(t.target)?PT(e.ne,t.target):DT(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Sx(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function NE(e){var t=LT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zx(t,t.limit,"L"):t}function PE(e,t){return new _E(t.largestBatchId,NT(e.ne,t.overlayMutation))}function DE(e,t){var n=t.path.lastSegment();return[e,HT(t.path.popLast()),n]}function LE(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:IE(r.readTime),documentKey:HT(r.documentKey.path),largestBatchId:r.largestBatchId}}var ME=function(){function e(){A(this,e)}return O(e,[{key:"getBundleMetadata",value:function(e,t){return VE(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:CE(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return VE(e).put({bundleId:(n=t).id,createTime:IE(kT(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return FE(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:NE(t.bundledQuery),readTime:CE(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return FE(e).put(function(e){return{name:e.name,readTime:IE(kT(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function VE(e){return kE(e,"bundles")}function FE(e){return kE(e,"namedQueries")}var UE=function(){function e(t,n){A(this,e),this.wt=t,this.userId=n}return O(e,[{key:"getOverlay",value:function(e,t){var n=this;return jE(e).get(DE(this.userId,t)).next((function(e){return e?PE(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=YS();return m_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new _E(t,a);i.push(r.ie(e,o))})),m_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(HT(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(jE(e).W("collectionPathOverlayIndex",i))})),m_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=YS(),a=HT(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return jE(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=PE(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=YS(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return jE(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=PE(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return jE(e).put(function(e,t,n){var r=s(DE(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:OT(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function jE(e){return kE(e,"documentOverlays")}var BE=function(){function e(){A(this,e)}return O(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(z_(e.integerValue));else if("doubleValue"in e){var n=z_(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Y_(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(q_(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?px(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Ow()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),n_.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function zE(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function qE(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=zE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}BE.ye=new BE;var WE=function(){function e(){A(this,e),this.buffer=new Uint8Array(1024),this.position=0}return O(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=qE(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=qE(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Me",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),HE=function(){function e(t){A(this,e),this.Oe=t}return O(e,[{key:"de",value:function(e){this.Oe.pe(e)}},{key:"he",value:function(e){this.Oe.be(e)}},{key:"ae",value:function(e){this.Oe.ve(e)}},{key:"ue",value:function(){this.Oe.Ce()}}]),e}(),KE=function(){function e(t){A(this,e),this.Oe=t}return O(e,[{key:"de",value:function(e){this.Oe.Ee(e)}},{key:"he",value:function(e){this.Oe.Pe(e)}},{key:"ae",value:function(e){this.Oe.De(e)}},{key:"ue",value:function(){this.Oe.Ne()}}]),e}(),GE=function(){function e(){A(this,e),this.Oe=new WE,this.Fe=new HE(this.Oe),this.$e=new KE(this.Oe)}return O(e,[{key:"seed",value:function(e){this.Oe.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Me",value:function(){return this.Oe.Me()}},{key:"reset",value:function(){this.Oe.reset()}}]),e}(),QE=function(){function e(t,n,r,i){A(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return O(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function $E(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=YE(e.arrayValue,t.arrayValue))?n:0!==(n=YE(e.directionalValue,t.directionalValue))?n:n_.comparator(e.documentKey,t.documentKey)}function YE(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var XE=function(){function e(t){A(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=w(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return O(e,[{key:"Ge",value:function(e){var t=i_(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=a_(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=w(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),JE=function(){function e(){A(this,e),this.ze=new ZE}return O(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),m_.resolve()}},{key:"getCollectionParents",value:function(e,t){return m_.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return m_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return m_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return m_.resolve(null)}},{key:"getIndexType",value:function(e,t){return m_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return m_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return m_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return m_.resolve(l_.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return m_.resolve(l_.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return m_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return m_.resolve()}}]),e}(),ZE=function(){function e(){A(this,e),this.index={}}return O(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new L_(Zw.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new L_(Zw.comparator)).toArray()}}]),e}(),eI=new Uint8Array(0),tI=function(){function e(t,n){A(this,e),this.user=t,this.databaseId=n,this.He=new ZE,this.Je=new WS((function(e){return Sx(e)}),(function(e,t){return Tx(e,t)})),this.uid=t.uid||""}return O(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:HT(i)};return nI(e).put(a)}return m_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$w(t),""],!1,!0);return nI(e).K(r).next((function(e){var r,i=w(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(QT(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=iI(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=aI(e);return a.next((function(e){o.put(LE(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=iI(e),r=aI(e),i=rI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=rI(e),i=!0,a=new Map;return m_.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=tT(),o=[];return m_.forEach(a,(function(i,a){var u;Iw("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Sx(t)));var s=function(e,t){var n=i_(t);if(void 0===n)return null;var r,i=w(Ix(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=w(a_(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=w(Ix(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=w(a_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Cx(e,o.fieldPath,e.startAt):Ax(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ux(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=w(a_(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Ax(e,o.fieldPath,e.endAt):Cx(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Ux(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return m_.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=n_.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return m_.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),f=[],h=function(s){var h=t?u.nn(t[s/c]):eI,d=u.sn(e,h,n[s%c],r),p=u.rn(e,h,i[s%c],a),v=o.map((function(t){return u.sn(e,h,t,!0)}));f.push.apply(f,l(u.createRange(d,p,v)))},d=0;d<s;++d)h(d);return f}},{key:"sn",value:function(e,t,n,r){var i=new QE(e,n_.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new QE(e,n_.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new XE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=w(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return m_.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new L_(t_.comparator),r=!1,i=w(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=w(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new GE,i=w(a_(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);BE.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Me()}},{key:"nn",value:function(e){var t=new GE;return BE.ye.re(e,t.Be(0)),t.Me()}},{key:"un",value:function(e,t){var n=new GE;return BE.ye.re(ux(this.databaseId,t),n.Be(function(e){var t=a_(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new GE);var i,a=0,o=w(a_(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=w(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&cx(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);BE.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Me();return t}},{key:"an",value:function(e,t,n){var r,i=l(e),a=[],o=w(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=w(i);try{for(c.s();!(u=c.n()).done;){var f=u.value,h=new GE;h.seed(f.Me()),BE.ye.re(s,h.Be(t.kind)),a.push(h)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Rx&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=iI(e),i=aI(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return m_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new u_(t.sequenceNumber,new l_(CE(t.readTime),new n_(QT(t.documentKey)),t.largestBatchId)):u_.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new o_(t_.fromServerFormat(n),r)}));return new r_(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Gw(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=iI(e),a=aI(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return m_.forEach(t,(function(t){return a.put(LE(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return m_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?m_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),m_.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?m_.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return rI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return rI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=rI(e),i=new L_($E);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new QE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new L_($E),r=this.on(t,e);if(null==r)return n;var i=i_(t);if(null!=i){var a=e.data.field(i.fieldPath);if(cx(a)){var o,u=w(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new QE(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new QE(t.indexId,e.key,eI,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Iw("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=V_(a),s=V_(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=V_(o)):l?(i(u),u=V_(a)):(u=V_(a),s=V_(o))}}(r,i,$E,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),m_.waitFor(o)}},{key:"ln",value:function(e){var t=1;return aI(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return $E(e,t)})).filter((function(e,t,n){return!t||0!==$E(e,n[t-1])}));var r=[];r.push(e);var i,a=w(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=$E(o,e),s=$E(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,eI,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,eI,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(oI)}},{key:"getMinOffset",value:function(e,t){var n=this;return m_.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Ow()}))})).next(oI)}}]),e}();function nI(e){return kE(e,"collectionParents")}function rI(e){return kE(e,"indexEntries")}function iI(e){return kE(e,"indexConfiguration")}function aI(e){return kE(e,"indexState")}function oI(e){Nw(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;f_(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new l_(t.readTime,t.documentKey,n)}var uI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sI=function(){function e(t,n,r){A(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return O(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function cI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Nw(1===u)})));var c,l=[],f=w(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=XT(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return m_.waitFor(a).next((function(){return l}))}function lI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ow();t=e.noDocument}return JSON.stringify(t).length}sI.DEFAULT_COLLECTION_PERCENTILE=10,sI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sI.DEFAULT=new sI(41943040,sI.DEFAULT_COLLECTION_PERCENTILE,sI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sI.DISABLED=new sI(-1,0,0);var fI=function(){function e(t,n,r,i){A(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return O(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return dI(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=pI(e),o=dI(e);return o.add({}).next((function(u){Nw("number"==typeof u);var s,c=new bE(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return OT(e.ne,t)})),i=n.mutations.map((function(t){return OT(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new L_((function(e,t){return Gw(e.canonicalString(),t.canonicalString())})),d=w(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=XT(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,JT))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),m_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return dI(e).get(t).next((function(e){return e?(Nw(e.userId===n.userId),AE(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?m_.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return dI(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Nw(t.batchId>=r),a=AE(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return dI(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return dI(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return AE(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=YT(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return pI(e).J({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=QT(l);if(c===n.userId&&t.path.isEqual(h))return dI(e).get(f).next((function(e){if(!e)throw Ow();Nw(e.userId===n.userId),a.push(AE(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new L_(Gw),i=[];return t.forEach((function(t){var a=YT(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=pI(e).J({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=QT(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),m_.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=YT(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new L_(Gw);return pI(e).J({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=QT(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(dI(e).get(t).next((function(e){if(null===e)throw Ow();Nw(e.userId===n.userId),r.push(AE(n.wt,e))})))})),m_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return cI(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),m_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return m_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return pI(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=QT(e[1]);i.push(a)}else r.done()})).next((function(){Nw(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return hI(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return vI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Nw(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function hI(e,t,n){var r=YT(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return pI(e).J({range:a,H:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function dI(e){return kE(e,"mutations")}function pI(e){return kE(e,"documentMutations")}function vI(e){return kE(e,"mutationQueues")}var mI=function(){function e(t){A(this,e),this.En=t}return O(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),yI=function(){function e(t,n){A(this,e),this.referenceDelegate=t,this.wt=n}return O(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new mI(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Xw.fromTimestamp(new Yw(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return gI(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Nw(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return gI(e).J((function(o,u){var s=RE(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return m_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return gI(e).J((function(e,n){var r=RE(n);t(r)}))}},{key:"bn",value:function(e){return kI(e).get("targetGlobalKey").next((function(e){return Nw(null!==e),e}))}},{key:"Pn",value:function(e,t){return kI(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return gI(e).put(OE(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Sx(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gI(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=RE(n);Tx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=bI(e);return t.forEach((function(t){var o=HT(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),m_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=bI(e);return m_.forEach(t,(function(t){var a=HT(t.path);return m_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=bI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=bI(e),i=tT();return r.J({range:n,H:!0},(function(e,t,n){var r=QT(e[1]),a=new n_(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=HT(t.path),r=IDBKeyRange.bound([n],[$w(n)],!1,!0),i=0;return bI(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return gI(e).get(t).next((function(e){return e?RE(e):null}))}}]),e}();function gI(e){return kE(e,"targets")}function kI(e){return kE(e,"targetGlobal")}function bI(e){return kE(e,"targetDocuments")}function wI(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=Gw(r,o);return 0===c?Gw(i,u):c}var _I=function(){function e(t){A(this,e),this.Sn=t,this.buffer=new L_(wI),this.Dn=0}return O(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();wI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),xI=function(){function e(t,n,r){A(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return O(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Iw("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!w_(e.t0)){e.next=12;break}Iw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,p_(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),SI=function(){function e(t,n){A(this,e),this.Mn=t,this.params=n}return O(e,[{key:"calculateTargetCount",value:function(e,t){return this.Mn.On(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return m_.resolve(C_.ot);var r=new _I(t);return this.Mn.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.Mn.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Mn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Mn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Iw("LruGarbageCollector","Garbage collection skipped; disabled"),m_.resolve(uI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Iw("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),uI):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Mn.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Iw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Ew()<=Es.DEBUG&&Iw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),m_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),TI=function(){function e(t,n){A(this,e),this.db=t,this.garbageCollector=function(e,t){return new SI(e,t)}(this,n)}return O(e,[{key:"On",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return EI(e,n)}},{key:"removeReference",value:function(e,t,n){return EI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return EI(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return vI(e).Y((function(r){return hI(e,r,t).next((function(e){return e&&(n=!0),m_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Xw.min()),bI(e).delete([0,HT(o.path)])}))}));i.push(s)}})).next((function(){return m_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return EI(e,t)}},{key:"Ln",value:function(e,t){var n,r=bI(e),i=C_.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==C_.ot&&t(new n_(QT(n)),i),i=c,n=u):i=C_.ot})).next((function(){i!==C_.ot&&t(new n_(QT(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function EI(e,t){return bI(e).put(function(e,t){return{targetId:0,path:HT(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var II=function(){function e(){A(this,e),this.changes=new WS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return O(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,wx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?m_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),CI=function(){function e(t){A(this,e),this.wt=t}return O(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return NI(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return NI(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],EE(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=wx.newInvalidDocument(t);return NI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(PI(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:wx.newInvalidDocument(t)};return NI(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(PI(t))},(function(e,i){r={document:n.Kn(t,i),size:lI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=KS();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=KS(),i=new N_(n_.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,lI(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return m_.resolve();var r=new L_(LI);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(PI(r.first()),PI(r.last())),a=r.getIterator(),o=a.getNext();return NI(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=n_.fromSegments([].concat(l(t.prefixPath),[t.collectionGroup,t.documentId]));o&&LI(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(PI(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),EE(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return NI(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=KS(),i=w(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(n_.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=KS(),o=DI(t,n),u=DI(t,l_.max());return NI(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(n_.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new RI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return OI(e).get("remoteDocumentGlobalKey").next((function(e){return Nw(!!e),e}))}},{key:"qn",value:function(e,t){return OI(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=AT(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=n_.fromSegments(t.noDocument.path),i=CE(t.noDocument.readTime);n=wx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ow();var a=n_.fromSegments(t.unknownDocument.path),o=CE(t.unknownDocument.version);n=wx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Yw(e[0],e[1]);return Xw.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Xw.min()))return n}return wx.newInvalidDocument(e)}}]),e}();function AI(e){return new CI(e)}var RI=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new WS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return O(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new L_((function(e,t){return Gw(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=TE(t.zn.wt,o);i=i.add(a.path.popLast());var c=lI(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=TE(t.zn.wt,o.convertToNoDocument(Xw.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),m_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(II);function OI(e){return kE(e,"remoteDocumentGlobal")}function NI(e){return kE(e,"remoteDocumentsV14")}function PI(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function DI(e,t){var n=t.documentKey.path.toArray();return[e,EE(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function LI(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Gw(n[a],r[a]))return i;return(i=Gw(n.length,r.length))||((i=Gw(n[n.length-2],r[r.length-2]))||Gw(n[n.length-1],r[r.length-1]))}var MI=O((function e(t,n){A(this,e),this.overlayedDocument=t,this.mutatedFields=n})),VI=function(){function e(t,n,r,i){A(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return O(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&AS(r.mutation,e,F_.empty(),Yw.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,tT()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tT(),i=YS();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=QS();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=YS();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,tT())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=KS(),a=JS(),o=JS();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof PS)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),AS(o.mutation,t,o.mutation.getFieldMask(),Yw.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new MI(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=JS(),i=new N_((function(e,t){return e-t})),a=tT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=w(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||F_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||tT()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=XS();c.forEach((function(e){if(!a.has(e)){var n=IS(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return m_.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return n_.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Yx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):m_.resolve(YS()),u=-1,s=a;return o.next((function(t){return m_.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?m_.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,tT())})).next((function(e){return{batchId:u,changes:$S(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new n_(t)).next((function(e){var t=QS();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=QS();return this.indexManager.getCollectionParents(e,i).next((function(o){return m_.forEach(o,(function(o){var u=function(e,t){return new Wx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,wx.newInvalidDocument(n)))}));var n=QS();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&AS(a.mutation,i,F_.empty(),Yw.now()),rS(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):m_.resolve(wx.newInvalidDocument(t))}}]),e}(),FI=function(){function e(t){A(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return O(e,[{key:"getBundleMetadata",value:function(e,t){return m_.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:kT(n.createTime)}),m_.resolve()}},{key:"getNamedQuery",value:function(e,t){return m_.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:NE(e.bundledQuery),readTime:kT(e.readTime)}}(t)),m_.resolve()}}]),e}(),UI=function(){function e(){A(this,e),this.overlays=new N_(n_.comparator),this.Xn=new Map}return O(e,[{key:"getOverlay",value:function(e,t){return m_.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=YS();return m_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),m_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),m_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=YS(),i=t.length+1,a=new n_(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return m_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new N_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=YS(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=YS(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return m_.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new _E(t,n));var a=this.Xn.get(t);void 0===a&&(a=tT(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),jI=function(){function e(){A(this,e),this.Zn=new L_(BI.ts),this.es=new L_(BI.ns)}return O(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new BI(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new BI(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new n_(new Zw([])),r=new BI(n,e),i=new BI(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new n_(new Zw([])),n=new BI(t,e),r=new BI(t,e+1),i=tT();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new BI(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),BI=function(){function e(t,n){A(this,e),this.key=t,this.ls=n}return O(e,null,[{key:"ts",value:function(e,t){return n_.comparator(e.key,t.key)||Gw(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Gw(e.ls,t.ls)||n_.comparator(e.key,t.key)}}]),e}(),zI=function(){function e(t,n){A(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new L_(BI.ts)}return O(e,[{key:"checkEmpty",value:function(e){return m_.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new bE(i,t,n,r);this.mutationQueue.push(a);var o,u=w(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new BI(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return m_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return m_.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return m_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return m_.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return m_.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new BI(t,0),i=new BI(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),m_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new L_(Gw);return t.forEach((function(e){var t=new BI(e,0),i=new BI(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),m_.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;n_.isDocumentKey(i)||(i=i.child(""));var a=new BI(new n_(i),0),o=new L_(Gw);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),m_.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Nw(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return m_.forEach(t.mutations,(function(i){var a=new BI(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new BI(t,0),r=this.ds.firstAfterOrEqual(n);return m_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,m_.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),qI=function(){function e(t){A(this,e),this.ps=t,this.docs=new N_(n_.comparator),this.size=0}return O(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return m_.resolve(n?n.document.mutableCopy():wx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=KS();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():wx.newInvalidDocument(e))})),m_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=KS(),i=new n_(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||f_(c_(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return m_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ow()}},{key:"Is",value:function(e,t){return m_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new WI(this)}},{key:"getSize",value:function(e){return m_.resolve(this.size)}}]),e}(),WI=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this)).zn=e,r}return O(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),m_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(II),HI=function(){function e(t){A(this,e),this.persistence=t,this.Ts=new WS((function(e){return Sx(e)}),Tx),this.lastRemoteSnapshotVersion=Xw.min(),this.highestTargetId=0,this.Es=0,this.As=new jI,this.targetCount=0,this.Rs=mI.An()}return O(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),m_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return m_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return m_.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),m_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),m_.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new mI(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,m_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),m_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,m_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),m_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return m_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return m_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),m_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),m_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),m_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return m_.resolve(n)}},{key:"containsKey",value:function(e,t){return m_.resolve(this.As.containsKey(t))}}]),e}(),KI=function(){function e(t,n){var r=this;A(this,e),this.bs={},this.overlays={},this.Ps=new C_(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new HI(this),this.indexManager=new JE,this.remoteDocumentCache=new qI((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new SE(n),this.Ds=new FI(this.wt)}return O(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new UI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new zI(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Iw("MemoryPersistence","Starting transaction:",e);var i=new GI(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return m_.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),GI=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return O(n)}(d_),QI=function(){function e(t){A(this,e),this.persistence=t,this.ks=new jI,this.Ms=null}return O(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw Ow()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),m_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),m_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),m_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return m_.forEach(this.Fs,(function(r){var i=n_.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Xw.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return m_.or([function(){return m_.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}(),$I=function(){function e(t){A(this,e),this.wt=t}return O(e,[{key:"M",value:function(e,t,n,r){var i=this,a=new y_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$T,{unique:!0}),e.createObjectStore("documentMutations")}(e),YI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=m_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),YI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xw.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$T,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return m_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:lE});t.createIndex("collectionPathOverlayIndex",fE,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",hE,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:ZT});t.createIndex("documentKeyIndex",eE),t.createIndex("collectionGroupIndex",tE)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:oE}).createIndex("sequenceNumberIndex",uE,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:sE}).createIndex("documentKeyIndex",cE,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=lI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return m_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return m_.forEach(r,(function(r){Nw(r.userId===n.userId);var i=AE(t.wt,r);return cI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new Zw(n),o=function(e){return[0,HT(e)]}(a);r.push(t.get(o).next((function(n){return n?m_.resolve():function(n){return t.put({targetId:0,path:HT(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return m_.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:aE});var n=t.store("collectionParents"),r=new ZE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:HT(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new Zw(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],QT(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=RE(r),a=OE(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new n_(Zw.fromString(i.document.name).popFirst(5)):i.noDocument?n_.fromSegments(i.noDocument.path):i.unknownDocument?n_.fromSegments(i.unknownDocument.path):Ow()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return m_.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=AI(this.wt),a=new KI(QI.Os,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:tT();AE(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),m_.forEach(r,(function(e,r){var o=new xw(r),u=UE.se(n.wt,o),s=a.getIndexManager(o),c=fI.se(o,n.wt,s,a.referenceDelegate);return new VI(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new gE(t,C_.ot),e).next()}))}))}}]),e}();function YI(e){e.createObjectStore("targetDocuments",{keyPath:rE}).createIndex("documentTargetsIndex",iE,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nE,{unique:!0}),e.createObjectStore("targetGlobal")}var XI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",JI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(A(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Lw(Dw.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TI(this,i),this.ei=n+"main",this.wt=new SE(s),this.ni=new g_(this.ei,this.Hs,new $I(this.wt)),this.Vs=new yI(this.referenceDelegate,this.wt),this.remoteDocumentCache=AI(this.wt),this.Ds=new ME,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Cw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return O(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Lw(Dw.FAILED_PRECONDITION,XI);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new C_(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=d(b().mark((function n(r){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=d(b().mark((function t(n){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return eC(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(w_(t))return Iw("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Iw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return ZI(e).get("owner").next((function(e){return m_.resolve(t.di(e))}))}},{key:"_i",value:function(e){return eC(e).delete(this.clientId)}},{key:"wi",value:function(){var e=d(b().mark((function e(){var t,n,r,i,a=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=kE(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return m_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=w(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?m_.resolve(!0):ZI(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Lw(Dw.FAILED_PRECONDITION,XI);return!1}}return!(!t.networkEnabled||!t.inForeground)||eC(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Iw("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=d(b().mark((function e(){var t=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new gE(e,C_.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return eC(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return fI.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new tI(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return UE.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Iw("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?yE:14===i?mE:13===i?vE:12===i?pE:11===i?dE:void Ow();return this.ni.runTransaction(e,o,u,(function(i){return a=new gE(i,r.Ps?r.Ps.next():C_.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Cw("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Lw(Dw.FAILED_PRECONDITION,h_);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return ZI(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Lw(Dw.FAILED_PRECONDITION,XI)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ZI(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=ZI(e);return n.get("owner").next((function(e){return t.di(e)?(Iw("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):m_.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Cw("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!rs()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Iw("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Cw("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(Sy){Cw("Failed to set zombie client id.",Sy)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(Sy){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return g_.V()}}]),e}();function ZI(e){return kE(e,"owner")}function eC(e){return kE(e,"clientMetadata")}function tC(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var nC=function(){function e(t,n,r,i){A(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return O(e,null,[{key:"Vi",value:function(t,n){var r,i=tT(),a=tT(),o=w(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),rC=function(){function e(){A(this,e),this.Si=!1}return O(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(Gx(t))return m_.resolve(null);var r=Jx(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Zx(t,null,"F"),r=Jx(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=tT.apply(void 0,l(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,Zx(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return Gx(t)||r.isEqual(Xw.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(Ew()<=Es.DEBUG&&Iw("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),nS(t)),i.Oi(e,o,t,s_(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new L_(aS(e));return t.forEach((function(t,r){rS(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Ew()<=Es.DEBUG&&Iw("QueryEngine","Using full collection scan to execute query:",nS(t)),this.Di.getDocumentsMatchingQuery(e,t,l_.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),iC=function(){function e(t,n,r,i){A(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new N_(Gw),this.Bi=new WS((function(e){return Sx(e)}),Tx),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return O(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VI(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function aC(e,t,n,r){return new iC(e,t,n,r)}function oC(e,t){return uC.apply(this,arguments)}function uC(){return uC=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pw(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=tT(),s=w(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=w(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=w(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=w(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function sC(e,t){var n=Pw(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=m_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Nw(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=tT(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function cC(e){var t=Pw(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function lC(e,t){var n=Pw(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(U_.EMPTY_BYTE_STRING,Xw.min()).withLastLimboFreeSnapshotVersion(Xw.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=KS(),s=tT();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fC(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Xw.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return m_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function fC(e,t,n){var r=tT(),i=tT();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=KS();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Xw.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Iw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function hC(e,t){var n=Pw(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function dC(e,t){var n=Pw(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,m_.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new xE(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function pC(e,t,n){return vC.apply(this,arguments)}function vC(){return vC=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pw(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),w_(e.t1)){e.next=12;break}throw e.t1;case 12:Iw("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),vC.apply(this,arguments)}function mC(e,t,n){var r=Pw(e),i=Xw.min(),a=tT();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Pw(e),i=r.Bi.get(n);return void 0!==i?m_.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Jx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Xw.min(),n?a:tT())})).next((function(e){return kC(r,iS(t),e),{documents:e,ji:a}}))}))}function yC(e,t){var n=Pw(e),r=Pw(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function gC(e,t){var n=Pw(e),r=n.Li.get(t)||Xw.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,s_(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return kC(n,t,e),e}))}function kC(e,t,n){var r=Xw.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function bC(e,t,n,r){return wC.apply(this,arguments)}function wC(){return wC=d(b().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Pw(t),o=tT(),u=KS(),s=w(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,dC(a,function(e){return Jx(Kx(Zw.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return fC(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function _C(e,t){return xC.apply(this,arguments)}function xC(){return xC=d(b().mark((function e(t,n){var r,i,a,o=arguments;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:tT(),e.next=3,dC(t,Jx(NE(n.bundledQuery)));case 3:return i=e.sent,a=Pw(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=kT(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(U_.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function SC(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function TC(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function EC(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var IC=function(){function e(t,n,r,i){A(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return O(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Lw(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Cw("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),CC=function(){function e(t,n,r){A(this,e),this.targetId=t,this.state=n,this.error=r}return O(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Lw(i.error.code,i.error.message))),a?new e(t,i.state,r):(Cw("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),AC=function(){function e(t,n){A(this,e),this.clientId=t,this.activeTargetIds=n}return O(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=rT(),o=0;i&&o<r.activeTargetIds.length;++o)i=X_(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Cw("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),RC=function(){function e(t,n){A(this,e),this.clientId=t,this.onlineState=n}return O(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Cw("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),OC=function(){function e(){A(this,e),this.activeTargetIds=rT()}return O(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),NC=function(){function e(t,n,r,i,a){A(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new N_(Gw),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=SC(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new OC),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return O(e,[{key:"start",value:function(){var e=d(b().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=w(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(SC(this.persistenceKey,i)))&&(o=AC.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=w(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(EC(this.persistenceKey,e));if(n){var r=CC.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(EC(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Iw("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Iw("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Iw("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Iw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Cw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(d(b().mark((function e(){var r,i,a,o,u,s,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=C_.ot;if(null!=e)try{var n=JSON.parse(e);Nw("number"==typeof n),t=n}catch(e){Cw("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==C_.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new IC(this.currentUser,e,t,n),i=TC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=TC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=EC(this.persistenceKey,e),i=new CC(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return AC.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return IC.Ji(new xw(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return CC.Ji(r,t)}},{key:"wr",value:function(e){return RC.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Iw("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Or(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=rT();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),PC=function(){function e(){A(this,e),this.Fr=new OC,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return O(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new OC,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),DC=function(){function e(){A(this,e)}return O(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),LC=function(){function e(){var t=this;A(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return O(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Iw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=w(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Iw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=w(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},VC=function(){function e(t){A(this,e),this.jr=t.jr,this.Wr=t.Wr}return O(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),FC=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return O(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new ww;o.listenOnce(mw.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case vw.NO_ERROR:var t=o.getResponseJson();Iw("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vw.TIMEOUT:Iw("Connection",'RPC "'+e+'" timed out'),a(new Lw(Dw.DEADLINE_EXCEEDED,"Request time out"));break;case vw.HTTP_ERROR:var n=o.getStatus();if(Iw("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Dw).indexOf(t)>=0?t:Dw.UNKNOWN}(r.status);a(new Lw(u,r.message))}else a(new Lw(Dw.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Lw(Dw.UNAVAILABLE,"Connection failed."));break;default:Ow()}}finally{Iw("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=dw(),a=pw(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new kw({})),this.uo(o.initMessageHeaders,t,n),ns()||as()||ts().indexOf("Electron/")>=0||os()||ts().indexOf("MSAppHost/")>=0||is()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Iw("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new VC({jr:function(e){l?Iw("Connection","Not sending because WebChannel is closed:",e):(c||(Iw("Connection","Opening WebChannel transport."),s.open(),c=!0),Iw("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,bw.EventType.OPEN,(function(){l||Iw("Connection","WebChannel transport opened.")})),h(s,bw.EventType.CLOSE,(function(){l||(l=!0,Iw("Connection","WebChannel transport closed"),f.eo())})),h(s,bw.EventType.ERROR,(function(e){l||(l=!0,Aw("Connection","WebChannel transport errored:",e),f.eo(new Lw(Dw.UNAVAILABLE,"The operation could not be completed")))})),h(s,bw.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Nw(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Iw("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=VS[e];if(void 0!==t)return qS(t)}(a),u=i.message;void 0===o&&(o=Dw.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Lw(o,u)),s.close()}else Iw("Connection","WebChannel received:",n),f.no(n)}})),h(a,yw.STAT_EVENT,(function(e){e.stat===gw.PROXY?Iw("Connection","Detected buffering proxy"):e.stat===gw.NOPROXY&&Iw("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){A(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return O(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Iw("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Iw("RestConnection","Received: ",e),e}),(function(t){throw Aw("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Sw,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=MC[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function UC(){return"undefined"!=typeof window?window:null}function jC(){return"undefined"!=typeof document?document:null}function BC(e){return new vT(e,!0)}var zC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;A(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return O(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Iw("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),qC=function(){function e(t,n,r,i,a,o,u,s){A(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new zC(t,n)}return O(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Dw.RESOURCE_EXHAUSTED?(Cw(n.toString()),Cw("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Dw.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Lw(Dw.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(d(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Iw("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Iw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),WC=function(e){E(n,e);var t=C(n);function n(e,r,i,a,o,u){var s;return A(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return O(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ow()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Nw(void 0===t||"string"==typeof t),U_.fromBase64String(t||"")):(Nw(void 0===t||t instanceof Uint8Array),U_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Dw.UNKNOWN:qS(e.code);return new Lw(t,e.message||"")}(o);n=new sT(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=xT(e,s.document.name),l=kT(s.document.updateTime),f=new kx({mapValue:{fields:s.document.fields}}),h=wx.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new oT(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=xT(e,v.document),y=v.readTime?kT(v.readTime):Xw.min(),g=wx.newNoDocument(m,y),k=v.removedTargetIds||[];n=new oT([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=xT(e,b.document),_=b.removedTargetIds||[];n=new oT([],_,w,null)}else{if(!("filter"in t))return Ow();t.filter;var x=t.filter;x.targetId;var S=x.count||0,T=new BS(S),E=x.targetId;n=new uT(E,T)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Xw.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Xw.min():t.readTime?kT(t.readTime):Xw.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=ET(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Ex(r)?{documents:PT(e,r)}:{query:DT(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=yT(e,t.resumeToken):t.snapshotVersion.compareTo(Xw.min())>0&&(n.readTime=mT(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ow()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=ET(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(qC),HC=function(e){E(n,e);var t=C(n);function n(e,r,i,a,o,u){var s;return A(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return O(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,Gc(p(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Nw(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Nw(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?kT(e.updateTime):kT(t);return n.isEqual(Xw.min())&&(n=kT(t)),new xS(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=kT(e.commitTime);return this.listener.Jo(n,t)}return Nw(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=ET(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return OT(t.wt,e)}))};this.Oo(n)}}]),n}(qC),KC=function(e){E(n,e);var t=C(n);function n(e,r,i,a){var o;return A(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return O(n,[{key:"tu",value:function(){if(this.Zo)throw new Lw(Dw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Dw.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lw(Dw.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=s(a,2),u=o[0],c=o[1];return i.bo.ao(e,t,n,u,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Dw.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Lw(Dw.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return O((function e(){A(this,e)}))}()),GC=function(){function e(t,n){A(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return O(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Cw(t),this.su=!1):Iw("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),QC=O((function e(t,n,r,i,a){var o=this;A(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=aA(o),!e.t0){e.next=5;break}return Iw("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Pw(t)).lu.add(4),e.next=4,XC(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,$C(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new GC(r,i)}));function $C(e){return YC.apply(this,arguments)}function YC(){return YC=d(b().mark((function e(t){var n,r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!aA(t)){e.next=18;break}n=w(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),YC.apply(this,arguments)}function XC(e){return JC.apply(this,arguments)}function JC(){return JC=d(b().mark((function e(t){var n,r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=w(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),JC.apply(this,arguments)}function ZC(e,t){var n=Pw(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),iA(n)?rA(n):DA(n).Co()&&tA(n,t))}function eA(e,t){var n=Pw(e),r=DA(n);n.hu.delete(t),r.Co()&&nA(n,t),0===n.hu.size&&(r.Co()?r.ko():aA(n)&&n._u.set("Unknown"))}function tA(e,t){e.wu.Nt(t.targetId),DA(e).Qo(t)}function nA(e,t){e.wu.Nt(t),DA(e).jo(t)}function rA(e){e.wu=new lT({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),DA(e).start(),e._u.iu()}function iA(e){return aA(e)&&!DA(e).Do()&&e.hu.size>0}function aA(e){return 0===Pw(e).lu.size}function oA(e){e.wu=void 0}function uA(e){return sA.apply(this,arguments)}function sA(){return sA=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){tA(t,e)}));case 1:case"end":return e.stop()}}),e)}))),sA.apply(this,arguments)}function cA(e,t){return lA.apply(this,arguments)}function lA(){return lA=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oA(t),iA(t)?(t._u.uu(n),rA(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),lA.apply(this,arguments)}function fA(e,t,n){return hA.apply(this,arguments)}function hA(){return hA=d(b().mark((function e(t,n,r){var i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof sT&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=d(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=w(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Iw("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,dA(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof oT?t.wu.Ut(n):n instanceof uT?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Xw.min())){e.next=29;break}return e.prev=14,e.next=17,cC(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(U_.EMPTY_BYTE_STRING,n.snapshotVersion)),nA(e,t);var r=new xE(n.target,t,1,n.sequenceNumber);tA(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Iw("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,dA(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),hA.apply(this,arguments)}function dA(e,t,n){return pA.apply(this,arguments)}function pA(){return pA=d(b().mark((function e(t,n,r){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w_(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,XC(t);case 5:t._u.set("Offline"),r||(r=function(){return cC(t.localStore)}),t.asyncQueue.enqueueRetryable(d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Iw("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,$C(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),pA.apply(this,arguments)}function vA(e,t){return t().catch((function(n){return dA(e,n,t)}))}function mA(e){return yA.apply(this,arguments)}function yA(){return yA=d(b().mark((function e(t){var n,r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Pw(t),r=LA(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!gA(n)){e.next=19;break}return e.prev=3,e.next=6,hC(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,kA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,dA(n,e.t0);case 17:e.next=2;break;case 19:bA(n)&&wA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),yA.apply(this,arguments)}function gA(e){return aA(e)&&e.au.length<10}function kA(e,t){e.au.push(t);var n=LA(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function bA(e){return aA(e)&&!LA(e).Do()&&e.au.length>0}function wA(e){LA(e).start()}function _A(e){return xA.apply(this,arguments)}function xA(){return xA=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:LA(t).Xo();case 1:case"end":return e.stop()}}),e)}))),xA.apply(this,arguments)}function SA(e){return TA.apply(this,arguments)}function TA(){return TA=d(b().mark((function e(t){var n,r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=LA(t),r=w(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),TA.apply(this,arguments)}function EA(e,t,n){return IA.apply(this,arguments)}function IA(){return IA=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=wE.from(i,n,r),e.next=3,vA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,mA(t);case 5:case"end":return e.stop()}}),e)}))),IA.apply(this,arguments)}function CA(e,t){return AA.apply(this,arguments)}function AA(){return AA=d(b().mark((function e(t,n){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&LA(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=d(b().mark((function e(t,n){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zS(i=n.code)||i===Dw.ABORTED){e.next=7;break}return r=t.au.shift(),LA(t).No(),e.next=5,vA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,mA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:bA(t)&&wA(t);case 5:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function RA(e,t){return OA.apply(this,arguments)}function OA(){return OA=d(b().mark((function e(t,n){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Pw(t)).asyncQueue.verifyOperationInProgress(),Iw("RemoteStore","RemoteStore received new credentials"),i=aA(r),r.lu.add(3),e.next=6,XC(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,$C(r);case 12:case"end":return e.stop()}}),e)}))),OA.apply(this,arguments)}function NA(e,t){return PA.apply(this,arguments)}function PA(){return PA=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pw(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,$C(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,XC(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),PA.apply(this,arguments)}function DA(e){return e.mu||(e.mu=function(e,t,n){var r=Pw(e);return r.tu(),new WC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:uA.bind(null,e),Jr:cA.bind(null,e),Go:fA.bind(null,e)}),e.fu.push(function(){var t=d(b().mark((function t(n){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),iA(e)?rA(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:oA(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function LA(e){return e.gu||(e.gu=function(e,t,n){var r=Pw(e);return r.tu(),new HC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:_A.bind(null,e),Jr:CA.bind(null,e),Yo:SA.bind(null,e),Jo:EA.bind(null,e)}),e.fu.push(function(){var t=d(b().mark((function t(n){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,mA(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Iw("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var MA=function(){function e(t,n,r,i,a){A(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Mw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return O(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lw(Dw.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function VA(e,t){if(Cw("AsyncQueue","".concat(t,": ").concat(e)),w_(e))return new Lw(Dw.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var FA=function(){function e(t){A(this,e),this.comparator=t?function(e,n){return t(e,n)||n_.comparator(e.key,n.key)}:function(e,t){return n_.comparator(e.key,t.key)},this.keyedMap=QS(),this.sortedSet=new N_(this.comparator)}return O(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),UA=function(){function e(){A(this,e),this.yu=new N_(n_.comparator)}return O(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Ow():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),jA=function(){function e(t,n,r,i,a,o,u,s){A(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return O(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,FA.emptySet(n),a,r,i,!0,!1)}}]),e}(),BA=O((function e(){A(this,e),this.Iu=void 0,this.listeners=[]})),zA=O((function e(){A(this,e),this.queries=new WS((function(e){return tS(e)}),eS),this.onlineState="Unknown",this.Tu=new Set}));function qA(e,t){return WA.apply(this,arguments)}function WA(){return WA=d(b().mark((function e(t,n){var r,i,a,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pw(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new BA),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=VA(e.t0,"Initialization of query '".concat(nS(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&$A(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),WA.apply(this,arguments)}function HA(e,t){return KA.apply(this,arguments)}function KA(){return KA=d(b().mark((function e(t,n){var r,i,a,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pw(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),KA.apply(this,arguments)}function GA(e,t){var n,r=Pw(e),i=!1,a=w(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=w(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&$A(r)}function QA(e,t,n){var r=Pw(e),i=r.queries.get(t);if(i){var a,o=w(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function $A(e){e.Tu.forEach((function(e){e.next()}))}var YA=function(){function e(t,n,r){A(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return O(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=w(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new jA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=jA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),XA=function(){function e(t,n){A(this,e),this.payload=t,this.byteLength=n}return O(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),JA=function(){function e(t){A(this,e),this.wt=t}return O(e,[{key:"Wi",value:function(e){return xT(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?AT(this.wt,e.document,!1):wx.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return kT(e)}}]),e}(),ZA=function(){function e(t,n,r){A(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=eR(t)}return O(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Zw.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new JA(this.wt),i=w(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=w(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||tT()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=d(b().mark((function e(){var t,n,r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bC(this.localStore,new JA(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=w(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,_C(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function eR(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var tR=O((function e(t){A(this,e),this.key=t})),nR=O((function e(t){A(this,e),this.key=t})),rR=function(){function e(t,n){A(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=tT(),this.mutatedKeys=tT(),this.Lu=aS(t),this.Uu=new FA(this.Lu)}return O(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new UA,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=rS(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ow()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new jA(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new UA,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=tT(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new nR(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new tR(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=tT();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return jA.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),iR=O((function e(t,n,r){A(this,e),this.query=t,this.targetId=n,this.view=r})),aR=O((function e(t){A(this,e),this.key=t,this.Xu=!1})),oR=function(){function e(t,n,r,i,a,o){A(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new WS((function(e){return tS(e)}),eS),this.ec=new Map,this.nc=new Set,this.sc=new N_(n_.comparator),this.ic=new Map,this.rc=new jI,this.oc={},this.uc=new Map,this.cc=mI.Rn(),this.onlineState="Unknown",this.ac=void 0}return O(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function uR(e,t){return sR.apply(this,arguments)}function sR(){return sR=d(b().mark((function e(t,n){var r,i,a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=eO(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,dC(r.localStore,Jx(n));case 8:return u=e.sent,r.isPrimaryClient&&ZC(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,cR(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),sR.apply(this,arguments)}function cR(e,t,n,r){return lR.apply(this,arguments)}function lR(){return lR=d(b().mark((function e(t,n,r,i){var a,o,u,s,c,l;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=d(b().mark((function e(t,n,r,i){var a,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,mC(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(RR(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,mC(t.localStore,n,!0);case 3:return a=e.sent,o=new rR(n,a.ji),u=o.Ku(a.documents),s=aT.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),RR(t,r,c.zu),l=new iR(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),lR.apply(this,arguments)}function fR(e,t){return hR.apply(this,arguments)}function hR(){return hR=d(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Pw(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!eS(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,pC(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),eA(r.remoteStore,i.targetId),CR(r,i.targetId)})).catch(p_);case 9:e.next=14;break;case 11:return CR(r,i.targetId),e.next=14,pC(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),hR.apply(this,arguments)}function dR(e,t,n){return pR.apply(this,arguments)}function pR(){return pR=d(b().mark((function e(t,n,r){var i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tO(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Pw(e),a=Yw.now(),o=t.reduce((function(e,t){return e.add(t.key)}),tT());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=KS(),s=tT();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=w(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=RS(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new PS(c.key,l,bx(l.value.mapValue),SS.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:$S(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new N_(Gw)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,PR(i,a.changes);case 9:return e.next=11,mA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=VA(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),pR.apply(this,arguments)}function vR(e,t){return mR.apply(this,arguments)}function mR(){return mR=d(b().mark((function e(t,n){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pw(t),e.prev=1,e.next=4,lC(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Nw(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Nw(n.Xu):e.removedDocuments.size>0&&(Nw(n.Xu),n.Xu=!1))})),e.next=8,PR(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,p_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),mR.apply(this,arguments)}function yR(e,t,n){var r=Pw(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Pw(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=w(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&$A(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function gR(e,t,n){return kR.apply(this,arguments)}function kR(){return kR=d(b().mark((function e(t,n,r){var i,a,o,u,s,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Pw(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new N_(n_.comparator)).insert(o,wx.newNoDocument(o,Xw.min())),s=tT().add(o),c=new iT(Xw.min(),new Map,new L_(Gw),u,s),e.next=9,vR(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),NR(i),e.next=16;break;case 14:return e.next=16,pC(i.localStore,n,!1).then((function(){return CR(i,n,r)})).catch(p_);case 16:case"end":return e.stop()}}),e)}))),kR.apply(this,arguments)}function bR(e,t){return wR.apply(this,arguments)}function wR(){return wR=d(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pw(t),i=n.batch.batchId,e.prev=1,e.next=4,sC(r.localStore,n);case 4:return a=e.sent,IR(r,i,null),ER(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,PR(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,p_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),wR.apply(this,arguments)}function _R(e,t,n){return xR.apply(this,arguments)}function xR(){return xR=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Pw(t),e.prev=1,e.next=4,function(e,t){var n=Pw(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Nw(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,IR(i,n,r),ER(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,PR(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,p_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),xR.apply(this,arguments)}function SR(e,t){return TR.apply(this,arguments)}function TR(){return TR=d(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return aA((r=Pw(t)).remoteStore)||Iw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Pw(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=VA(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),TR.apply(this,arguments)}function ER(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function IR(e,t,n){var r=Pw(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function CR(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=w(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||AR(e,t)}))}function AR(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(eA(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),NR(e))}function RR(e,t,n){var r,i=w(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof tR?(e.rc.addReference(a.key,t),OR(e,a)):a instanceof nR?(Iw("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||AR(e,a.key)):Ow()}}catch(o){i.e(o)}finally{i.f()}}function OR(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Iw("SyncEngine","New document in limbo: "+n),e.nc.add(r),NR(e))}function NR(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new n_(Zw.fromString(t)),r=e.cc.next();e.ic.set(r,new aR(n)),e.sc=e.sc.insert(n,r),ZC(e.remoteStore,new xE(Jx(Kx(n.path)),r,2,C_.ot))}}function PR(e,t,n){return DR.apply(this,arguments)}function DR(){return DR=d(b().mark((function e(t,n,r){var i,a,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Pw(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=nC.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=d(b().mark((function e(t,n){var r,i,a,o,u,s,c,l;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pw(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return m_.forEach(n,(function(t){return m_.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return m_.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),w_(e.t0)){e.next=10;break}throw e.t0;case 10:Iw("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=w(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),DR.apply(this,arguments)}function LR(e,t){return MR.apply(this,arguments)}function MR(){return MR=d(b().mark((function e(t,n){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Pw(t)).currentUser.isEqual(n)){e.next=11;break}return Iw("SyncEngine","User change. New user:",n.toKey()),e.next=5,oC(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Lw(Dw.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,PR(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),MR.apply(this,arguments)}function VR(e,t){var n=Pw(e),r=n.ic.get(t);if(r&&r.Xu)return tT().add(r.key);var i=tT(),a=n.ec.get(t);if(!a)return i;var o,u=w(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function FR(e,t){return UR.apply(this,arguments)}function UR(){return UR=d(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pw(t),e.next=3,mC(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&RR(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),UR.apply(this,arguments)}function jR(e,t){return BR.apply(this,arguments)}function BR(){return BR=d(b().mark((function e(t,n){var r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pw(t),e.abrupt("return",gC(r.localStore,n).then((function(e){return PR(r,e)})));case 2:case"end":return e.stop()}}),e)}))),BR.apply(this,arguments)}function zR(e,t,n,r){return qR.apply(this,arguments)}function qR(){return qR=d(b().mark((function e(t,n,r,i){var a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Pw(t),e.next=3,function(e,t){var n=Pw(e),r=Pw(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):m_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,mA(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(IR(a,n,i||null),ER(a,n),function(e,t){Pw(Pw(e).mutationQueue).In(t)}(a.localStore,n)):Ow();case 11:return e.next=13,PR(a,o);case 13:e.next=16;break;case 15:Iw("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),qR.apply(this,arguments)}function WR(e,t){return HR.apply(this,arguments)}function HR(){return HR=d(b().mark((function e(t,n){var r,i,a,o,u,s,c,l;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(eO(r=Pw(t)),tO(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,KR(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,NA(r.remoteStore,!0);case 9:o=w(a);try{for(o.s();!(u=o.n()).done;)s=u.value,ZC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return CR(r,t),pC(r.localStore,t,!0)})),eA(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,KR(r,c);case 21:return function(e){var t=Pw(e);t.ic.forEach((function(e,n){eA(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new N_(n_.comparator)}(r),r.ac=!1,e.next=25,NA(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),HR.apply(this,arguments)}function KR(e,t,n){return GR.apply(this,arguments)}function GR(){return GR=d(b().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Pw(t),a=[],o=[],u=w(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,dC(i.localStore,Jx(f[0]));case 11:l=e.sent,h=w(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,FR(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,yC(i.localStore,c);case 36:return y=e.sent,e.next=39,dC(i.localStore,y);case 39:return l=e.sent,e.next=42,cR(i,QR(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),GR.apply(this,arguments)}function QR(e){return Hx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $R(e){var t=Pw(e);return Pw(Pw(t.localStore).persistence).Ri()}function YR(e,t,n,r){return XR.apply(this,arguments)}function XR(){return XR=d(b().mark((function e(t,n,r,i){var a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Pw(t)).ac){e.next=3;break}return e.abrupt("return",void Iw("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,gC(a.localStore,iS(o[0]));case 10:return u=e.sent,s=iT.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,PR(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,pC(a.localStore,n,!0);case 17:return CR(a,n,i),e.abrupt("break",20);case 19:Ow();case 20:case"end":return e.stop()}}),e)}))),XR.apply(this,arguments)}function JR(e,t,n){return ZR.apply(this,arguments)}function ZR(){return ZR=d(b().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=eO(t)).ac){e.next=45;break}a=w(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Iw("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,yC(i.localStore,u);case 12:return s=e.sent,e.next=15,dC(i.localStore,s);case 15:return c=e.sent,e.next=18,cR(i,QR(s),c.targetId,!1);case 18:ZC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=w(r),e.prev=30,h=b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,pC(i.localStore,t,!1).then((function(){eA(i.remoteStore,t),CR(i,t)})).catch(p_);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),ZR.apply(this,arguments)}function eO(e){var t=Pw(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=gR.bind(null,t),t.Zu.Go=GA.bind(null,t.eventManager),t.Zu.lc=QA.bind(null,t.eventManager),t}function tO(e){var t=Pw(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=_R.bind(null,t),t}function nO(e,t,n){var r=Pw(e);(function(){var e=d(b().mark((function e(t,n,r){var i,a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Pw(e),r=kT(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(eR(i)),a=new ZA(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,PR(t,s.Ou,void 0);case 31:return e.next=33,function(e,t){var n=Pw(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Mu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Aw("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var rO=function(){function e(){A(this,e),this.synchronizeTabs=!1}return O(e,[{key:"initialize",value:function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=BC(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return aC(this.persistence,new rC,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new KI(QI.Os,this.wt)}},{key:"dc",value:function(e){return new PC}},{key:"terminate",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),iO=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return O(n,[{key:"initialize",value:function(){var e=d(b().mark((function e(t){var r=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc(p(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,tO(this.yc.syncEngine);case 6:return e.next=8,mA(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return aC(this.persistence,new rC,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new xI(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new I_(t,this.persistence);return new E_(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=tC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sI.withCacheSize(this.cacheSizeBytes):sI.DEFAULT;return new JI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,UC(),jC(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new PC}}]),n}(rO),aO=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return O(n,[{key:"initialize",value:function(){var e=d(b().mark((function e(t){var r,i=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc(p(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof NC,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:zR.bind(null,r),Mr:YR.bind(null,r),Or:JR.bind(null,r),Ri:$R.bind(null,r),Nr:jR.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,WR(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=UC();if(!NC.V(t))throw new Lw(Dw.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=tC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new NC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(iO),oO=function(){function e(){A(this,e)}return O(e,[{key:"initialize",value:function(){var e=d(b().mark((function e(t,n){var r=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return yR(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=LR.bind(null,this.syncEngine),e.next=12,NA(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new zA}},{key:"createDatastore",value:function(e){var t,n=BC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new FC(t));return function(e,t,n,r){return new KC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return yR(o.syncEngine,e,0)},a=LC.V()?new LC:new DC,new QC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new oR(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pw(t),Iw("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,XC(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function uO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return d(b().mark((function r(){var i;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var sO=function(){function e(t){A(this,e),this.observer=t,this.muted=!1}return O(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):Cw("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),cO=function(){function e(t,n){var r=this;A(this,e),this.Ec=t,this.wt=n,this.metadata=new Mw,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return O(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=d(b().mark((function e(){var t,n,r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new XA(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=d(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=d(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),lO=function(){function e(t){A(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return O(e,[{key:"lookup",value:function(){var e=d(b().mark((function e(t){var n,r=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Lw(Dw.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=d(b().mark((function e(t,n){var r,i,a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pw(t),i=ET(r.wt)+"/documents",a={documents:n.map((function(e){return _T(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=RT(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Nw(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new US(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=d(b().mark((function e(){var t,n=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=n_.fromPath(t);n.mutations.push(new jS(r,n.precondition(r)))})),e.next=7,function(){var e=d(b().mark((function e(t,n){var r,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Pw(t),i=ET(r.wt)+"/documents",a={writes:n.map((function(e){return OT(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ow();t=Xw.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Lw(Dw.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?SS.updateTime(t):SS.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xw.min()))throw new Lw(Dw.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return SS.updateTime(t)}return SS.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),fO=function(){function e(t,n,r,i,a){A(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new zC(this.asyncQueue,"transaction_retry")}return O(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(d(b().mark((function t(){var n,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new lO(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!$_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!zS(t)}return!1}}]),e}(),hO=function(){function e(t,n,r,i){var a=this;A(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xw.UNAUTHENTICATED,this.clientId=Kw.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Iw("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Iw("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return O(e,[{key:"getConfiguration",value:function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Lw(Dw.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Mw;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(d(b().mark((function n(){var r;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=VA(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function dO(e,t){return pO.apply(this,arguments)}function pO(){return pO=d(b().mark((function e(t,n){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Iw("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,oC(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),pO.apply(this,arguments)}function vO(e,t){return mO.apply(this,arguments)}function mO(){return mO=d(b().mark((function e(t,n){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,yO(t);case 3:return r=e.sent,Iw("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return RA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return RA(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),mO.apply(this,arguments)}function yO(e){return gO.apply(this,arguments)}function gO(){return gO=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Iw("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,dO(t,new rO);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),gO.apply(this,arguments)}function kO(e){return bO.apply(this,arguments)}function bO(){return bO=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Iw("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,vO(t,new oO);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),bO.apply(this,arguments)}function wO(e){return yO(e).then((function(e){return e.persistence}))}function _O(e){return yO(e).then((function(e){return e.localStore}))}function xO(e){return kO(e).then((function(e){return e.remoteStore}))}function SO(e){return kO(e).then((function(e){return e.syncEngine}))}function TO(e){return EO.apply(this,arguments)}function EO(){return EO=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kO(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=uR.bind(null,n.syncEngine),r.onUnlisten=fR.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),EO.apply(this,arguments)}function IO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mw;return e.asyncQueue.enqueueAndForget(d(b().mark((function i(){return b().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sO({next:function(a){t.enqueueAndForget((function(){return HA(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Lw(Dw.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Lw(Dw.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new YA(Kx(n.path),a,{includeMetadataChanges:!0,Du:!0});return qA(e,o)},i.next=3,TO(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function CO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Mw;return e.asyncQueue.enqueueAndForget(d(b().mark((function i(){return b().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new sO({next:function(n){t.enqueueAndForget((function(){return HA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Lw(Dw.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new YA(n,a,{includeMetadataChanges:!0,Du:!0});return qA(e,o)},i.next=3,TO(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var AO=new Map;function RO(e,t,n){if(!n)throw new Lw(Dw.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function OO(e,t,n,r){if(!0===t&&!0===r)throw new Lw(Dw.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function NO(e){if(!n_.isDocumentKey(e))throw new Lw(Dw.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function PO(e){if(n_.isDocumentKey(e))throw new Lw(Dw.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function DO(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ow()}function LO(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lw(Dw.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=DO(e);throw new Lw(Dw.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function MO(e,t){if(t<=0)throw new Lw(Dw.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var VO=function(){function e(t){var n;if(A(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Lw(Dw.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lw(Dw.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,OO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return O(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),FO=function(){function e(t,n,r){A(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VO({}),this._settingsFrozen=!1,t instanceof Q_?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lw(Dw.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Q_(e.options.projectId)}(t))}return O(e,[{key:"app",get:function(){if(!this._app)throw new Lw(Dw.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Lw(Dw.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VO(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Fw;switch(e.type){case"gapi":var t=e.client;return Nw(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new zw(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Lw(Dw.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=AO.get(e);t&&(Iw("ComponentProvider","Removing Datastore"),AO.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function UO(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=LO(e,FO))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Aw("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=xw.MOCK_USER;else{o=es(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Lw(Dw.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new xw(s)}e._authCredentials=new Uw(new Vw(o,u))}}var jO=function(){function e(t,n,r){A(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return O(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new zO(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),BO=function(){function e(t,n,r){A(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return O(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),zO=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this,e,r,Kx(i)))._path=i,a.type="collection",a}return O(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new jO(this.firestore,null,new n_(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(BO);function qO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ws(e),RO("collection","path",t),e instanceof FO){var a=Zw.fromString.apply(Zw,[t].concat(r));return PO(a),new zO(e,null,a)}if(!(e instanceof jO||e instanceof zO))throw new Lw(Dw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zw.fromString.apply(Zw,[t].concat(r)));return PO(o),new zO(e.firestore,null,o)}function WO(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ws(e),1===arguments.length&&(t=Kw.I()),RO("doc","path",t),e instanceof FO){var a=Zw.fromString.apply(Zw,[t].concat(r));return NO(a),new jO(e,null,new n_(a))}if(!(e instanceof jO||e instanceof zO))throw new Lw(Dw.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zw.fromString.apply(Zw,[t].concat(r)));return NO(o),new jO(e.firestore,e instanceof zO?e.converter:null,new n_(o))}function HO(e,t){return e=ws(e),t=ws(t),(e instanceof jO||e instanceof zO)&&(t instanceof jO||t instanceof zO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function KO(e,t){return e=ws(e),t=ws(t),e instanceof BO&&t instanceof BO&&e.firestore===t.firestore&&eS(e._query,t._query)&&e.converter===t.converter}var GO=function(){function e(){var t=this;A(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new zC(this,"async_queue_retry"),this.Kc=function(){var e=jC();e&&Iw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=jC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return O(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=jC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Mw;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=d(b().mark((function e(){var t=this;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),w_(e.t0)){e.next=12;break}throw e.t0;case 12:Iw("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Cw("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=MA.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Ow()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=d(b().mark((function e(){var t;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=w(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=w(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function QO(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=w(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var $O=function(){function e(){A(this,e),this._progressObserver={},this._taskCompletionResolver=new Mw,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return O(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),YO=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new GO,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return O(n,[{key:"_terminate",value:function(){return this._firestoreClient||JO(this),this._firestoreClient.terminate()}}]),n}(FO);function XO(e){return e._firestoreClient||JO(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function JO(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new G_(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new hO(e._authCredentials,e._appCheckCredentials,e._queue,r)}function ZO(e,t,n){var r=new Mw;return e.asyncQueue.enqueue(d(b().mark((function i(){var a;return b().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,dO(e,n);case 3:return i.next=5,vO(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Dw.FAILED_PRECONDITION||e.code===Dw.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:Aw("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function eN(e){return function(e){return e.asyncQueue.enqueue(d(b().mark((function t(){var n,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wO(e);case 2:return n=t.sent,t.next=5,xO(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Pw(e);return t.lu.delete(0),$C(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(XO(e=LO(e,YO)))}function tN(e){return function(e){return e.asyncQueue.enqueue(d(b().mark((function t(){var n,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wO(e);case 2:return n=t.sent,t.next=5,xO(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Pw(t)).lu.add(0),e.next=4,XC(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(XO(e=LO(e,YO)))}function nN(e,t){var n=XO(e=LO(e,YO)),r=new $O;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new cO(e,t)}(function(e,t){if(e instanceof Uint8Array)return uO(e,t);if(e instanceof ArrayBuffer)return uO(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,BC(t));e.asyncQueue.enqueueAndForget(d(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=nO,t.next=3,SO(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function rN(e,t){return function(e,t){return e.asyncQueue.enqueue(d(b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Pw(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,_O(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(XO(e=LO(e,YO)),t).then((function(t){return t?new BO(e,null,t.query):null}))}function iN(e){if(e._initialized||e._terminated)throw new Lw(Dw.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var aN=function(){function e(){A(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new t_(n)}return O(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var oN=function(){function e(t){A(this,e),this._byteString=t}return O(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(U_.fromBase64String(t))}catch(t){throw new Lw(Dw.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(U_.fromUint8Array(t))}}]),e}(),uN=O((function e(t){A(this,e),this._methodName=t})),sN=function(){function e(t,n){if(A(this,e),!isFinite(t)||t<-90||t>90)throw new Lw(Dw.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Lw(Dw.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return O(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Gw(this._lat,e._lat)||Gw(this._long,e._long)}}]),e}(),cN=/^__.*__$/,lN=function(){function e(t,n,r){A(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return O(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new PS(e,this.data,this.fieldMask,t,this.fieldTransforms):new NS(e,this.data,t,this.fieldTransforms)}}]),e}(),fN=function(){function e(t,n,r){A(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return O(e,[{key:"toMutation",value:function(e,t){return new PS(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function hN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ow()}}var dN=function(){function e(t,n,r,i,a,o){A(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return O(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return PN(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(hN(this.Zc)&&cN.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),pN=function(){function e(t,n,r){A(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||BC(t)}return O(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new dN({Zc:e,methodName:t,ca:n,path:t_.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function vN(e){var t=e._freezeSettings(),n=BC(e._databaseId);return new pN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);AN("Data must be an object, but it was:",o,r);var u,s,c=IN(r,o);if(a.merge)u=new F_(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=w(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=RN(t,d,n);if(!o.contains(p))throw new Lw(Dw.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));DN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new F_(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new lN(new kx(c),u,s)}var yN=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(uN);function gN(e,t,n){return new dN({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var kN=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"_toFieldTransform",value:function(e){return new _S(e.path,new pS)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(uN),bN=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e)).ha=r,i}return O(n,[{key:"_toFieldTransform",value:function(e){var t=gN(this,e,!0),n=this.ha.map((function(e){return EN(e,t)})),r=new vS(n);return new _S(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uN),wN=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e)).ha=r,i}return O(n,[{key:"_toFieldTransform",value:function(e){var t=gN(this,e,!0),n=this.ha.map((function(e){return EN(e,t)})),r=new yS(n);return new _S(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uN),_N=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e)).la=r,i}return O(n,[{key:"_toFieldTransform",value:function(e){var t=new kS(e.wt,cS(e.wt,this.la));return new _S(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(uN);function xN(e,t,n,r){var i=e.aa(1,t,n);AN("Data must be an object, but it was:",i,r);var a=[],o=kx.empty();R_(r,(function(e,r){var u=NN(t,e,n);r=ws(r);var s=i.ia(u);if(r instanceof yN)a.push(u);else{var c=EN(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new F_(a);return new fN(o,u,i.fieldTransforms)}function SN(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[RN(t,r,n)],s=[i];if(a.length%2!=0)throw new Lw(Dw.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(RN(t,a[c])),s.push(a[c+1]);for(var l=[],f=kx.empty(),h=u.length-1;h>=0;--h)if(!DN(l,u[h])){var d=u[h],p=s[h];p=ws(p);var v=o.ia(d);if(p instanceof yN)l.push(d);else{var m=EN(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new F_(l);return new fN(f,y,o.fieldTransforms)}function TN(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return EN(n,e.aa(r?4:3,t))}function EN(e,t){if(CN(e=ws(e)))return AN("Unsupported field value:",t,e),IN(e,t);if(e instanceof uN)return function(e,t){if(!hN(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=w(e);try{for(a.s();!(n=a.n()).done;){var o=EN(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=ws(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return cS(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Yw.fromDate(e);return{timestampValue:mT(t.wt,n)}}if(e instanceof Yw){var r=new Yw(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:mT(t.wt,r)}}if(e instanceof sN)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oN)return{bytesValue:yT(t.wt,e._byteString)};if(e instanceof jO){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:bT(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(DO(e)))}(e,t)}function IN(e,t){var n={};return O_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):R_(e,(function(e,r){var i=EN(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function CN(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yw||e instanceof sN||e instanceof oN||e instanceof jO||e instanceof uN)}function AN(e,t,n){if(!CN(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=DO(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function RN(e,t,n){if((t=ws(t))instanceof aN)return t._internalPath;if("string"==typeof t)return NN(e,t);throw PN("Field path arguments must be of type string or ",e,!1,void 0,n)}var ON=new RegExp("[~\\*/\\[\\]]");function NN(e,t,n){if(t.search(ON)>=0)throw PN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return y(aN,l(t.split(".")))._internalPath}catch(r){throw PN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function PN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Lw(Dw.INVALID_ARGUMENT,u+e+s)}function DN(e,t){return e.some((function(e){return e.isEqual(t)}))}var LN=function(){function e(t,n,r,i,a){A(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return O(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new jO(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(VN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),MN=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"data",value:function(){return Gc(p(n.prototype),"data",this).call(this)}}]),n}(LN);function VN(e,t){return"string"==typeof t?NN(e,t):t instanceof aN?t._internalPath:t._delegate._internalPath}var FN=function(){function e(t,n){A(this,e),this.hasPendingWrites=t,this.fromCache=n}return O(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),UN=function(e){E(n,e);var t=C(n);function n(e,r,i,a,o,u){var s;return A(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return O(n,[{key:"exists",value:function(){return Gc(p(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new jN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(VN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(LN),jN=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gc(p(n.prototype),"data",this).call(this,e)}}]),n}(UN),BN=function(){function e(t,n,r,i){A(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new FN(i.hasPendingWrites,i.fromCache),this.query=r}return O(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new jN(n._firestore,n._userDataWriter,r.key,r,new FN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lw(Dw.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new jN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new jN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new FN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:zN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function zN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ow()}}function qN(e,t){return e instanceof UN&&t instanceof UN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof BN&&t instanceof BN&&e._firestore===t._firestore&&KO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function WN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Lw(Dw.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var HN=O((function e(){A(this,e)}));function KN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var GN=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return O(n,[{key:"_apply",value:function(e){var t=vN(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){iP(o,a);var s,c=[],l=w(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(rP(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=rP(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||iP(o,a),u=TN(n,"where",o,"in"===a||"not-in"===a);var h=Rx.create(i,a,u);return function(e,t){if(t.ht()){var n=$x(e);if(null!==n&&!n.isEqual(t.field))throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Qx(e);null!==r&&aP(e,t.field,r)}var i=function(e,t){var n,r=w(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Lw(Dw.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lw(Dw.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new BO(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Wx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(HN);var QN=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return O(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new jx(t,n);return function(e,t){if(null===Qx(e)){var n=$x(e);null!==n&&aP(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new BO(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Wx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(HN);var $N=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return O(n,[{key:"_apply",value:function(e){return new BO(e.firestore,e.converter,Zx(e._query,this.ma,this.ga))}}]),n}(HN);var YN=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return O(n,[{key:"_apply",value:function(e){var t=nP(e,this.type,this.ya,this.pa);return new BO(e.firestore,e.converter,function(e,t){return new Wx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(HN);function XN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YN("startAt",t,!0)}function JN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new YN("startAfter",t,!1)}var ZN=function(e){E(n,e);var t=C(n);function n(e,r,i){var a;return A(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return O(n,[{key:"_apply",value:function(e){var t=nP(e,this.type,this.ya,this.pa);return new BO(e.firestore,e.converter,function(e,t){return new Wx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(HN);function eP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZN("endBefore",t,!1)}function tP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ZN("endAt",t,!0)}function nP(e,t,n,r){if(n[0]=ws(n[0]),n[0]instanceof LN)return function(e,t,n,r,i){if(!r)throw new Lw(Dw.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=w(Xx(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(ux(t,r.key));else{var c=r.data.field(s.field);if(W_(c))throw new Lw(Dw.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Ux(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=vN(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Lw(Dw.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Yx(e)&&-1!==c.indexOf("/"))throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Zw.fromString(c));if(!n_.isDocumentKey(l))throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new n_(l);u.push(ux(t,f))}else{var h=TN(n,r,c);u.push(h)}}return new Ux(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function rP(e,t,n){if("string"==typeof(n=ws(n))){if(""===n)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yx(t)&&-1!==n.indexOf("/"))throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Zw.fromString(n));if(!n_.isDocumentKey(r))throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ux(e,new n_(r))}if(n instanceof jO)return ux(e,n._key);throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(DO(n),"."))}function iP(e,t){if(!Array.isArray(e)||0===e.length)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function aP(e,t,n){if(!n.isEqual(t))throw new Lw(Dw.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var oP={maxAttempts:5},uP=function(){function e(){A(this,e)}return O(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ex(e)){case 0:return null;case 1:return e.booleanValue;case 2:return z_(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(q_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ow()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return R_(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new sN(z_(e.latitude),z_(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=H_(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(K_(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=B_(e);return new Yw(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Zw.fromString(e);Nw(WT(n));var r=new Q_(n.get(1),n.get(3)),i=new n_(n.popFirst(5));return r.isEqual(t)||Cw("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function sP(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var cP=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this)).firestore=e,r}return O(n,[{key:"convertBytes",value:function(e){return new oN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jO(this.firestore,null,t)}}]),n}(uP),lP=function(){function e(t,n){A(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=vN(t)}return O(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=fP(e,this._firestore),i=sP(r.converter,t,n),a=mN(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,SS.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=fP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ws(t))||t instanceof aN?SN(this._dataReader,"WriteBatch.update",i._key,t,n,o):xN(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,SS.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=fP(e,this._firestore);return this._mutations=this._mutations.concat(new US(t._key,SS.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Lw(Dw.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function fP(e,t){if((e=ws(e)).firestore!==t)throw new Lw(Dw.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var hP=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this)).firestore=e,r}return O(n,[{key:"convertBytes",value:function(e){return new oN(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new jO(this.firestore,null,t)}}]),n}(uP);function dP(e){e=LO(e,jO);var t=LO(e.firestore,YO),n=XO(t),r=new hP(t);return function(e,t){var n=new Mw;return e.asyncQueue.enqueueAndForget(d(b().mark((function r(){return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=d(b().mark((function e(t,n,r){var i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Pw(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Lw(Dw.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=VA(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_O(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new UN(t,r,e._key,n,new FN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function pP(e){e=LO(e,BO);var t=LO(e.firestore,YO),n=XO(t),r=new hP(t);return function(e,t){var n=new Mw;return e.asyncQueue.enqueueAndForget(d(b().mark((function r(){return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=d(b().mark((function e(t,n,r){var i,a,o,u,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mC(t,n,!0);case 3:i=e.sent,a=new rR(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=VA(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,_O(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new BN(t,r,e,n)}))}function vP(e,t,n){e=LO(e,jO);var r=LO(e.firestore,YO),i=sP(e.converter,t,n);return kP(r,[mN(vN(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,SS.none())])}function mP(e,t,n){e=LO(e,jO);for(var r=LO(e.firestore,YO),i=vN(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return kP(r,[("string"==typeof(t=ws(t))||t instanceof aN?SN(i,"updateDoc",e._key,t,n,o):xN(i,"updateDoc",e._key,t)).toMutation(e._key,SS.exists(!0))])}function yP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=ws(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||QO(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(QO(n[s])){var p=n[s];n[s]=null===(i=p.next)||void 0===i?void 0:i.bind(p),n[s+1]=null===(a=p.error)||void 0===a?void 0:a.bind(p),n[s+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof jO)l=LO(e.firestore,YO),f=Kx(e._key.path),c={next:function(t){n[s]&&n[s](bP(l,e,t))},error:n[s+1],complete:n[s+2]};else{var v=LO(e,BO);l=LO(v.firestore,YO),f=v._query;var m=new hP(l);c={next:function(e){n[s]&&n[s](new BN(l,m,v,e))},error:n[s+1],complete:n[s+2]},WN(e._query)}return function(e,t,n,r){var i=new sO(r),a=new YA(t,i,n);return e.asyncQueue.enqueueAndForget(d(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qA,t.next=3,TO(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(d(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=HA,t.next=3,TO(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(XO(l),f,h,c)}function gP(e,t){return function(e,t){var n=new sO(t);return e.asyncQueue.enqueueAndForget(d(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Pw(e).Tu.add(t),t.next()},t.next=3,TO(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(d(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Pw(e).Tu.delete(t)},t.next=3,TO(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(XO(e=LO(e,YO)),QO(t)?t:{next:t})}function kP(e,t){return function(e,t){var n=new Mw;return e.asyncQueue.enqueueAndForget(d(b().mark((function r(){return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=dR,r.next=3,SO(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(XO(e),t)}function bP(e,t,n){var r=n.docs.get(t._key),i=new hP(e);return new UN(e,i,t._key,r,new FN(n.hasPendingWrites,n.fromCache),t.converter)}var wP=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e,r))._firestore=e,i}return O(n,[{key:"get",value:function(e){var t=this,r=fP(e,this._firestore),i=new hP(this._firestore);return Gc(p(n.prototype),"get",this).call(this,e).then((function(e){return new UN(t._firestore,i,r._key,e._document,new FN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){A(this,e),this._firestore=t,this._transaction=n,this._dataReader=vN(t)}return O(e,[{key:"get",value:function(e){var t=this,n=fP(e,this._firestore),r=new cP(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ow();var i=e[0];if(i.isFoundDocument())return new LN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new LN(t._firestore,r,n._key,null,n.converter);throw Ow()}))}},{key:"set",value:function(e,t,n){var r=fP(e,this._firestore),i=sP(r.converter,t,n),a=mN(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=fP(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=ws(t))||t instanceof aN?SN(this._dataReader,"Transaction.update",i._key,t,n,o):xN(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=fP(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function _P(e,t,n){e=LO(e,YO);var r=Object.assign(Object.assign({},oP),n);return function(e){if(e.maxAttempts<1)throw new Lw(Dw.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Mw;return e.asyncQueue.enqueueAndForget(d(b().mark((function i(){var a;return b().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return kO(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new fO(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(XO(e),(function(n){return t(new wP(e,n))}),r)}function xP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bN("arrayUnion",t)}function SP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wN("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Sw=e}(vc),sc(new _s("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new YO(i,new jw(e.getProvider("auth-internal")),new Ww(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),wc(_w,"3.4.14",e),wc(_w,"3.4.14","esm2017")}();function TP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Lw("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function EP(){if("undefined"===typeof Uint8Array)throw new Lw("unimplemented","Uint8Arrays are not available in this environment.")}function IP(){if("undefined"==typeof atob)throw new Lw("unimplemented","Blobs are unavailable in Firestore in this environment.")}var CP=function(){function e(t){A(this,e),this._delegate=t}return O(e,[{key:"toBase64",value:function(){return IP(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return EP(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return IP(),new e(oN.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return EP(),new e(oN.fromUint8Array(t))}}]),e}();function AP(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=w(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var RP=function(){function e(){A(this,e)}return O(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){iN(e=LO(e,YO));var n=XO(e),r=e._freezeSettings(),i=new oO;return ZO(n,i,new iO(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){iN(e=LO(e,YO));var t=XO(e),n=e._freezeSettings(),r=new oO;return ZO(t,r,new aO(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Lw(Dw.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Mw;return e._queue.enqueueAndForgetEvenWhileRestricted(d(b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=d(b().mark((function e(t){var n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g_.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,g_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(tC(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),OP=function(){function e(t,n,r){var i=this;A(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Q_||(this._appCompat=t)}return O(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Aw("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};UO(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return eN(this._delegate)}},{key:"disableNetwork",value:function(){return tN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&OO("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Mw;return e.asyncQueue.enqueueAndForget(d(b().mark((function n(){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=SR,n.next=3,SO(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(XO(e=LO(e,YO)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return gP(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Lw("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new HP(this,qO(this._delegate,e))}catch(t){throw VP(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new MP(this,WO(this._delegate,e))}catch(t){throw VP(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new zP(this,function(e,t){if(e=LO(e,FO),RO("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Lw(Dw.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new BO(e,null,function(e){return new Wx(Zw.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw VP(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return _P(this._delegate,(function(n){return e(new PP(t,n))}))}},{key:"batch",value:function(){var e=this;return XO(this._delegate),new DP(new lP(this._delegate,(function(t){return kP(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return nN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return rN(this._delegate,e).then((function(e){return e?new zP(t,e):null}))}}]),e}(),NP=function(e){E(n,e);var t=C(n);function n(e){var r;return A(this,n),(r=t.call(this)).firestore=e,r}return O(n,[{key:"convertBytes",value:function(e){return new CP(new oN(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return MP.forKey(t,this.firestore,null)}}]),n}(uP);var PP=function(){function e(t,n){A(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new NP(t)}return O(e,[{key:"get",value:function(e){var t=this,n=KP(e);return this._delegate.get(n).then((function(e){return new jP(t._firestore,new UN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=KP(e);return n?(TP("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=KP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=KP(e);return this._delegate.delete(t),this}}]),e}(),DP=function(){function e(t){A(this,e),this._delegate=t}return O(e,[{key:"set",value:function(e,t,n){var r=KP(e);return n?(TP("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=KP(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=KP(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),LP=function(){function e(t,n,r){A(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return O(e,[{key:"fromFirestore",value:function(e,t){var n=new jN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new BP(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new NP(t),n),i.set(n,a)),a}}]),e}();LP.INSTANCES=new WeakMap;var MP=function(){function e(t,n){A(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new NP(t)}return O(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new HP(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new HP(this.firestore,qO(this._delegate,e))}catch(t){throw VP(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=ws(e))instanceof jO&&HO(this._delegate,e)}},{key:"set",value:function(e,t){t=TP("DocumentReference.set",t);try{return t?vP(this._delegate,e,t):vP(this._delegate,e)}catch(n){throw VP(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?mP(this._delegate,e):mP.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw VP(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return kP(LO(e.firestore,YO),[new US(e._key,SS.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=FP(n),a=UP(n,(function(t){return new jP(e.firestore,new UN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return yP(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?dP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=LO(e,jO);var t=LO(e.firestore,YO);return IO(XO(t),e._key,{source:"server"}).then((function(n){return bP(t,e,n)}))}(this._delegate):function(e){e=LO(e,jO);var t=LO(e.firestore,YO);return IO(XO(t),e._key).then((function(n){return bP(t,e,n)}))}(this._delegate),t.then((function(e){return new jP(n.firestore,new UN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(LP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Lw("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new jO(n._delegate,r,new n_(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new jO(n._delegate,r,t))}}]),e}();function VP(e,t,n){return e.message=e.message.replace(t,n),e}function FP(e){var t,n=w(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!AP(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function UP(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=AP(e[0])?e[0]:AP(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var jP=function(){function e(t,n){A(this,e),this._firestore=t,this._delegate=n}return O(e,[{key:"ref",get:function(){return new MP(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return qN(this._delegate,e._delegate)}}]),e}(),BP=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ow()}(void 0!==t),t}}]),n}(jP),zP=function(){function e(t,n){A(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new NP(t)}return O(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,KN(this._delegate,function(e,t,n){var r=t,i=VN("where",e);return new GN(i,r,n)}(t,n,r)))}catch(i){throw VP(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,KN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=VN("orderBy",e);return new QN(n,t)}(t,n)))}catch(r){throw VP(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,KN(this._delegate,function(e){return MO("limit",e),new $N("limit",e,"F")}(t)))}catch(n){throw VP(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,KN(this._delegate,function(e){return MO("limitToLast",e),new $N("limitToLast",e,"L")}(t)))}catch(n){throw VP(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,KN(this._delegate,XN.apply(void 0,arguments)))}catch(t){throw VP(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,KN(this._delegate,JN.apply(void 0,arguments)))}catch(t){throw VP(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,KN(this._delegate,eP.apply(void 0,arguments)))}catch(t){throw VP(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,KN(this._delegate,tP.apply(void 0,arguments)))}catch(t){throw VP(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return KO(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?pP(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=LO(e,BO);var t=LO(e.firestore,YO),n=XO(t),r=new hP(t);return CO(n,e._query,{source:"server"}).then((function(n){return new BN(t,r,e,n)}))}(this._delegate):function(e){e=LO(e,BO);var t=LO(e.firestore,YO),n=XO(t),r=new hP(t);return WN(e._query),CO(n,e._query).then((function(n){return new BN(t,r,e,n)}))}(this._delegate),t.then((function(e){return new WP(n.firestore,new BN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=FP(n),a=UP(n,(function(t){return new WP(e.firestore,new BN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return yP(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(LP.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),qP=function(){function e(t,n){A(this,e),this._firestore=t,this._delegate=n}return O(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new BP(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),WP=function(){function e(t,n){A(this,e),this._firestore=t,this._delegate=n}return O(e,[{key:"query",get:function(){return new zP(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new BP(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new qP(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new BP(n._firestore,r))}))}},{key:"isEqual",value:function(e){return qN(this._delegate,e._delegate)}}]),e}(),HP=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return O(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new MP(this.firestore,e):null}},{key:"doc",value:function(e){try{return new MP(this.firestore,void 0===e?WO(this._delegate):WO(this._delegate,e))}catch(t){throw VP(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=LO(e.firestore,YO),r=WO(e),i=sP(e.converter,t);return kP(n,[mN(vN(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,SS.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new MP(t.firestore,e)}))}},{key:"isEqual",value:function(e){return HO(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(LP.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(zP);function KP(e){return LO(e,jO)}var GP=function(){function e(){A(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=y(aN,n)}return O(e,[{key:"isEqual",value:function(e){return(e=ws(e))instanceof aN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(t_.keyField().canonicalString())}}]),e}(),QP=function(){function e(t){A(this,e),this._delegate=t}return O(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new kN("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new yN("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=xP.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=SP.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new _N("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),$P={Firestore:OP,GeoPoint:sN,Timestamp:Yw,Blob:CP,Transaction:PP,WriteBatch:DP,DocumentReference:MP,DocumentSnapshot:jP,Query:zP,QueryDocumentSnapshot:BP,QuerySnapshot:WP,CollectionReference:HP,FieldPath:GP,FieldValue:QP,setLogLevel:function(e){!function(e){Tw.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new _s("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},$P)))}(e,(function(e,t){return new OP(e,t,new RP)})),e.registerVersion("@firebase/firestore-compat","0.1.23")}(Hc);var YP="firebasestorage.googleapis.com",XP=function(e){E(n,e);var t=C(n);function n(e,r){var i;return A(this,n),(i=t.call(this,JP(e),"Firebase Storage: ".concat(r," (").concat(JP(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(T(i),n.prototype),i}return O(n,[{key:"_codeEquals",value:function(e){return JP(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(ss);function JP(e){return"storage/"+e}function ZP(){return new XP("unknown","An unknown error occurred, please check the error payload for server response.")}function eD(){return new XP("canceled","User canceled the upload/download.")}function tD(){return new XP("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nD(e){return new XP("invalid-argument",e)}function rD(){return new XP("app-deleted","The Firebase app was deleted.")}function iD(e){return new XP("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function aD(e,t){return new XP("invalid-format","String does not match format '"+e+"': "+t)}function oD(e){throw new XP("internal-error","Internal error: "+e)}var uD,sD=function(){function e(t,n){A(this,e),this.bucket=t,this.path_=n}return O(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new XP("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===YP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new XP("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),cD=function(){function e(t){A(this,e),this.promise_=Promise.reject(t)}return O(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function lD(e){return"string"===typeof e||e instanceof String}function fD(e){return hD()&&e instanceof Blob}function hD(){return"undefined"!==typeof Blob}function dD(e,t,n,r){if(r<t)throw nD("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw nD("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function pD(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function vD(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(uD||(uD={}));var mD=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;A(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return O(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=ZP();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?rD():eD());else i(new XP("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new yD(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new yD(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===uD.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new yD(o,r))}else{var u=r.getErrorCode()===uD.ABORT;t(!1,new yD(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),yD=O((function e(t,n,r){A(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function gD(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function kD(){for(var e=gD(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(hD())return new Blob(n);throw new XP("unsupported-environment","This browser doesn't seem to support creating Blobs")}var bD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wD=O((function e(t,n){A(this,e),this.data=t,this.contentType=n||null}));function _D(e,t){switch(e){case bD.RAW:return new wD(xD(t));case bD.BASE64:case bD.BASE64URL:return new wD(SD(e,t));case bD.DATA_URL:return new wD(function(e){var t=new TD(e);return t.base64?SD(bD.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw aD(bD.DATA_URL,"Malformed data URL.")}return xD(t)}(t.rest)}(t),new TD(t).contentType)}throw ZP()}function xD(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function SD(e,t){switch(e){case bD.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw aD(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case bD.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw aD(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw aD(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var TD=O((function e(t){A(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw aD(bD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var ED=function(){function e(t,n){A(this,e);var r=0,i="";fD(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return O(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(fD(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(hD()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(kD.apply(null,i))}var a=n.map((function(e){return lD(e)?_D(bD.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function ID(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function CD(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function AD(e,t){return t}var RD=O((function e(t,n,r,i){A(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||AD})),OD=null;function ND(){if(OD)return OD;var e=[];e.push(new RD("bucket")),e.push(new RD("generation")),e.push(new RD("metageneration")),e.push(new RD("name","fullPath",!0));var t=new RD("name");t.xform=function(e,t){return function(e){return!lD(e)||e.length<2?e:CD(e)}(t)},e.push(t);var n=new RD("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new RD("timeCreated")),e.push(new RD("updated")),e.push(new RD("md5Hash",null,!0)),e.push(new RD("cacheControl",null,!0)),e.push(new RD("contentDisposition",null,!0)),e.push(new RD("contentEncoding",null,!0)),e.push(new RD("contentLanguage",null,!0)),e.push(new RD("contentType",null,!0)),e.push(new RD("metadata","customMetadata",!0)),OD=e}function PD(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new sD(n,r);return t._makeStorageReference(i)}})}(r,e),r}function DD(e,t,n){var r=ID(t);return null===r?null:PD(e,r,n)}function LD(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function MD(e,t,n){var r=ID(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=w(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new sD(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=w(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new sD(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var VD=O((function e(t,n,r,i){A(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function FD(e){if(!e)throw ZP()}function UD(e,t){return function(n,r){var i=DD(e,r,t);return FD(null!==i),i}}function jD(e,t){return function(n,r){var i=DD(e,r,t);return FD(null!==i),function(e,t,n,r){var i=ID(t);if(null===i)return null;if(!lD(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return pD("/b/"+o(i)+"/o/"+o(a),n,r)+vD({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function BD(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new XP("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new XP("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new XP("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new XP("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function zD(e){var t=BD(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new XP("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function qD(e,t,n){var r=pD(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new VD(r,"GET",UD(e,n),i);return a.errorHandler=zD(t),a}function WD(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=pD(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new VD(o,"GET",function(e,t){return function(n,r){var i=MD(e,t,r);return FD(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=BD(t),s}function HD(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function KD(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=HD(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+LD(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=ED.getBlob(c,r,l);if(null===f)throw tD();var h={name:s.fullPath},d=pD(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new VD(d,"POST",UD(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=BD(t),v}var GD=O((function e(t,n,r,i){A(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function QD(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){FD(!1)}return FD(!!n&&-1!==(t||["active"]).indexOf(n)),n}var $D=262144;function YD(e,t,n,r,i,a,o,u){var s=new GD(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new XP("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw tD();var v=t.maxUploadRetryTime,m=new VD(n,"POST",(function(e,n){var i,o=QD(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?UD(t,a)(e,n):null,new GD(u,c,"final"===o,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=BD(e),m}var XD={STATE_CHANGED:"state_changed"},JD={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ZD(e){switch(e){case"running":case"pausing":case"canceling":return JD.RUNNING;case"paused":return JD.PAUSED;case"success":return JD.SUCCESS;case"canceled":return JD.CANCELED;default:return JD.ERROR}}var eL=O((function e(t,n,r){A(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function tL(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var nL=function(){function e(){var t=this;A(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uD.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=uD.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=uD.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return O(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw oD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw oD("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw oD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw oD("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw oD("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),rL=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(nL);function iL(){return new rL}var aL=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;A(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=ND(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return O(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=s(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=HD(t,r,i),u={name:o.fullPath},s=pD(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=LD(o,n),f=e.maxUploadRetryTime,h=new VD(s,"POST",(function(e){var t;QD(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){FD(!1)}return FD(lD(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=BD(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,iL,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new VD(n,"POST",(function(e){var t=QD(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){FD(!1)}n||FD(!1);var i=Number(n);return FD(!isNaN(i)),new GD(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=BD(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,iL,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=$D*this._chunkMultiplier,n=new GD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=YD(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,iL,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){$D*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=qD(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,iL,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=KD(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,iL,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=eD(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=ZD(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new eL(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(ZD(this._state)){case JD.SUCCESS:tL(this._resolve.bind(null,this.snapshot))();break;case JD.CANCELED:case JD.ERROR:tL(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(ZD(this._state)){case JD.RUNNING:case JD.PAUSED:e.next&&tL(e.next.bind(e,this.snapshot))();break;case JD.SUCCESS:e.complete&&tL(e.complete.bind(e))();break;default:e.error&&tL(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),oL=function(){function e(t,n){A(this,e),this._service=t,this._location=n instanceof sD?n:sD.makeFromUrl(n,t.host)}return O(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new sD(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return CD(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new sD(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw iD(e)}}]),e}();function uL(e,t,n){return sL.apply(this,arguments)}function sL(){return(sL=d(b().mark((function e(t,n,r){var i,a,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,cL(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,l(u.prefixes)),(a=n.items).push.apply(a,l(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,uL(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cL(e,t){null!=t&&"number"===typeof t.maxResults&&dD("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=WD(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,iL)}function lL(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=pD(t.fullServerUrl(),e.host,e._protocol),a=LD(n,r),o=e.maxOperationRetryTime,u=new VD(i,"PATCH",UD(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=zD(t),u}(e.storage,e._location,t,ND());return e.storage.makeRequestWithTokens(n,iL)}function fL(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=pD(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new VD(r,"GET",jD(e,n),i);return a.errorHandler=zD(t),a}(e.storage,e._location,ND());return e.storage.makeRequestWithTokens(t,iL).then((function(e){if(null===e)throw new XP("no-download-url","The given file does not have any download URLs.");return e}))}function hL(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=pD(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new VD(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=zD(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,iL)}function dL(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new sD(e._location.bucket,n);return new oL(e.storage,r)}function pL(e,t){if(e instanceof gL){var n=e;if(null==n._bucket)throw new XP("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new oL(n,n._bucket);return null!=t?pL(r,t):r}return void 0!==t?dL(e,t):e}function vL(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof gL)return new oL(e,t);throw nD("To use ref(service, url), the first argument must be a Storage instance.")}return pL(e,t)}function mL(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:sD.makeFromBucketSpec(n,e)}function yL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:es(i,e.app.options.projectId))}var gL=function(){function e(t,n,r,i,a){A(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=YP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?sD.makeFromBucketSpec(i,this._host):mL(this._host,this.app.options)}return O(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=sD.makeFromBucketSpec(this._url,e):this._bucket=mL(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){dD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){dD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=d(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=d(b().mark((function e(){var t,n;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new oL(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new cD(rD());var a=function(e,t,n,r,i,a){var o=vD(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new mD(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=d(b().mark((function e(t,n){var r,i,a,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=s(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),kL="@firebase/storage",bL="0.9.9",wL="storage";function _L(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new aL(e,new ED(t),n)}(e=ws(e),t,n)}function xL(e){return function(e){e._throwIfRoot("getMetadata");var t=qD(e.storage,e._location,ND());return e.storage.makeRequestWithTokens(t,iL)}(e=ws(e))}function SL(e){return function(e){var t={prefixes:[],items:[]};return uL(e,t).then((function(){return t}))}(e=ws(e))}function TL(e,t){return vL(e=ws(e),t)}function EL(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};yL(e,t,n,r)}function IL(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new gL(r,i,a,n,vc)}sc(new _s(wL,IL,"PUBLIC").setMultipleInstances(!0)),wc(kL,bL,""),wc(kL,bL,"esm2017");var CL=function(){function e(t,n,r){A(this,e),this._delegate=t,this.task=n,this.ref=r}return O(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),AL=function(){function e(t,n){A(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return O(e,[{key:"snapshot",get:function(){return new CL(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new CL(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new CL(e,i,i._ref))}:{next:t.next?function(e){return t.next(new CL(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),RL=function(){function e(t,n){A(this,e),this._delegate=t,this._service=n}return O(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new OL(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new OL(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),OL=function(){function e(t,n){A(this,e),this._delegate=t,this.storage=n}return O(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return dL(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new AL(_L(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bD.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=_D(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new AL(new aL(this._delegate,new ED(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return SL(this._delegate).then((function(t){return new RL(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return cL(e=ws(e),t)}(this._delegate,e||void 0).then((function(e){return new RL(e,t.storage)}))}},{key:"getMetadata",value:function(){return xL(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return lL(e=ws(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return fL(ws(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),hL(ws(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw iD(e)}}]),e}(),NL=function(){function e(t,n){A(this,e),this.app=t,this._delegate=n}return O(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(PL(e))throw nD("ref() expected a child path but got a URL, use refFromURL instead.");return new OL(TL(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!PL(e))throw nD("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sD.makeFromUrl(e,this._delegate.host)}catch(t){throw nD("refFromUrl() expected a valid full URL but got an invalid one.")}return new OL(TL(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};EL(this._delegate,e,t,n)}}]),e}();function PL(e){return/^[A-Za-z]+:\/\//.test(e)}function DL(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new NL(r,i)}!function(e){var t={TaskState:JD,TaskEvent:XD,StringFormat:bD,Storage:NL,Reference:OL};e.INTERNAL.registerComponent(new _s("storage-compat",DL,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(Hc);var LL={apiKey:{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_KEY,authDomain:{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_AUTH_DOMAIN,projectId:{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_PROJECT_ID,storageBucket:{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_STORAGE_BUCKET,messagingSenderId:{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MESSAGIN_ID,appId:{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_APP_ID,measurementId:{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MEASUREMENTID};Hc.initializeApp(LL);var ML,VL=Hc,FL=Hc.auth(),UL=Hc.firestore(),jL=Hc.storage();function BL(){return BL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BL.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ML||(ML={}));var zL=function(e){return e};var qL="beforeunload",WL="popstate";function HL(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=YL(n.location.hash.substr(1)),t=e.pathname,i=void 0===t?"/":t,a=e.search,o=void 0===a?"":a,u=e.hash,s=void 0===u?"":u,c=r.state||{};return[c.idx,zL({pathname:i,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var a=null;function o(){if(a)h.call(a),a=null;else{var e=ML.Pop,t=i(),n=t[0],r=t[1];if(h.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){g(-1*o)}},g(o))}}else y(e)}}n.addEventListener(WL,o),n.addEventListener("hashchange",(function(){$L(i()[1])!==$L(l)&&o()}));var u=ML.Pop,s=i(),c=s[0],l=s[1],f=GL(),h=GL();function d(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:$L(e))}function p(e,t){return void 0===t&&(t=null),zL(BL({pathname:l.pathname,hash:"",search:""},"string"===typeof e?YL(e):e,{state:t,key:QL()}))}function v(e,t){return[{usr:e.state,key:e.key,idx:t},d(e)]}function m(e,t,n){return!h.length||(h.call({action:e,location:t,retry:n}),!1)}function y(e){u=e;var t=i();c=t[0],l=t[1],f.call({action:u,location:l})}function g(e){r.go(e)}null==c&&(c=0,r.replaceState(BL({},r.state,{idx:c}),""));var k={get action(){return u},get location(){return l},createHref:d,push:function e(t,i){var a=ML.Push,o=p(t,i);if(m(a,o,(function(){e(t,i)}))){var u=v(o,c+1),s=u[0],l=u[1];try{r.pushState(s,"",l)}catch(f){n.location.assign(l)}y(a)}},replace:function e(t,n){var i=ML.Replace,a=p(t,n);if(m(i,a,(function(){e(t,n)}))){var o=v(a,c),u=o[0],s=o[1];r.replaceState(u,"",s),y(i)}},go:g,back:function(){g(-1)},forward:function(){g(1)},listen:function(e){return f.push(e)},block:function(e){var t=h.push(e);return 1===h.length&&n.addEventListener(qL,KL),function(){t(),h.length||n.removeEventListener(qL,KL)}}};return k}function KL(e){e.preventDefault(),e.returnValue=""}function GL(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function QL(){return Math.random().toString(36).substr(2,8)}function $L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function YL(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var XL=(0,t.createContext)(null);var JL=(0,t.createContext)(null);var ZL=(0,t.createContext)({outlet:null,matches:[]});function eM(e,t){if(!e)throw new Error(t)}function tM(e,t,n){void 0===n&&(n="/");var r=cM(("string"===typeof t?YL(t):t).pathname||"/",n);if(null==r)return null;var i=nM(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=oM(i[o],r);return a}function nM(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||eM(!1),a.relativePath=a.relativePath.slice(r.length));var o=lM([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&eM(!1),nM(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:aM(o,e.index),routesMeta:u})})),t}var rM=/^:\w+$/,iM=function(e){return"*"===e};function aM(e,t){var n=e.split("/"),r=n.length;return n.some(iM)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!iM(e)})).reduce((function(e,t){return e+(rM.test(t)?3:""===t?1:10)}),r)}function oM(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=uM({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:lM([i,l.pathname]),pathnameBase:fM(lM([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=lM([i,l.pathnameBase]))}return a}function uM(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=s(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],c=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:c,pattern:e}}function sM(e,t,n){var r,i="string"===typeof e?YL(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?YL(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:hM(a),hash:dM(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function cM(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var lM=function(e){return e.join("/").replace(/\/\/+/g,"/")},fM=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},hM=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},dM=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function pM(e){vM()||eM(!1);var n=(0,t.useContext)(XL),r=n.basename,i=n.navigator,a=gM(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?YL(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):lM([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function vM(){return null!=(0,t.useContext)(JL)}function mM(){return vM()||eM(!1),(0,t.useContext)(JL).location}function yM(){vM()||eM(!1);var e=(0,t.useContext)(XL),n=e.basename,r=e.navigator,i=(0,t.useContext)(ZL).matches,a=mM().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=sM(e,JSON.parse(o),a);"/"!==n&&(i.pathname=lM([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function gM(e){var n=(0,t.useContext)(ZL).matches,r=mM().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return sM(e,JSON.parse(i),r)}),[e,i,r])}function kM(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(ZL.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function bM(e){eM(!1)}function wM(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?ML.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;vM()&&eM(!1);var h=fM(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=YL(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,x=p.key,S=void 0===x?"default":x,T=(0,t.useMemo)((function(){var e=cM(m,h);return null==e?null:{pathname:e,search:g,hash:b,state:_,key:S}}),[h,m,g,b,_,S]);return null==T?null:(0,t.createElement)(XL.Provider,{value:d},(0,t.createElement)(JL.Provider,{children:a,value:{location:T,navigationType:s}}))}function _M(e){var n=e.children,r=e.location;return function(e,n){vM()||eM(!1);var r,i=(0,t.useContext)(ZL).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,mM());if(n){var c,l="string"===typeof n?YL(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||eM(!1),r=l}else r=s;var f=r.pathname||"/",h=tM(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return kM(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:lM([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:lM([u,e.pathnameBase])})})),i)}(xM(n),r)}function xM(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==bM&&eM(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=xM(e.props.children)),n.push(r)}else n.push.apply(n,xM(e.props.children))})),n}function SM(){return SM=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SM.apply(this,arguments)}function TM(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var EM=["onClick","reloadDocument","replace","state","target","to"];function IM(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=HL({window:i}));var o=a.current,u=s((0,t.useState)({action:o.action,location:o.location}),2),c=u[0],l=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(l)}),[o]),(0,t.createElement)(wM,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:o})}var CM=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=TM(e,EM),f=pM(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=yM(),s=mM(),c=gM(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||$L(s)===$L(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",SM({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));function AM(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var RM={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},OM={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},NM={prefix:"fab",iconName:"twitter",icon:[512,512,[],"f099","M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"]};function PM(e){return PM="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PM(e)}function DM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function LM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){LM(e,t,n[t])}))}return e}function VM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var FM=function(){},UM={},jM={},BM={mark:FM,measure:FM};try{"undefined"!==typeof window&&(UM=window),"undefined"!==typeof document&&(jM=document),"undefined"!==typeof MutationObserver&&MutationObserver,"undefined"!==typeof performance&&(BM=performance)}catch(N$){}var zM=(UM.navigator||{}).userAgent,qM=void 0===zM?"":zM,WM=UM,HM=jM,KM=BM,GM=(WM.document,!!HM.documentElement&&!!HM.head&&"function"===typeof HM.addEventListener&&"function"===typeof HM.createElement),QM=(~qM.indexOf("MSIE")||qM.indexOf("Trident/"),"svg-inline--fa"),$M="data-fa-i2svg",YM=(function(){try{}catch(N$){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),XM=YM.concat([11,12,13,14,15,16,17,18,19,20]),JM={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ZM=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",JM.GROUP,JM.SWAP_OPACITY,JM.PRIMARY,JM.SECONDARY].concat(YM.map((function(e){return"".concat(e,"x")}))).concat(XM.map((function(e){return"w-".concat(e)}))),WM.FontAwesomeConfig||{});if(HM&&"function"===typeof HM.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=VM(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=HM.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(ZM[r]=i)}))}var eV=MM({},{familyPrefix:"fa",replacementClass:QM,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},ZM);eV.autoReplaceSvg||(eV.observeMutations=!1);var tV=MM({},eV);WM.FontAwesomeConfig=tV;var nV=WM||{};nV.___FONT_AWESOME___||(nV.___FONT_AWESOME___={}),nV.___FONT_AWESOME___.styles||(nV.___FONT_AWESOME___.styles={}),nV.___FONT_AWESOME___.hooks||(nV.___FONT_AWESOME___.hooks={}),nV.___FONT_AWESOME___.shims||(nV.___FONT_AWESOME___.shims=[]);var rV=nV.___FONT_AWESOME___,iV=[];GM&&((HM.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(HM.readyState)||HM.addEventListener("DOMContentLoaded",(function e(){HM.removeEventListener("DOMContentLoaded",e),1,iV.map((function(e){return e()}))})));var aV,oV="pending",uV="settled",sV="fulfilled",cV="rejected",lV=function(){},fV="undefined"!==typeof n.g&&"undefined"!==typeof n.g.process&&"function"===typeof n.g.process.emit,hV="undefined"===typeof setImmediate?setTimeout:setImmediate,dV=[];function pV(){for(var e=0;e<dV.length;e++)dV[e][0](dV[e][1]);dV=[],aV=!1}function vV(e,t){dV.push([e,t]),aV||(aV=!0,hV(pV,0))}function mV(e){var t=e.owner,n=t._state,r=t._data,i=e[n],a=e.then;if("function"===typeof i){n=sV;try{r=i(r)}catch(N$){bV(a,N$)}}yV(a,r)||(n===sV&&gV(a,r),n===cV&&bV(a,r))}function yV(e,t){var n;try{if(e===t)throw new TypeError("A promises callback cannot return that same promise.");if(t&&("function"===typeof t||"object"===PM(t))){var r=t.then;if("function"===typeof r)return r.call(t,(function(r){n||(n=!0,t===r?kV(e,r):gV(e,r))}),(function(t){n||(n=!0,bV(e,t))})),!0}}catch(N$){return n||bV(e,N$),!0}return!1}function gV(e,t){e!==t&&yV(e,t)||kV(e,t)}function kV(e,t){e._state===oV&&(e._state=uV,e._data=t,vV(_V,e))}function bV(e,t){e._state===oV&&(e._state=uV,e._data=t,vV(xV,e))}function wV(e){e._then=e._then.forEach(mV)}function _V(e){e._state=sV,wV(e)}function xV(e){e._state=cV,wV(e),!e._handled&&fV&&n.g.process.emit("unhandledRejection",e._data,e)}function SV(e){n.g.process.emit("rejectionHandled",e)}function TV(e){if("function"!==typeof e)throw new TypeError("Promise resolver "+e+" is not a function");if(this instanceof TV===!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(e,t){function n(e){bV(t,e)}try{e((function(e){gV(t,e)}),n)}catch(N$){n(N$)}}(e,this)}TV.prototype={constructor:TV,_state:oV,_then:null,_data:void 0,_handled:!1,then:function(e,t){var n={owner:this,then:new this.constructor(lV),fulfilled:e,rejected:t};return!t&&!e||this._handled||(this._handled=!0,this._state===cV&&fV&&vV(SV,this)),this._state===sV||this._state===cV?vV(mV,n):this._then.push(n),n.then},catch:function(e){return this.then(null,e)}},TV.all=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.all().");return new TV((function(t,n){var r=[],i=0;function a(e){return i++,function(n){r[e]=n,--i||t(r)}}for(var o,u=0;u<e.length;u++)(o=e[u])&&"function"===typeof o.then?o.then(a(u),n):r[u]=o;i||t(r)}))},TV.race=function(e){if(!Array.isArray(e))throw new TypeError("You must pass an array to Promise.race().");return new TV((function(t,n){for(var r,i=0;i<e.length;i++)(r=e[i])&&"function"===typeof r.then?r.then(t,n):t(r)}))},TV.resolve=function(e){return e&&"object"===PM(e)&&e.constructor===TV?e:new TV((function(t){t(e)}))},TV.reject=function(e){return new TV((function(t,n){n(e)}))};var EV={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function IV(e){if(e&&GM){var t=HM.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=HM.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}return HM.head.insertBefore(t,r),e}}function CV(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function AV(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function RV(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n],";")}),"")}function OV(e){return e.size!==EV.size||e.x!==EV.x||e.y!==EV.y||e.rotate!==EV.rotate||e.flipX||e.flipY}function NV(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(u)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var PV={x:0,y:0,width:"100%",height:"100%"};function DV(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function LV(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,u=e.symbol,s=e.title,c=e.maskId,l=e.titleId,f=e.extra,h=e.watchable,d=void 0!==h&&h,p=r.found?r:n,v=p.width,m=p.height,y="fak"===i,g=y?"":"fa-w-".concat(Math.ceil(v/m*16)),k=[tV.replacementClass,a?"".concat(tV.familyPrefix,"-").concat(a):"",g].filter((function(e){return-1===f.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(f.classes).join(" "),b={children:[],attributes:MM({},f.attributes,{"data-prefix":i,"data-icon":a,class:k,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},w=y&&!~f.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};d&&(b.attributes[$M]=""),s&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||CV())},children:[s]});var _=MM({},b,{prefix:i,iconName:a,main:n,mask:r,maskId:c,transform:o,symbol:u,styles:MM({},w,f.styles)}),x=r.found&&n.found?function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,u=e.transform,s=i.width,c=i.icon,l=a.width,f=a.icon,h=NV({transform:u,containerWidth:l,iconWidth:s}),d={tag:"rect",attributes:MM({},PV,{fill:"white"})},p=c.children?{children:c.children.map(DV)}:{},v={tag:"g",attributes:MM({},h.inner),children:[DV(MM({tag:c.tag,attributes:MM({},c.attributes,h.path)},p))]},m={tag:"g",attributes:MM({},h.outer),children:[v]},y="mask-".concat(o||CV()),g="clip-".concat(o||CV()),k={tag:"mask",attributes:MM({},PV,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[d,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:(t=f,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:MM({fill:"currentColor","clip-path":"url(#".concat(g,")"),mask:"url(#".concat(y,")")},PV)}),{children:n,attributes:r}}(_):function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,a=RV(e.styles);if(a.length>0&&(n.style=a),OV(i)){var o=NV({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:MM({},o.outer),children:[{tag:"g",attributes:MM({},o.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:MM({},r.icon.attributes,o.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}}(_),S=x.children,T=x.attributes;return _.children=S,_.attributes=T,u?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:MM({},i,{id:!0===a?"".concat(t,"-").concat(tV.familyPrefix,"-").concat(n):a}),children:r}]}]}(_):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(OV(o)&&n.found&&!r.found){var u={x:n.width/n.height/2,y:.5};i.style=RV(MM({},a,{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(_)}var MV=function(){},VV=(tV.measurePerformance&&KM&&KM.mark&&KM.measure,function(e,t,n,r){var i,a,o,u=Object.keys(e),s=u.length,c=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[u[0]]):(i=0,o=n);i<s;i++)o=c(o,e[a=u[i]],a,e);return o});function FV(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=Object.keys(t).reduce((function(e,n){var r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e}),{});"function"!==typeof rV.hooks.addPack||i?rV.styles[e]=MM({},rV.styles[e]||{},a):rV.hooks.addPack(e,a),"fas"===e&&FV("fa",t)}var UV=rV.styles,jV=rV.shims,BV=function(){var e=function(e){return VV(UV,(function(t,n,r){return t[r]=VV(n,e,{}),t}),{})};e((function(e,t,n){return t[3]&&(e[t[3]]=n),e})),e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in UV;VV(jV,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:a},e}),{})};BV();rV.styles;function zV(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function qV(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?AV(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(AV(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(qV).join(""),"</").concat(t,">")}var WV=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),t):t};function HV(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}HV.prototype=Object.create(Error.prototype),HV.prototype.constructor=HV;var KV={fill:"currentColor"},GV={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},QV={tag:"path",attributes:MM({},KV,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},$V=MM({},GV,{attributeName:"opacity"});MM({},KV,{cx:"256",cy:"364",r:"28"}),MM({},GV,{attributeName:"r",values:"28;14;28;28;14;28;"}),MM({},$V,{values:"1;0;1;1;0;1;"}),MM({},KV,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),MM({},$V,{values:"1;0;0;0;0;1;"}),MM({},KV,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),MM({},$V,{values:"0;0;1;1;0;0;"}),rV.styles;function YV(e){var t=e[0],n=e[1],r=VM(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(tV.familyPrefix,"-").concat(JM.GROUP)},children:[{tag:"path",attributes:{class:"".concat(tV.familyPrefix,"-").concat(JM.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(tV.familyPrefix,"-").concat(JM.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}rV.styles;function XV(){var e="fa",t=QM,n=tV.familyPrefix,r=tV.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(u,".".concat(r))}return i}var JV=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=MM({},e.definitions[t]||{},i[t]),FV(t,i[t]),BV()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon;e[i]||(e[i]={}),e[i][a]=o})),e}}],n&&DM(t.prototype,n),r&&DM(t,r),e}();function ZV(){tV.autoAddCss&&!iF&&(IV(XV()),iF=!0)}function eF(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return qV(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(GM){var t=HM.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function tF(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return zV(rF.definitions,n,r)||zV(rV.styles,n,r)}var nF,rF=new JV,iF=!1,aF={transform:function(e){return WV(e)}},oF=(nF=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?EV:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,u=void 0===o?null:o,s=t.maskId,c=void 0===s?null:s,l=t.title,f=void 0===l?null:l,h=t.titleId,d=void 0===h?null:h,p=t.classes,v=void 0===p?[]:p,m=t.attributes,y=void 0===m?{}:m,g=t.styles,k=void 0===g?{}:g;if(e){var b=e.prefix,w=e.iconName,_=e.icon;return eF(MM({type:"icon"},e),(function(){return ZV(),tV.autoA11y&&(f?y["aria-labelledby"]="".concat(tV.replacementClass,"-title-").concat(d||CV()):(y["aria-hidden"]="true",y.focusable="false")),LV({icons:{main:YV(_),mask:u?YV(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:MM({},EV,r),symbol:a,title:f,maskId:c,titleId:d,extra:{attributes:y,styles:k,classes:v}})}))}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(e||{}).icon?e:tF(e||{}),r=t.mask;return r&&(r=(r||{}).icon?r:tF(r||{})),nF(n,MM({},t,{mask:r}))}),uF=n(7),sF=n.n(uF);function cF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cF(Object(n),!0).forEach((function(t){hF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fF(e){return fF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fF(e)}function hF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pF(e){return function(e){if(Array.isArray(e))return vF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return vF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mF(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var yF=["style"];function gF(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=mF(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var kF=!1;try{kF=!0}catch(N$){}function bF(e){return e&&"object"===fF(e)&&e.prefix&&e.iconName&&e.icon?e:aF.icon?aF.icon(e):null===e?null:e&&"object"===fF(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function wF(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?hF({},e,t):{}}var _F=["forwardedRef"];function xF(e){var t=e.forwardedRef,n=dF(e,_F),r=n.icon,i=n.mask,a=n.symbol,o=n.className,u=n.title,s=n.titleId,c=n.maskId,l=bF(r),f=wF("classes",[].concat(pF(function(e){var t,n=e.beat,r=e.fade,i=e.beatFade,a=e.bounce,o=e.shake,u=e.flash,s=e.spin,c=e.spinPulse,l=e.spinReverse,f=e.pulse,h=e.fixedWidth,d=e.inverse,p=e.border,v=e.listItem,m=e.flip,y=e.size,g=e.rotation,k=e.pull,b=(hF(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":a,"fa-shake":o,"fa-flash":u,"fa-spin":s,"fa-spin-reverse":l,"fa-spin-pulse":c,"fa-pulse":f,"fa-fw":h,"fa-inverse":d,"fa-border":p,"fa-li":v,"fa-flip":!0===m,"fa-flip-horizontal":"horizontal"===m||"both"===m,"fa-flip-vertical":"vertical"===m||"both"===m},"fa-".concat(y),"undefined"!==typeof y&&null!==y),hF(t,"fa-rotate-".concat(g),"undefined"!==typeof g&&null!==g&&0!==g),hF(t,"fa-pull-".concat(k),"undefined"!==typeof k&&null!==k),hF(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(b).map((function(e){return b[e]?e:null})).filter((function(e){return e}))}(n)),pF(o.split(" ")))),h=wF("transform","string"===typeof n.transform?aF.transform(n.transform):n.transform),d=wF("mask",bF(i)),p=oF(l,lF(lF(lF(lF({},f),h),d),{},{symbol:a,title:u,titleId:s,maskId:c}));if(!p)return function(){var e;!kF&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",l),null;var v=p.abstract,m={ref:t};return Object.keys(n).forEach((function(e){xF.defaultProps.hasOwnProperty(e)||(m[e]=n[e])})),SF(v[0],m)}xF.displayName="FontAwesomeIcon",xF.propTypes={beat:sF().bool,border:sF().bool,beatFade:sF().bool,bounce:sF().bool,className:sF().string,fade:sF().bool,flash:sF().bool,mask:sF().oneOfType([sF().object,sF().array,sF().string]),maskId:sF().string,fixedWidth:sF().bool,inverse:sF().bool,flip:sF().oneOf([!0,!1,"horizontal","vertical","both"]),icon:sF().oneOfType([sF().object,sF().array,sF().string]),listItem:sF().bool,pull:sF().oneOf(["right","left"]),pulse:sF().bool,rotation:sF().oneOf([0,90,180,270]),shake:sF().bool,size:sF().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:sF().bool,spinPulse:sF().bool,spinReverse:sF().bool,symbol:sF().oneOfType([sF().bool,sF().string]),title:sF().string,titleId:sF().string,transform:sF().oneOfType([sF().string,sF().object]),swapOpacity:sF().bool},xF.defaultProps={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1};var SF=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=gF(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[mF(t)]=r}return e}),{attrs:{}}),o=r.style,u=void 0===o?{}:o,s=dF(r,yF);return a.attrs.style=lF(lF({},a.attrs.style),u),t.apply(void 0,[n.tag,lF(lF({},a.attrs),s)].concat(pF(i)))}.bind(null,t.createElement),TF=n(441),EF=n(613),IF=n.n(EF);var CF=function(e){function t(e,r,s,c,h){for(var d,p,v,m,b,_=0,x=0,S=0,T=0,E=0,N=0,D=v=d=0,M=0,V=0,F=0,U=0,j=s.length,B=j-1,z="",q="",W="",H="";M<j;){if(p=s.charCodeAt(M),M===B&&0!==x+T+S+_&&(0!==x&&(p=47===x?10:47),T=S=_=0,j++,B++),0===x+T+S+_){if(M===B&&(0<V&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=s.charAt(M)}p=59}switch(p){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,U=++M;M<j;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<B;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<B&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(z=z.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<V&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:V=r;break;default:V=O}if(U=(v=t(r,V,v,p,h+1)).length,0<P&&(b=u(3,v,V=n(O,z,F),r,C,I,U,p,h,c),z=V.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:z=z.replace(w,o);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===R||2===R&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,c,h+1);W+=v,v=F=V=D=d=0,z="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(z=(0<V?z.replace(f,""):z).trim()).length))switch(0===D&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(U=(z=z.replace(" ",":")).length),0<P&&void 0!==(b=u(1,z,r,e,C,I,q.length,c,h,c))&&0===(U=(z=b.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),p=z.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){H+=z+s.charAt(M);break}default:58!==z.charCodeAt(U-1)&&(q+=i(z,d,p,z.charCodeAt(2)))}F=V=D=d=0,z="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===x?x=0:0===1+d&&107!==c&&0<z.length&&(V=1,z+="\0"),0<P*L&&u(0,z,r,e,C,I,q.length,c,h,c),I=1,C++;break;case 59:case 125:if(0===x+T+S+_){I++;break}default:switch(I++,m=s.charAt(M),p){case 9:case 32:if(0===T+_+x)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===T+x+_&&(V=F=1,m="\f"+m);break;case 108:if(0===T+x+_+A&&0<D)switch(M-D){case 2:112===E&&58===s.charCodeAt(M-3)&&(A=E);case 8:111===N&&(A=N)}break;case 58:0===T+x+_&&(D=M);break;case 44:0===x+S+T+_&&(V=1,m+="\r");break;case 34:case 39:0===x&&(T=T===p?0:0===T?p:T);break;case 91:0===T+x+S&&_++;break;case 93:0===T+x+S&&_--;break;case 41:0===T+x+_&&S--;break;case 40:if(0===T+x+_){if(0===d)if(2*E+3*N===533);else d=1;S++}break;case 64:0===x+S+T+_+D+v&&(v=1);break;case 42:case 47:if(!(0<T+_+S))switch(x){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:x=47;break;case 220:U=M,x=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",x=0)}}0===x&&(z+=m)}N=E,E=p,M++}if(0<(U=q.length)){if(V=r,0<P&&(void 0!==(b=u(2,q,V,e,C,I,U,c,h,c))&&0===(q=b).length))return H+q+W;if(q=V.join(",")+"{"+q+"}",0!==R*A){switch(2!==R||a(q,2)||(A=0),A){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}A=0}}return H+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===R||2===R&&a(s,1)?"-webkit-"+s+s:s}if(0===R||2===R&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(x,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(x,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<P;++h)switch(f=N[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?R=1:(R=2,D=e):R=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<P){var i=u(-1,n,r,r,C,I,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<P&&(void 0!==(i=u(-2,a,r,r,C,I,a.length,0,0,0))&&(a=i)),"",A=0,I=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,x=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,I=1,C=1,A=0,R=1,O=[],N=[],P=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:P=N.length=0;break;default:if("function"===typeof t)N[P++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},AF={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var RF=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},OF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,NF=RF((function(e){return OF.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),PF=n(110),DF=n.n(PF);function LF(){return(LF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var MF=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},VF=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,TF.typeOf)(e)},FF=Object.freeze([]),UF=Object.freeze({});function jF(e){return"function"==typeof e}function BF(e){return e.displayName||e.name||"Component"}function zF(e){return e&&"string"==typeof e.styledComponentId}var qF="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",WF="undefined"!=typeof window&&"HTMLElement"in window,HF=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/jw-twitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function KF(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var GF=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&KF(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),QF=new Map,$F=new Map,YF=1,XF=function(e){if(QF.has(e))return QF.get(e);for(;$F.has(YF);)YF++;var t=YF++;return QF.set(e,t),$F.set(t,e),t},JF=function(e){return $F.get(e)},ZF=function(e,t){t>=YF&&(YF=t+1),QF.set(e,t),$F.set(t,e)},eU="style["+qF+'][data-styled-version="5.3.5"]',tU=new RegExp("^"+qF+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),nU=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},rU=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(tU);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(ZF(c,s),nU(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},iU=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},aU=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(qF))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(qF,"active"),r.setAttribute("data-styled-version","5.3.5");var o=iU();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},oU=function(){function e(e){var t=this.element=aU(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}KF(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),uU=function(){function e(e){var t=this.element=aU(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),sU=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),cU=WF,lU={isServer:!WF,useCSSOMInjection:!HF},fU=function(){function e(e,t,n){void 0===e&&(e=UF),void 0===t&&(t={}),this.options=LF({},lU,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&WF&&cU&&(cU=!1,function(e){for(var t=document.querySelectorAll(eU),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(qF)&&(rU(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return XF(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(LF({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new sU(i):r?new oU(i):new uU(i),new GF(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(XF(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(XF(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(XF(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=JF(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=qF+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),hU=/(a)(d)/gi,dU=function(e){return String.fromCharCode(e+(e>25?39:97))};function pU(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=dU(t%52)+n;return(dU(t%52)+n).replace(hU,"$1-$2")}var vU=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},mU=function(e){return vU(5381,e)};function yU(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(jF(n)&&!zF(n))return!1}return!0}var gU=mU("5.3.5"),kU=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&yU(e),this.componentId=t,this.baseHash=vU(gU,t),this.baseStyle=n,fU.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=VU(this.rules,e,t,n).join(""),o=pU(vU(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=vU(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=VU(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=vU(c,p+f),l+=p}}if(l){var v=pU(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),bU=/^\s*\/\/.*$/gm,wU=[":","[",".","#"];function _U(e){var t,n,r,i,a=void 0===e?UF:e,o=a.options,u=void 0===o?UF:o,s=a.plugins,c=void 0===s?FF:s,l=new CF(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==wU.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(bU,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||KF(15),vU(e,t.name)}),5381).toString():"",p}var xU=t.createContext(),SU=(xU.Consumer,t.createContext()),TU=(SU.Consumer,new fU),EU=_U();function IU(){return(0,t.useContext)(xU)||TU}function CU(){return(0,t.useContext)(SU)||EU}function AU(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=IU(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return _U({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){IF()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(xU.Provider,{value:o},t.createElement(SU.Provider,{value:u},e.children))}var RU=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=EU);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return KF(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=EU),this.name+e.hash},e}(),OU=/([A-Z])/,NU=/([A-Z])/g,PU=/^ms-/,DU=function(e){return"-"+e.toLowerCase()};function LU(e){return OU.test(e)?e.replace(NU,DU).replace(PU,"-ms-"):e}var MU=function(e){return null==e||!1===e||""===e};function VU(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=VU(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return MU(e)?"":zF(e)?"."+e.styledComponentId:jF(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:VU(e(t),t,n,r):e instanceof RU?n?(e.inject(n,r),e.getName(r)):e:VF(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!MU(t[o])&&(Array.isArray(t[o])&&t[o].isCss||jF(t[o])?a.push(LU(o)+":",t[o],";"):VF(t[o])?a.push.apply(a,e(t[o],o)):a.push(LU(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in AF?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var FU=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function UU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jF(e)||VF(e)?FU(VU(MF(FF,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:FU(VU(MF(e,n)))}new Set;var jU=function(e,t,n){return void 0===n&&(n=UF),e.theme!==n.theme&&e.theme||t||n.theme},BU=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,zU=/(^-|-$)/g;function qU(e){return e.replace(BU,"-").replace(zU,"")}var WU=function(e){return pU(mU(e)>>>0)};function HU(e){return"string"==typeof e&&!0}var KU=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},GU=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function QU(e,t,n){var r=e[n];KU(t)&&KU(r)?$U(r,t):e[n]=t}function $U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(KU(o))for(var u in o)GU(u)&&QU(e,o[u],u)}return e}var YU=t.createContext();YU.Consumer;var XU={};function JU(e,n,r){var i=zF(e),a=!HU(e),o=n.attrs,u=void 0===o?FF:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":qU(e);XU[n]=(XU[n]||0)+1;var r=n+"-"+WU("5.3.5"+n+XU[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return HU(e)?"styled."+e:"Styled("+BF(e)+")"}(e):l,h=n.displayName&&n.componentId?qU(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,m=new kU(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=UF);var r=LF({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in jF(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(jU(n,(0,t.useContext)(YU),u)||UF,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=IU(),a=CU();return t?e.generateAndInjectStyles(UF,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||n.$as||p.as||n.as||f,g=HU(y),k=p!==n?LF({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,NF,y):!g||NF(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=LF({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=m,(0,t.createElement)(y,b)}(v,e,n,y)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):FF,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(HU(e)?e:qU(BF(e)));return JU(e,LF({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?$U({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&DF()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var ZU=function(e){return function e(t,n,r){if(void 0===r&&(r=UF),!(0,TF.isValidElementType)(n))return KF(1,String(n));var i=function(){return t(n,r,UU.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,LF({},r,{},i))},i.attrs=function(i){return e(t,n,LF({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(JU,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){ZU[e]=ZU(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=yU(e),fU.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(VU(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&fU.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=iU();return"<style "+[n&&'nonce="'+n+'"',qF+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?KF(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return KF(2);var r=((n={})[qF]="",n["data-styled-version"]="5.3.5",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=iU();return i&&(r.nonce=i),[t.createElement("style",LF({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new fU({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?KF(2):t.createElement(AU,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return KF(3)}}();var ej=ZU,tj=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},nj={measureLayout:tj(["layout","layoutId","drag"]),animation:tj(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:tj(["exit"]),drag:tj(["drag","dragControls"]),focus:tj(["whileFocus"]),hover:tj(["whileHover","onHoverStart","onHoverEnd"]),tap:tj(["whileTap","onTap","onTapStart","onTapCancel"]),pan:tj(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:tj(["whileInView","onViewportEnter","onViewportLeave"])};var rj=(0,t.createContext)({strict:!1}),ij=Object.keys(nj),aj=ij.length;var oj=(0,t.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),uj=(0,t.createContext)({});var sj=(0,t.createContext)(null),cj="undefined"!==typeof document,lj=cj?t.useLayoutEffect:t.useEffect,fj={current:null},hj=!1;function dj(){return!hj&&function(){if(hj=!0,cj)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return fj.current=e.matches};e.addListener(t),t()}else fj.current=!1}(),s((0,t.useState)(fj.current),1)[0]}function pj(e,n,r,i){var a=(0,t.useContext)(rj),o=(0,t.useContext)(uj).visualElement,u=(0,t.useContext)(sj),s=function(){var e=dj(),n=(0,t.useContext)(oj).reducedMotion;return"never"!==n&&("always"===n||e)}(),c=(0,t.useRef)(void 0);i||(i=a.renderer),!c.current&&i&&(c.current=i(e,{visualState:n,parent:o,props:r,presenceId:null===u||void 0===u?void 0:u.id,blockInitialAnimation:!1===(null===u||void 0===u?void 0:u.initial),shouldReduceMotion:s}));var l=c.current;return lj((function(){null===l||void 0===l||l.syncRender()})),(0,t.useEffect)((function(){var e;null===(e=null===l||void 0===l?void 0:l.animationState)||void 0===e||e.animateChanges()})),lj((function(){return function(){return null===l||void 0===l?void 0:l.notifyUnmount()}}),[]),l}function vj(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function mj(e){return Array.isArray(e)}function yj(e){return"string"===typeof e||mj(e)}function gj(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,i,a)),"string"===typeof t&&(t=null===(r=e.variants)||void 0===r?void 0:r[t]),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,i,a)),t}function kj(e,t,n){var r=e.getProps();return gj(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function bj(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||yj(e.initial)||yj(e.animate)||yj(e.whileHover)||yj(e.whileDrag)||yj(e.whileTap)||yj(e.whileFocus)||yj(e.exit)}function wj(e){return Boolean(bj(e)||e.variants)}function _j(e){var n=function(e,t){if(bj(e)){var n=e.initial,r=e.animate;return{initial:!1===n||yj(n)?n:void 0,animate:yj(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,t.useContext)(uj)),r=n.initial,i=n.animate;return(0,t.useMemo)((function(){return{initial:r,animate:i}}),[xj(r),xj(i)])}function xj(e){return Array.isArray(e)?e.join(" "):e}function Sj(e){var n=(0,t.useRef)(null);return null===n.current&&(n.current=e()),n.current}var Tj={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Ej=1;var Ij=(0,t.createContext)({}),Cj=(0,t.createContext)({});var Aj=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"getSnapshotBeforeUpdate",value:function(){return this.updateProps(),null}},{key:"componentDidUpdate",value:function(){}},{key:"updateProps",value:function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)}},{key:"render",value:function(){return this.props.children}}]),n}(t.Component);function Rj(e){var n=e.preloadedFeatures,r=e.createVisualElement,i=e.projectionNodeConstructor,a=e.useRender,o=e.useVisualState,u=e.Component;return n&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?nj.projectionNodeConstructor=e[t]:nj[t].Component=e[t])}(n),(0,t.forwardRef)((function(e,n){var s=function(e){var n,r=e.layoutId,i=null===(n=(0,t.useContext)(Ij))||void 0===n?void 0:n.id;return i&&void 0!==r?i+"-"+r:r}(e);e=Object.assign(Object.assign({},e),{layoutId:s});var c=(0,t.useContext)(oj),l=null,f=_j(e),h=c.isStatic?void 0:Sj((function(){if(Tj.hasEverUpdated)return Ej++})),d=o(e,c.isStatic);return!c.isStatic&&cj&&(f.visualElement=pj(u,d,Object.assign(Object.assign({},c),e),r),function(e,n,r,i){var a,o=n.layoutId,u=n.layout,s=n.drag,c=n.dragConstraints,l=n.layoutScroll,f=(0,t.useContext)(Cj);i&&r&&!(null===r||void 0===r?void 0:r.projection)&&(r.projection=new i(e,r.getLatestValues(),null===(a=r.parent)||void 0===a?void 0:a.projection),r.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:Boolean(s)||c&&vj(c),visualElement:r,scheduleRender:function(){return r.scheduleRender()},animationType:"string"===typeof u?u:"both",initialPromotionConfig:f,layoutScroll:l}))}(h,e,f.visualElement,i||nj.projectionNodeConstructor),l=function(e,n,r){var i=[];if((0,t.useContext)(rj),!n)return null;for(var a=0;a<aj;a++){var o=ij[a],u=nj[o],s=u.isEnabled,c=u.Component;s(e)&&c&&i.push(t.createElement(c,Object.assign({key:o},e,{visualElement:n})))}return i}(e,f.visualElement)),t.createElement(Aj,{visualElement:f.visualElement,props:Object.assign(Object.assign({},c),e)},l,t.createElement(uj.Provider,{value:f},a(u,e,h,function(e,n,r){return(0,t.useCallback)((function(t){var i;t&&(null===(i=e.mount)||void 0===i||i.call(e,t)),n&&(t?n.mount(t):n.unmount()),r&&("function"===typeof r?r(t):vj(r)&&(r.current=t))}),[n])}(d,f.visualElement,n),d,c.isStatic,f.visualElement)))}))}function Oj(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Rj(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var Nj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function Pj(e){return"string"===typeof e&&!e.includes("-")&&!!(Nj.indexOf(e)>-1||/[A-Z]/.test(e))}var Dj={};var Lj=["","X","Y","Z"],Mj=["transformPerspective","x","y","z"];function Vj(e,t){return Mj.indexOf(e)-Mj.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return Lj.forEach((function(t){return Mj.push(e+t)}))}));var Fj=new Set(Mj);function Uj(e){return Fj.has(e)}var jj=new Set(["originX","originY","originZ"]);function Bj(e){return jj.has(e)}function zj(e,t){var n=t.layout,r=t.layoutId;return Uj(e)||Bj(e)||(n||void 0!==r)&&(!!Dj[e]||"opacity"===e)}var qj=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)},Wj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Hj(e){return e.startsWith("--")}var Kj=function(e,t){return t&&"number"===typeof e?t.transform(e):e},Gj=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Qj=function(e){return e%1?Number(e.toFixed(5)):e},$j=/(-)?([\d]*\.?[\d])+/g,Yj=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xj=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jj(e){return"string"===typeof e}var Zj=function(e){return{test:function(t){return Jj(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return"".concat(t).concat(e)}}},eB=Zj("deg"),tB=Zj("%"),nB=Zj("px"),rB=Zj("vh"),iB=Zj("vw"),aB=Object.assign(Object.assign({},tB),{parse:function(e){return tB.parse(e)/100},transform:function(e){return tB.transform(100*e)}}),oB={test:function(e){return"number"===typeof e},parse:parseFloat,transform:function(e){return e}},uB=Object.assign(Object.assign({},oB),{transform:Gj(0,1)}),sB=Object.assign(Object.assign({},oB),{default:1}),cB=Object.assign(Object.assign({},oB),{transform:Math.round}),lB={borderWidth:nB,borderTopWidth:nB,borderRightWidth:nB,borderBottomWidth:nB,borderLeftWidth:nB,borderRadius:nB,radius:nB,borderTopLeftRadius:nB,borderTopRightRadius:nB,borderBottomRightRadius:nB,borderBottomLeftRadius:nB,width:nB,maxWidth:nB,height:nB,maxHeight:nB,size:nB,top:nB,right:nB,bottom:nB,left:nB,padding:nB,paddingTop:nB,paddingRight:nB,paddingBottom:nB,paddingLeft:nB,margin:nB,marginTop:nB,marginRight:nB,marginBottom:nB,marginLeft:nB,rotate:eB,rotateX:eB,rotateY:eB,rotateZ:eB,scale:sB,scaleX:sB,scaleY:sB,scaleZ:sB,skew:eB,skewX:eB,skewY:eB,distance:nB,translateX:nB,translateY:nB,translateZ:nB,x:nB,y:nB,z:nB,perspective:nB,transformPerspective:nB,opacity:uB,originX:aB,originY:aB,originZ:nB,zIndex:cB,fillOpacity:uB,strokeOpacity:uB,numOctaves:cB};function fB(e,t,n,r){var i,a=e.style,o=e.vars,u=e.transform,s=e.transformKeys,c=e.transformOrigin;s.length=0;var l=!1,f=!1,h=!0;for(var d in t){var p=t[d];if(Hj(d))o[d]=p;else{var v=lB[d],m=Kj(p,v);if(Uj(d)){if(l=!0,u[d]=m,s.push(d),!h)continue;p!==(null!==(i=v.default)&&void 0!==i?i:0)&&(h=!1)}else Bj(d)?(c[d]=m,f=!0):a[d]=m}}l?a.transform=function(e,t,n,r){var i=e.transform,a=e.transformKeys,o=t.enableHardwareAcceleration,u=void 0===o||o,s=t.allowTransformNone,c=void 0===s||s,l="";a.sort(Vj);for(var f=!1,h=a.length,d=0;d<h;d++){var p=a[d];l+="".concat(Wj[p]||p,"(").concat(i[p],") "),"z"===p&&(f=!0)}return!f&&u&&(l+="translateZ(0)"),l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,n,h,r):r?a.transform=r({},""):!t.transform&&a.transform&&(a.transform="none"),f&&(a.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,a=e.originZ,o=void 0===a?0:a;return"".concat(n," ").concat(i," ").concat(o)}(c))}var hB=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function dB(e,t,n){for(var r in t)qj(t[r])||zj(r,n)||(e[r]=t[r])}function pB(e,n,r){var i={};return dB(i,e.style||{},e),Object.assign(i,function(e,n,r){var i=e.transformTemplate;return(0,t.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};fB(e,n,{enableHardwareAcceleration:!r},i);var t=e.vars,a=e.style;return Object.assign(Object.assign({},t),a)}),[n])}(e,n,r)),e.transformValues&&(i=e.transformValues(i)),i}function vB(e,t,n){var r={},i=pB(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var mB=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function yB(e){return mB.has(e)}var gB,kB=function(e){return!yB(e)};try{(gB=require("@emotion/is-prop-valid").default)&&(kB=function(e){return e.startsWith("on")?!yB(e):gB(e)})}catch(P$){}function bB(e,t,n){var r={};for(var i in e)(kB(i)||!0===n&&yB(i)||!t&&!yB(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function wB(e,t,n){return"string"===typeof e?e:nB.transform(t+n*e)}var _B={offset:"stroke-dashoffset",array:"stroke-dasharray"},xB={offset:"strokeDashoffset",array:"strokeDasharray"};function SB(e,t,n,r){var i=t.attrX,a=t.attrY,o=t.originX,u=t.originY,s=t.pathLength,c=t.pathSpacing,l=void 0===c?1:c,f=t.pathOffset,h=void 0===f?0:f;fB(e,Qc(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var d=e.attrs,p=e.style,v=e.dimensions;d.transform&&(v&&(p.transform=d.transform),delete d.transform),v&&(void 0!==o||void 0!==u||p.transform)&&(p.transformOrigin=function(e,t,n){var r=wB(t,e.x,e.width),i=wB(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==o?o:.5,void 0!==u?u:.5)),void 0!==i&&(d.x=i),void 0!==a&&(d.y=a),void 0!==s&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;var a=i?_B:xB;e[a.offset]=nB.transform(-r);var o=nB.transform(t),u=nB.transform(n);e[a.array]="".concat(o," ").concat(u)}(d,s,l,h,!1)}var TB=function(){return Object.assign(Object.assign({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function EB(e,n){var r=(0,t.useMemo)((function(){var t=TB();return SB(t,n,{enableHardwareAcceleration:!1},e.transformTemplate),Object.assign(Object.assign({},t.attrs),{style:Object.assign({},t.style)})}),[n]);if(e.style){var i={};dB(i,e.style,e),r.style=Object.assign(Object.assign({},i),r.style)}return r}function IB(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(n,r,i,a,o,u){var s=o.latestValues,c=(Pj(n)?EB:vB)(r,s,u),l=bB(r,"string"===typeof n,e),f=Object.assign(Object.assign(Object.assign({},l),c),{ref:a});return i&&(f["data-projection-id"]=i),(0,t.createElement)(n,f)};return n}var CB=/([a-z])([A-Z])/g,AB=function(e){return e.replace(CB,"$1-$2").toLowerCase()};function RB(e,t,n,r){var i=t.style,a=t.vars;for(var o in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),a)e.style.setProperty(o,a[o])}var OB=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function NB(e,t,n,r){for(var i in RB(e,t,void 0,r),t.attrs)e.setAttribute(OB.has(i)?i:AB(i),t.attrs[i])}function PB(e){var t=e.style,n={};for(var r in t)(qj(t[r])||zj(r,e))&&(n[r]=t[r]);return n}function DB(e){var t=PB(e);for(var n in e){if(qj(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function LB(e){return"object"===typeof e&&"function"===typeof e.start}var MB=function(e){return Array.isArray(e)},VB=function(e){return MB(e)?e[e.length-1]||0:e};function FB(e){var t=qj(e)?e.get():e;return function(e){return Boolean(e&&"object"===typeof e&&e.mix&&e.toValue)}(t)?t.toValue():t}function UB(e,t,n,r){var i=e.scrapeMotionValuesFromProps,a=e.createRenderState,o=e.onMount,u={latestValues:BB(t,n,r,i),renderState:a()};return o&&(u.mount=function(e){return o(t,e,u)}),u}var jB=function(e){return function(n,r){var i=(0,t.useContext)(uj),a=(0,t.useContext)(sj);return r?UB(e,n,i,a):Sj((function(){return UB(e,n,i,a)}))}};function BB(e,t,n,r){var i={},a=!1===(null===n||void 0===n?void 0:n.initial),o=r(e);for(var u in o)i[u]=FB(o[u]);var s=e.initial,c=e.animate,l=bj(e),f=wj(e);t&&f&&!l&&!1!==e.inherit&&(null!==s&&void 0!==s||(s=t.initial),null!==c&&void 0!==c||(c=t.animate));var h=a||!1===s,d=h?c:s;d&&"boolean"!==typeof d&&!LB(d)&&(Array.isArray(d)?d:[d]).forEach((function(t){var n=gj(e,t);if(n){var r=n.transitionEnd,a=(n.transition,Qc(n,["transitionEnd","transition"]));for(var o in a){var u=a[o];if(Array.isArray(u))u=u[h?u.length-1:0];null!==u&&(i[o]=u)}for(var s in r)i[s]=r[s]}}));return i}var zB,qB={useVisualState:jB({scrapeMotionValuesFromProps:DB,createRenderState:TB,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(N$){r.dimensions={x:0,y:0,width:0,height:0}}SB(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),NB(t,r)}})},WB={useVisualState:jB({scrapeMotionValuesFromProps:PB,createRenderState:hB})};function HB(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function KB(e,n,r,i){(0,t.useEffect)((function(){var t=e.current;if(r&&t)return HB(t,n,r,i)}),[e,n,r,i])}function GB(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function QB(e){return!!e.touches}function $B(e){return function(t){var n=t instanceof MouseEvent;(!n||n&&0===t.button)&&e(t)}}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(zB||(zB={}));var YB={pageX:0,pageY:0};function XB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=e.touches[0]||e.changedTouches[0],r=n||YB;return{x:r[t+"X"],y:r[t+"Y"]}}function JB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{x:e[t+"X"],y:e[t+"Y"]}}function ZB(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page";return{point:QB(e)?XB(e,t):JB(e,t)}}var ez=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t){return e(t,ZB(t))};return t?$B(n):n},tz={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},nz={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function rz(e){return cj&&null===window.onpointerdown?e:cj&&null===window.ontouchstart?nz[e]:cj&&null===window.onmousedown?tz[e]:e}function iz(e,t,n,r){return HB(e,rz(t),ez(n,"pointerdown"===t),r)}function az(e,t,n,r){return KB(e,rz(t),n&&ez(n,"pointerdown"===t),r)}function oz(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var uz=oz("dragHorizontal"),sz=oz("dragVertical");function cz(e){var t=!1;if("y"===e)t=sz();else if("x"===e)t=uz();else{var n=uz(),r=sz();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function lz(){var e=cz(!0);return!e||(e(),!1)}function fz(e,t,n){return function(r,i){var a;GB(r)&&!lz()&&(null===(a=e.animationState)||void 0===a||a.setActive(zB.Hover,t),null===n||void 0===n||n(r,i))}}var hz=function e(t,n){return!!n&&(t===n||e(t,n.parentElement))};function dz(e){return(0,t.useEffect)((function(){return function(){return e()}}),[])}var pz=function(e,t){return function(n){return t(e(n))}},vz=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(pz)};new Set;var mz=new WeakMap,yz=new WeakMap,gz=function(e){var t;null===(t=mz.get(e.target))||void 0===t||t(e)},kz=function(e){e.forEach(gz)};function bz(e,t,n){var r=function(e){var t=e.root,n=Qc(e,["root"]),r=t||document;yz.has(r)||yz.set(r,{});var i=yz.get(r),a=JSON.stringify(n);return i[a]||(i[a]=new IntersectionObserver(kz,Object.assign({root:t},n))),i[a]}(t);return mz.set(e,n),r.observe(e),function(){mz.delete(e),r.unobserve(e)}}var wz={some:0,all:1};function _z(e,n,r,i){var a=i.root,o=i.margin,u=i.amount,s=void 0===u?"some":u,c=i.once;(0,t.useEffect)((function(){if(e){var t={root:null===a||void 0===a?void 0:a.current,rootMargin:o,threshold:"number"===typeof s?s:wz[s]};return bz(r.getInstance(),t,(function(e){var t,i=e.isIntersecting;if(n.isInView!==i&&(n.isInView=i,!c||i||!n.hasEnteredView)){i&&(n.hasEnteredView=!0),null===(t=r.animationState)||void 0===t||t.setActive(zB.InView,i);var a=r.getProps(),o=i?a.onViewportEnter:a.onViewportLeave;null===o||void 0===o||o(e)}}))}}),[e,a,o,s])}function xz(e,n,r,i){var a=i.fallback,o=void 0===a||a;(0,t.useEffect)((function(){e&&o&&requestAnimationFrame((function(){var e;n.hasEnteredView=!0;var t=r.getProps().onViewportEnter;null===t||void 0===t||t(null),null===(e=r.animationState)||void 0===e||e.setActive(zB.InView,!0)}))}),[e])}var Sz=function(e){return function(t){return e(t),null}},Tz={inView:Sz((function(e){var n=e.visualElement,r=e.whileInView,i=e.onViewportEnter,a=e.onViewportLeave,o=e.viewport,u=void 0===o?{}:o,s=(0,t.useRef)({hasEnteredView:!1,isInView:!1}),c=Boolean(r||i||a);u.once&&s.current.hasEnteredView&&(c=!1),("undefined"===typeof IntersectionObserver?xz:_z)(c,s.current,n,u)})),tap:Sz((function(e){var n=e.onTap,r=e.onTapStart,i=e.onTapCancel,a=e.whileTap,o=e.visualElement,u=n||r||i||a,s=(0,t.useRef)(!1),c=(0,t.useRef)(null),l={passive:!(r||n||i||v)};function f(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function h(){var e;return f(),s.current=!1,null===(e=o.animationState)||void 0===e||e.setActive(zB.Tap,!1),!lz()}function d(e,t){h()&&(hz(o.getInstance(),e.target)?null===n||void 0===n||n(e,t):null===i||void 0===i||i(e,t))}function p(e,t){h()&&(null===i||void 0===i||i(e,t))}function v(e,t){var n;f(),s.current||(s.current=!0,c.current=vz(iz(window,"pointerup",d,l),iz(window,"pointercancel",p,l)),null===(n=o.animationState)||void 0===n||n.setActive(zB.Tap,!0),null===r||void 0===r||r(e,t))}az(o,"pointerdown",u?v:void 0,l),dz(f)})),focus:Sz((function(e){var t=e.whileFocus,n=e.visualElement;KB(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(zB.Focus,!0)}:void 0),KB(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(zB.Focus,!1)}:void 0)})),hover:Sz((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;az(i,"pointerenter",t||r?fz(i,!0,t):void 0,{passive:!t}),az(i,"pointerleave",n||r?fz(i,!1,n):void 0,{passive:!n})}))};function Ez(){var e=(0,t.useContext)(sj);if(null===e)return[!0,null];var n=e.isPresent,r=e.onExitComplete,i=e.register,a=(0,t.useId)();(0,t.useEffect)((function(){return i(a)}),[]);return!n&&r?[!1,function(){return null===r||void 0===r?void 0:r(a)}]:[!0]}function Iz(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var Cz=function(e,t,n){return Math.min(Math.max(n,e),t)},Az=.001;function Rz(e){var t,n,r=e.duration,i=void 0===r?800:r,a=e.bounce,o=void 0===a?.25:a,u=e.velocity,s=void 0===u?0:u,c=e.mass,l=void 0===c?1:c,f=1-o;f=Cz(.05,1,f),i=Cz(.01,10,i/1e3),f<1?(t=function(e){var t=e*f,n=t*i,r=t-s,a=Oz(e,f),o=Math.exp(-n);return Az-r/a*o},n=function(e){var n=e*f*i,r=n*s+s,a=Math.pow(f,2)*Math.pow(e,2)*i,o=Math.exp(-n),u=Oz(Math.pow(e,2),f);return(-t(e)+Az>0?-1:1)*((r-a)*o)/u}):(t=function(e){return Math.exp(-e*i)*((e-s)*i+1)-.001},n=function(e){return Math.exp(-e*i)*(i*i*(s-e))});var h=function(e,t,n){for(var r=n,i=1;i<12;i++)r-=e(r)/t(r);return r}(t,n,5/i);if(i*=1e3,isNaN(h))return{stiffness:100,damping:10,duration:i};var d=Math.pow(h,2)*l;return{stiffness:d,damping:2*f*Math.sqrt(l*d),duration:i}}function Oz(e,t){return e*Math.sqrt(1-t*t)}var Nz=["duration","bounce"],Pz=["stiffness","damping","mass"];function Dz(e,t){return t.some((function(t){return void 0!==e[t]}))}function Lz(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.restSpeed,o=void 0===a?2:a,u=e.restDelta,s=Qc(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},l=function(e){var t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Dz(e,Pz)&&Dz(e,Nz)){var n=Rz(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(s),f=l.stiffness,h=l.damping,d=l.mass,p=l.velocity,v=l.duration,m=l.isResolvedFromDuration,y=Mz,g=Mz;function k(){var e=p?-p/1e3:0,t=i-n,r=h/(2*Math.sqrt(f*d)),a=Math.sqrt(f/d)/1e3;if(void 0===u&&(u=Math.min(Math.abs(i-n)/100,.4)),r<1){var o=Oz(a,r);y=function(n){var u=Math.exp(-r*a*n);return i-u*((e+r*a*t)/o*Math.sin(o*n)+t*Math.cos(o*n))},g=function(n){var i=Math.exp(-r*a*n);return r*a*i*(Math.sin(o*n)*(e+r*a*t)/o+t*Math.cos(o*n))-i*(Math.cos(o*n)*(e+r*a*t)-o*t*Math.sin(o*n))}}else if(1===r)y=function(n){return i-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var s=a*Math.sqrt(r*r-1);y=function(n){var o=Math.exp(-r*a*n),u=Math.min(s*n,300);return i-o*((e+r*a*t)*Math.sinh(u)+s*t*Math.cosh(u))/s}}}return k(),{next:function(e){var t=y(e);if(m)c.done=e>=v;else{var n=1e3*g(e),r=Math.abs(n)<=o,a=Math.abs(i-t)<=u;c.done=r&&a}return c.value=c.done?i:t,c},flipTarget:function(){p=-p;var e=[i,n];n=e[0],i=e[1],k()}}}Lz.needsInterpolation=function(e,t){return"string"===typeof e||"string"===typeof t};var Mz=function(e){return 0},Vz=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},Fz=function(e,t,n){return-n*e+n*t+e},Uz=function(e,t){return function(n){return Boolean(Jj(n)&&Xj.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},jz=function(e,t,n){return function(r){var i;if(!Jj(r))return r;var a=s(r.match($j),4),o=a[0],u=a[1],c=a[2],l=a[3];return _(i={},e,parseFloat(o)),_(i,t,parseFloat(u)),_(i,n,parseFloat(c)),_(i,"alpha",void 0!==l?parseFloat(l):1),i}},Bz=Gj(0,255),zz=Object.assign(Object.assign({},oB),{transform:function(e){return Math.round(Bz(e))}}),qz={test:Uz("rgb","red"),parse:jz("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha,a=void 0===i?1:i;return"rgba("+zz.transform(t)+", "+zz.transform(n)+", "+zz.transform(r)+", "+Qj(uB.transform(a))+")"}};var Wz={test:Uz("#"),parse:function(e){var t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:qz.transform},Hz={test:Uz("hsl","hue"),parse:jz("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha,a=void 0===i?1:i;return"hsla("+Math.round(t)+", "+tB.transform(Qj(n))+", "+tB.transform(Qj(r))+", "+Qj(uB.transform(a))+")"}};function Kz(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Gz(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;t/=360,r/=100;var a=0,o=0,u=0;if(n/=100){var s=r<.5?r*(1+n):r+n-r*n,c=2*r-s;a=Kz(c,s,t+1/3),o=Kz(c,s,t),u=Kz(c,s,t-1/3)}else a=o=u=r;return{red:Math.round(255*a),green:Math.round(255*o),blue:Math.round(255*u),alpha:i}}var Qz=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},$z=[Wz,qz,Hz],Yz=function(e){return $z.find((function(t){return t.test(e)}))},Xz=function(e){return"'".concat(e,"' is not an animatable color. Use the equivalent color code instead.")},Jz=function(e,t){var n=Yz(e),r=Yz(t);Xz(e),Xz(t);var i=n.parse(e),a=r.parse(t);n===Hz&&(i=Gz(i),n=qz),r===Hz&&(a=Gz(a),r=qz);var o=Object.assign({},i);return function(e){for(var t in o)"alpha"!==t&&(o[t]=Qz(i[t],a[t],e));return o.alpha=Fz(i.alpha,a.alpha,e),n.transform(o)}},Zz={test:function(e){return qz.test(e)||Wz.test(e)||Hz.test(e)},parse:function(e){return qz.test(e)?qz.parse(e):Hz.test(e)?Hz.parse(e):Wz.parse(e)},transform:function(e){return Jj(e)?e:e.hasOwnProperty("red")?qz.transform(e):Hz.transform(e)}},eq="${c}",tq="${n}";function nq(e){"number"===typeof e&&(e="".concat(e));var t=[],n=0,r=e.match(Yj);r&&(n=r.length,e=e.replace(Yj,eq),t.push.apply(t,l(r.map(Zz.parse))));var i=e.match($j);return i&&(e=e.replace($j,tq),t.push.apply(t,l(i.map(oB.parse)))),{values:t,numColors:n,tokenised:e}}function rq(e){return nq(e).values}function iq(e){var t=nq(e),n=t.values,r=t.numColors,i=t.tokenised,a=n.length;return function(e){for(var t=i,n=0;n<a;n++)t=t.replace(n<r?eq:tq,n<r?Zz.transform(e[n]):Qj(e[n]));return t}}var aq=function(e){return"number"===typeof e?0:e};var oq={test:function(e){var t,n,r,i;return isNaN(e)&&Jj(e)&&(null!==(n=null===(t=e.match($j))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Yj))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:rq,createTransformer:iq,getAnimatableNone:function(e){var t=rq(e);return iq(e)(t.map(aq))}},uq=function(e){return"number"===typeof e};function sq(e,t){return uq(e)?function(n){return Fz(e,t,n)}:Zz.test(e)?Jz(e,t):hq(e,t)}var cq=function(e,t){var n=l(e),r=n.length,i=e.map((function(e,n){return sq(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},lq=function(e,t){var n=Object.assign(Object.assign({},e),t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=sq(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function fq(e){for(var t=oq.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"===typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var hq=function(e,t){var n=oq.createTransformer(t),r=fq(e),i=fq(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?vz(cq(r.parsed,i.parsed),n):("Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),function(n){return"".concat(n>0?t:e)})},dq=function(e,t){return function(n){return Fz(e,t,n)}};function pq(e,t,n){for(var r=[],i=n||function(e){return"number"===typeof e?dq:"string"===typeof e?Zz.test(e)?Jz:hq:Array.isArray(e)?cq:"object"===typeof e?lq:void 0}(e[0]),a=e.length-1,o=0;o<a;o++){var u=i(e[o],e[o+1]);if(t){var s=Array.isArray(t)?t[o]:t;u=vz(s,u)}r.push(u)}return r}function vq(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,1)[0];return function(e){return a(Vz(r,i,e))}}function mq(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var u=1;u<n&&!(e[u]>i||u===r);u++);a=u-1}var s=Vz(e[a],e[a+1],i);return t[a](s)}}function yq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.clamp,i=void 0===r||r,a=n.ease,o=n.mixer,u=e.length;t.length,!a||!Array.isArray(a)||a.length,e[0]>e[u-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var s=pq(t,a,o),c=2===u?vq(e,s):mq(e,s);return i?function(t){return c(Cz(e[0],e[u-1],t))}:c}var gq,kq=function(e){return function(t){return 1-e(1-t)}},bq=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},wq=function(e){return function(t){return t*t*((e+1)*t-e)}},_q=function(e){return e},xq=(gq=2,function(e){return Math.pow(e,gq)}),Sq=kq(xq),Tq=bq(xq),Eq=function(e){return 1-Math.sin(Math.acos(e))},Iq=kq(Eq),Cq=bq(Iq),Aq=wq(1.525),Rq=kq(Aq),Oq=bq(Aq),Nq=function(e){var t=wq(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),Pq=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},Dq=kq(Pq);function Lq(e,t){return e.map((function(){return t||Tq})).splice(0,e.length-1)}function Mq(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=e.offset,u=e.duration,s=void 0===u?300:u,c={done:!1,value:n},l=Array.isArray(i)?i:[n,i],f=function(e,t){return e.map((function(e){return e*t}))}(o&&o.length===l.length?o:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(l),s);function h(){return yq(f,l,{ease:Array.isArray(a)?a:Lq(l,a)})}var d=h();return{next:function(e){return c.value=d(e),c.done=e>=s,c},flipTarget:function(){l.reverse(),d=h()}}}var Vq={keyframes:Mq,spring:Lz,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,i=void 0===r?0:r,a=e.power,o=void 0===a?.8:a,u=e.timeConstant,s=void 0===u?350:u,c=e.restDelta,l=void 0===c?.5:c,f=e.modifyTarget,h={done:!1,value:i},d=o*n,p=i+d,v=void 0===f?p:f(p);return v!==p&&(d=v-i),{next:function(e){var t=-d*Math.exp(-e/s);return h.done=!(t>l||t<-l),h.value=h.done?v:v+t,h},flipTarget:function(){}}}};var Fq=1/60*1e3,Uq="undefined"!==typeof performance?function(){return performance.now()}:function(){return Date.now()},jq="undefined"!==typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Uq())}),Fq)};var Bq=!0,zq=!1,qq=!1,Wq={delta:0,timestamp:0},Hq=["read","update","preRender","render","postRender"],Kq=Hq.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,i=!1,a=!1,o=new WeakSet,u={schedule:function(e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&i,u=a?t:n;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&o.add(e),-1===u.indexOf(e)&&(u.push(e),a&&i&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),o.delete(e)},process:function(s){if(i)a=!0;else{i=!0;var c=[n,t];if(t=c[0],(n=c[1]).length=0,r=t.length)for(var l=0;l<r;l++){var f=t[l];f(s),o.has(f)&&(u.schedule(f),e())}i=!1,a&&(a=!1,u.process(s))}}};return u}((function(){return zq=!0})),e}),{}),Gq=Hq.reduce((function(e,t){var n=Kq[t];return e[t]=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return zq||Jq(),n.schedule(e,t,r)},e}),{}),Qq=Hq.reduce((function(e,t){return e[t]=Kq[t].cancel,e}),{}),$q=Hq.reduce((function(e,t){return e[t]=function(){return Kq[t].process(Wq)},e}),{}),Yq=function(e){return Kq[e].process(Wq)},Xq=function e(t){zq=!1,Wq.delta=Bq?Fq:Math.max(Math.min(t-Wq.timestamp,40),1),Wq.timestamp=t,qq=!0,Hq.forEach(Yq),qq=!1,zq&&(Bq=!1,jq(e))},Jq=function(){zq=!0,Bq=!0,qq||jq(Xq)},Zq=function(){return Wq},eW=Gq;function tW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e-t-n}var nW=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return eW.update(t,!0)},stop:function(){return Qq.update(t)}}};function rW(e){var t,n,r,i,a,o=e.from,u=e.autoplay,s=void 0===u||u,c=e.driver,l=void 0===c?nW:c,f=e.elapsed,h=void 0===f?0:f,d=e.repeat,p=void 0===d?0:d,v=e.repeatType,m=void 0===v?"loop":v,y=e.repeatDelay,g=void 0===y?0:y,k=e.onPlay,b=e.onStop,w=e.onComplete,_=e.onRepeat,x=e.onUpdate,S=Qc(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),T=S.to,E=0,I=S.duration,C=!1,A=!0,R=function(e){if(Array.isArray(e.to))return Mq;if(Vq[e.type])return Vq[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Mq:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Lz:Mq}(S);(null===(n=(t=R).needsInterpolation)||void 0===n?void 0:n.call(t,o,T))&&(a=yq([0,100],[o,T],{clamp:!1}),o=0,T=100);var O=R(Object.assign(Object.assign({},S),{from:o,to:T}));function N(){E++,"reverse"===m?h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?t-(e-t)+n:tW(t+-e,t,n)}(h,I,g,A=E%2===0):(h=tW(h,I,g),"mirror"===m&&O.flipTarget()),C=!1,_&&_()}function P(e){if(A||(e=-e),h+=e,!C){var t=O.next(Math.max(0,h));i=t.value,a&&(i=a(i)),C=A?t.done:h<=0}null===x||void 0===x||x(i),C&&(0===E&&(null!==I&&void 0!==I||(I=h)),E<p?function(e,t,n,r){return r?e>=t+n:e<=-n}(h,I,g,A)&&N():(r.stop(),w&&w()))}return s&&(null===k||void 0===k||k(),(r=l(P)).start()),{stop:function(){null===b||void 0===b||b(),r.stop()}}}function iW(e,t){return t?e*(1e3/t):0}var aW=function(e){return 1e3*e},oW=function(e,t){return 1-3*t+3*e},uW=function(e,t){return 3*t-6*e},sW=function(e){return 3*e},cW=function(e,t,n){return((oW(t,n)*e+uW(t,n))*e+sW(t))*e},lW=function(e,t,n){return 3*oW(t,n)*e*e+2*uW(t,n)*e+sW(t)};var fW=.1;function hW(e,t,n,r){if(e===t&&n===r)return _q;for(var i=new Float32Array(11),a=0;a<11;++a)i[a]=cW(a*fW,e,n);function o(t){for(var r=0,a=1;10!==a&&i[a]<=t;++a)r+=fW;--a;var o=r+(t-i[a])/(i[a+1]-i[a])*fW,u=lW(o,e,n);return u>=.001?function(e,t,n,r){for(var i=0;i<8;++i){var a=lW(t,n,r);if(0===a)return t;t-=(cW(t,n,r)-e)/a}return t}(t,o,e,n):0===u?o:function(e,t,n,r,i){var a,o,u=0;do{(a=cW(o=t+(n-t)/2,r,i)-e)>0?n=o:t=o}while(Math.abs(a)>1e-7&&++u<10);return o}(t,r,r+fW,e,n)}return function(e){return 0===e||1===e?e:cW(o(e),t,r)}}var dW={linear:_q,easeIn:xq,easeInOut:Tq,easeOut:Sq,circIn:Eq,circInOut:Cq,circOut:Iq,backIn:Aq,backInOut:Oq,backOut:Rq,anticipate:Nq,bounceIn:Dq,bounceInOut:function(e){return e<.5?.5*(1-Pq(1-2*e)):.5*Pq(2*e-1)+.5},bounceOut:Pq},pW=function(e){if(Array.isArray(e)){e.length;var t=s(e,4);return hW(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),dW[e]):e},vW=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!oq.test(t)||t.startsWith("url(")))},mW=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},yW=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},gW=function(){return{type:"keyframes",ease:"linear",duration:.3}},kW=function(e){return{type:"keyframes",duration:.8,values:e}},bW={x:mW,y:mW,z:mW,rotate:mW,rotateX:mW,rotateY:mW,rotateZ:mW,scaleX:yW,scaleY:yW,scale:yW,opacity:gW,backgroundColor:gW,color:gW,default:yW},wW=new Set(["brightness","contrast","saturate","opacity"]);function _W(e){var t=s(e.slice(0,-1).split("("),2),n=t[0],r=t[1];if("drop-shadow"===n)return e;var i=s(r.match($j)||[],1)[0];if(!i)return e;var a=r.replace(i,""),o=wW.has(n)?1:0;return i!==r&&(o*=100),n+"("+o+a+")"}var xW=/([a-z-]*)\(.*?\)/g,SW=Object.assign(Object.assign({},oq),{getAnimatableNone:function(e){var t=e.match(xW);return t?t.map(_W).join(" "):e}}),TW=Object.assign(Object.assign({},lB),{color:Zz,backgroundColor:Zz,outlineColor:Zz,fill:Zz,stroke:Zz,borderColor:Zz,borderTopColor:Zz,borderRightColor:Zz,borderBottomColor:Zz,borderLeftColor:Zz,filter:SW,WebkitFilter:SW}),EW=function(e){return TW[e]};function IW(e,t){var n,r=EW(e);return r!==SW&&(r=oq),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var CW=!1;function AW(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,a=e.loop,o=Qc(e,["ease","times","yoyo","flip","loop"]),u=Object.assign({},o);return n&&(u.offset=n),o.duration&&(u.duration=aW(o.duration)),o.repeatDelay&&(u.repeatDelay=aW(o.repeatDelay)),t&&(u.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(pW):pW(t)),"tween"===o.type&&(u.type="keyframes"),(r||a||i)&&(!0,r?u.repeatType="reverse":a?u.repeatType="loop":i&&(u.repeatType="mirror"),u.repeat=a||r||i||o.repeat),"spring"!==o.type&&(u.type="keyframes"),u}function RW(e,t){var n,r;return null!==(r=null!==(n=(LW(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}function OW(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=l(e.to),e.to[0]=e.from)}(t),function(e){var t=Qc(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=Object.assign(Object.assign({},e),function(e,t){var n;return n=MB(t)?kW:bW[e]||bW.default,Object.assign({to:t},n(t))}(n,t.to))),Object.assign(Object.assign({},t),AW(e))}function NW(e,t,n,r,i){var a,o=LW(r,e),u=null!==(a=o.from)&&void 0!==a?a:t.get(),s=vW(e,n);"none"===u&&s&&"string"===typeof n?u=IW(e,n):PW(u)&&"string"===typeof n?u=DW(n):!Array.isArray(n)&&PW(n)&&"string"===typeof u&&(n=DW(u));var c=vW(e,u);return"You are trying to animate ".concat(e,' from "').concat(u,'" to "').concat(n,'". ').concat(u," is not an animatable value - to enable this animation set ").concat(u," to a value animatable to ").concat(n," via the `style` property."),c&&s&&!1!==o.type?function(){var r={from:u,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===o.type||"decay"===o.type?function(e){var t,n=e.from,r=void 0===n?0:n,i=e.velocity,a=void 0===i?0:i,o=e.min,u=e.max,s=e.power,c=void 0===s?.8:s,l=e.timeConstant,f=void 0===l?750:l,h=e.bounceStiffness,d=void 0===h?500:h,p=e.bounceDamping,v=void 0===p?10:p,m=e.restDelta,y=void 0===m?1:m,g=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete,_=e.onStop;function x(e){return void 0!==o&&e<o||void 0!==u&&e>u}function S(e){return void 0===o?u:void 0===u||Math.abs(o-e)<Math.abs(u-e)?o:u}function T(e){null===t||void 0===t||t.stop(),t=rW(Object.assign(Object.assign({},e),{driver:k,onUpdate:function(t){var n;null===b||void 0===b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w,onStop:_}))}function E(e){T(Object.assign({type:"spring",stiffness:d,damping:v,restDelta:y},e))}if(x(r))E({from:r,velocity:a,to:S(r)});else{var I=c*a+r;"undefined"!==typeof g&&(I=g(I));var C,A,R=S(I),O=R===o?-1:1;T({type:"decay",from:r,velocity:a,timeConstant:f,power:c,restDelta:y,modifyTarget:g,onUpdate:x(I)?function(e){C=A,A=e,a=iW(e-C,Zq().delta),(1===O&&e>R||-1===O&&e<R)&&E({from:e,to:R,velocity:a})}:void 0})}return{stop:function(){return null===t||void 0===t?void 0:t.stop()}}}(Object.assign(Object.assign({},r),o)):rW(Object.assign(Object.assign({},OW(o,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=o.onUpdate)||void 0===t||t.call(o,e)},onComplete:function(){var e;r.onComplete(),null===(e=o.onComplete)||void 0===e||e.call(o)}}))}:function(){var e,r,a=VB(n);return t.set(a),i(),null===(e=null===o||void 0===o?void 0:o.onUpdate)||void 0===e||e.call(o,a),null===(r=null===o||void 0===o?void 0:o.onComplete)||void 0===r||r.call(o),{stop:function(){}}}}function PW(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function DW(e){return"number"===typeof e?0:IW("",e)}function LW(e,t){return e[t]||e.default||e}function MW(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return CW&&(r={type:!1}),t.start((function(i){var a,o,u=NW(e,t,n,r,i),s=RW(r,e),c=function(){return o=u()};return s?a=window.setTimeout(c,aW(s)):c(),function(){clearTimeout(a),null===o||void 0===o||o.stop()}}))}var VW=function(e){return/^\-?\d*\.?\d+$/.test(e)},FW=function(e){return/^0[^.\s]+$/.test(e)};function UW(e,t){-1===e.indexOf(t)&&e.push(t)}function jW(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var BW=function(){function e(){A(this,e),this.subscriptions=[]}return O(e,[{key:"add",value:function(e){var t=this;return UW(this.subscriptions,e),function(){return jW(t.subscriptions,e)}}},{key:"notify",value:function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var a=this.subscriptions[i];a&&a(e,t,n)}}},{key:"getSize",value:function(){return this.subscriptions.length}},{key:"clear",value:function(){this.subscriptions.length=0}}]),e}(),zW=function(){function e(t){var n,r=this;A(this,e),this.version="7.2.0",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new BW,this.velocityUpdateSubscribers=new BW,this.renderSubscribers=new BW,this.canTrackVelocity=!1,this.updateAndNotify=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.prev=r.current,r.current=e;var n=Zq(),i=n.delta,a=n.timestamp;r.lastUpdated!==a&&(r.timeDelta=i,r.lastUpdated=a,eW.postRender(r.scheduleVelocityCheck)),r.prev!==r.current&&r.updateSubscribers.notify(r.current),r.velocityUpdateSubscribers.getSize()&&r.velocityUpdateSubscribers.notify(r.getVelocity()),t&&r.renderSubscribers.notify(r.current)},this.scheduleVelocityCheck=function(){return eW.postRender(r.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==r.lastUpdated&&(r.prev=r.current,r.velocityUpdateSubscribers.notify(r.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=(n=this.current,!isNaN(parseFloat(n)))}return O(e,[{key:"onChange",value:function(e){return this.updateSubscribers.add(e)}},{key:"clearListeners",value:function(){this.updateSubscribers.clear()}},{key:"onRenderRequest",value:function(e){return e(this.get()),this.renderSubscribers.add(e)}},{key:"attach",value:function(e){this.passiveEffect=e}},{key:"set",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)}},{key:"get",value:function(){return this.current}},{key:"getPrevious",value:function(){return this.prev}},{key:"getVelocity",value:function(){return this.canTrackVelocity?iW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}},{key:"start",value:function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))}},{key:"stop",value:function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}},{key:"isAnimating",value:function(){return!!this.stopAnimation}},{key:"clearAnimation",value:function(){this.stopAnimation=null}},{key:"destroy",value:function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}]),e}();function qW(e){return new zW(e)}var WW=function(e){return function(t){return t.test(e)}},HW=[oB,nB,tB,eB,iB,rB,{test:function(e){return"auto"===e},parse:function(e){return e}}],KW=function(e){return HW.find(WW(e))},GW=[].concat(l(HW),[Zz,oq]),QW=function(e){return GW.find(WW(e))};function $W(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,qW(n))}function YW(e,t){var n=kj(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,a=void 0===i?{}:i,o=(r.transition,Qc(r,["transitionEnd","transition"]));for(var u in o=Object.assign(Object.assign({},o),a)){$W(e,u,VB(o[u]))}}function XW(e,t){if(t)return(t[e]||t.default||t).from}function JW(e){return Boolean(qj(e)&&e.add)}function ZW(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=kj(e,t,r.custom),a=i||{},o=a.transition,u=void 0===o?e.getDefaultTransition()||{}:o;r.transitionOverride&&(u=r.transitionOverride);var c=i?function(){return eH(e,i,r)}:function(){return Promise.resolve()},l=(null===(n=e.variantChildren)||void 0===n?void 0:n.size)?function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=u,a=i.delayChildren,o=void 0===a?0:a,s=i.staggerChildren,c=i.staggerDirection;return tH(e,t,o+n,s,c,r)}:function(){return Promise.resolve()},f=u,h=f.when;if(h){var d="beforeChildren"===h?[c,l]:[l,c],p=s(d,2),v=p[0],m=p[1];return v().then(m)}return Promise.all([c(),l(r.delay)])}function eH(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.delay,a=void 0===i?0:i,o=r.transitionOverride,u=r.type,s=e.makeTargetAnimatable(t),c=s.transition,l=void 0===c?e.getDefaultTransition():c,f=s.transitionEnd,h=Qc(s,["transition","transitionEnd"]),d=e.getValue("willChange");o&&(l=o);var p=[],v=u&&(null===(n=e.animationState)||void 0===n?void 0:n.getState()[u]),m=function(t){var n=e.getValue(t),r=h[t];if(!n||void 0===r||v&&rH(v,t))return"continue";var i=Object.assign({delay:a},l);e.shouldReduceMotion&&Uj(t)&&(i=Object.assign(Object.assign({},i),{type:!1,delay:0}));var o=MW(t,n,r,i);JW(d)&&(d.add(t),o=o.then((function(){return d.remove(t)}))),p.push(o)};for(var y in h)m(y);return Promise.all(p).then((function(){f&&YW(e,f)}))}function tH(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=arguments.length>5?arguments[5]:void 0,o=[],u=(e.variantChildren.size-1)*r,s=1===i?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e*r}:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return u-e*r};return Array.from(e.variantChildren).sort(nH).forEach((function(e,r){o.push(ZW(e,t,Object.assign(Object.assign({},a),{delay:n+s(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(o)}function nH(e,t){return e.sortNodePosition(t)}function rH(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var iH=[zB.Animate,zB.InView,zB.Focus,zB.Hover,zB.Tap,zB.Drag,zB.Exit],aH=[].concat(iH).reverse(),oH=iH.length;function uH(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return ZW(e,t,r)}));n=Promise.all(i)}else if("string"===typeof t)n=ZW(e,t,r);else{var a="function"===typeof t?kj(e,t,r.custom):t;n=eH(e,a,r)}return n.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function sH(e){var t=uH(e),n=function(){var e;return _(e={},zB.Animate,cH(!0)),_(e,zB.InView,cH()),_(e,zB.Hover,cH()),_(e,zB.Tap,cH()),_(e,zB.Drag,cH()),_(e,zB.Focus,cH()),_(e,zB.Exit,cH()),e}(),r=!0,i=function(t,n){var r=kj(e,n);if(r){r.transition;var i=r.transitionEnd,a=Qc(r,["transition","transitionEnd"]);t=Object.assign(Object.assign(Object.assign({},t),a),i)}return t};function a(a,o){for(var u,s=e.getProps(),c=e.getVariantContext(!0)||{},f=[],h=new Set,d={},p=1/0,v=function(t){var v=aH[t],m=n[v],y=null!==(u=s[v])&&void 0!==u?u:c[v],g=yj(y),k=v===o?m.isActive:null;!1===k&&(p=t);var b=y===c[v]&&y!==s[v]&&g;if(b&&r&&e.manuallyAnimateOnMount&&(b=!1),m.protectedKeys=Object.assign({},d),!m.isActive&&null===k||!y&&!m.prevProp||LB(y)||"boolean"===typeof y)return"continue";var w=function(e,t){if("string"===typeof t)return t!==e;if(mj(t))return!Iz(t,e);return!1}(m.prevProp,y),_=w||v===o&&m.isActive&&!b&&g||t>p&&g,x=Array.isArray(y)?y:[y],S=x.reduce(i,{});!1===k&&(S={});var T=m.prevResolvedValues,E=void 0===T?{}:T,I=Object.assign(Object.assign({},E),S),C=function(e){_=!0,h.delete(e),m.needsAnimating[e]=!0};for(var A in I){var R=S[A],O=E[A];d.hasOwnProperty(A)||(R!==O?MB(R)&&MB(O)?!Iz(R,O)||w?C(A):m.protectedKeys[A]=!0:void 0!==R?C(A):h.add(A):void 0!==R&&h.has(A)?C(A):m.protectedKeys[A]=!0)}m.prevProp=y,m.prevResolvedValues=S,m.isActive&&(d=Object.assign(Object.assign({},d),S)),r&&e.blockInitialAnimation&&(_=!1),_&&!b&&f.push.apply(f,l(x.map((function(e){return{animation:e,options:Object.assign({type:v},a)}}))))},m=0;m<oH;m++)v(m);if(h.size){var y={};h.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(y[t]=n)})),f.push({animation:y})}var g=Boolean(f.length);return r&&!1===s.initial&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(f):Promise.resolve()}return{animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var u=a(i,t);for(var s in n)n[s].protectedKeys={};return u},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function cH(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var lH={animation:Sz((function(e){var n=e.visualElement,r=e.animate;n.animationState||(n.animationState=sH(n)),LB(r)&&(0,t.useEffect)((function(){return r.subscribe(n)}),[r])})),exit:Sz((function(e){var n=e.custom,r=e.visualElement,i=s(Ez(),2),a=i[0],o=i[1],u=(0,t.useContext)(sj);(0,t.useEffect)((function(){var e,t;r.isPresent=a;var i=null===(e=r.animationState)||void 0===e?void 0:e.setActive(zB.Exit,!a,{custom:null!==(t=null===u||void 0===u?void 0:u.custom)&&void 0!==t?t:n});!a&&(null===i||void 0===i||i.then(o))}),[a])}))},fH=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},hH=function(e){return fH(e)&&e.hasOwnProperty("z")},dH=function(e,t){return Math.abs(e-t)};function pH(e,t){if(uq(e)&&uq(t))return dH(e,t);if(fH(e)&&fH(t)){var n=dH(e.x,t.x),r=dH(e.y,t.y),i=hH(e)&&hH(t)?dH(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var vH=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.transformPagePoint;if(A(this,e),this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=gH(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=pH(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,a=Zq().timestamp;r.history.push(Object.assign(Object.assign({},i),{timestamp:a}));var o=r.handlers,u=o.onStart,s=o.onMove;t||(u&&u(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),s&&s(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=mH(t,r.transformPagePoint),GB(e)&&0===e.buttons?r.handlePointerUp(e,t):eW.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,a=n.onSessionEnd,o=gH(mH(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,o),a&&a(e,o)},!(QB(t)&&t.touches.length>1)){this.handlers=n,this.transformPagePoint=a;var o=ZB(t),u=mH(o,this.transformPagePoint),s=u.point,c=Zq(),l=c.timestamp;this.history=[Object.assign(Object.assign({},s),{timestamp:l})];var f=n.onSessionStart;f&&f(t,gH(u,this.history)),this.removeListeners=vz(iz(window,"pointermove",this.handlePointerMove),iz(window,"pointerup",this.handlePointerUp),iz(window,"pointercancel",this.handlePointerUp))}}return O(e,[{key:"updateHandlers",value:function(e){this.handlers=e}},{key:"end",value:function(){this.removeListeners&&this.removeListeners(),Qq.update(this.updatePoint)}}]),e}();function mH(e,t){return t?{point:t(e.point)}:e}function yH(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gH(e,t){var n=e.point;return{point:n,delta:yH(n,bH(t)),offset:yH(n,kH(t)),velocity:wH(t,.1)}}function kH(e){return e[0]}function bH(e){return e[e.length-1]}function wH(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=bH(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>aW(t)));)n--;if(!r)return{x:0,y:0};var a=(i.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function _H(e){return e.max-e.min}function xH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return pH(e,t)<n}function SH(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Fz(t.min,t.max,e.origin),e.scale=_H(n)/_H(t),(xH(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Fz(n.min,n.max,e.origin)-e.originPoint,(xH(e.translate)||isNaN(e.translate))&&(e.translate=0)}function TH(e,t,n,r){SH(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),SH(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function EH(e,t,n){e.min=n.min+t.min,e.max=e.min+_H(t)}function IH(e,t,n){e.min=t.min-n.min,e.max=e.min+_H(t)}function CH(e,t,n){IH(e.x,t.x,n.x),IH(e.y,t.y,n.y)}function AH(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function RH(e,t){var n=t.min-e.min,r=t.max-e.max;if(t.max-t.min<e.max-e.min){var i=[r,n];n=i[0],r=i[1]}return{min:n,max:r}}var OH=.35;function NH(e,t,n){return{min:PH(e,t),max:PH(e,n)}}function PH(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function DH(e){return[e("x"),e("y")]}function LH(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function MH(e){return void 0===e||1===e}function VH(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!MH(t)||!MH(n)||!MH(r)}function FH(e){return VH(e)||UH(e.x)||UH(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function UH(e){return e&&"0%"!==e}function jH(e,t,n){return n+t*(e-n)}function BH(e,t,n,r,i){return void 0!==i&&(e=jH(e,i,r)),jH(e,n,r)+t}function zH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;e.min=BH(e.min,t,n,r,i),e.max=BH(e.max,t,n,r,i)}function qH(e,t){var n=t.x,r=t.y;zH(e.x,n.translate,n.scale,n.originPoint),zH(e.y,r.translate,r.scale,r.originPoint)}function WH(e,t){e.min=e.min+t,e.max=e.max+t}function HH(e,t,n){var r=s(n,3),i=r[0],a=r[1],o=r[2],u=void 0!==t[o]?t[o]:.5,c=Fz(e.min,e.max,u);zH(e,t[i],t[a],c,t.scale)}var KH=["x","scaleX","originX"],GH=["y","scaleY","originY"];function QH(e,t){HH(e.x,t,KH),HH(e.y,t,GH)}function $H(e,t){return LH(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var YH=new WeakMap,XH=function(){function e(t){A(this,e),this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=t}return O(e,[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){var a=function(e){t.stopAnimation(),i&&t.snapToCursor(ZB(e,"page").point)},o=function(e,n){var r,i=t.getProps(),a=i.drag,o=i.dragPropagation,u=i.onDragStart;(!a||o||(t.openGlobalLock&&t.openGlobalLock(),t.openGlobalLock=cz(a),t.openGlobalLock))&&(t.isDragging=!0,t.currentDirection=null,t.resolveConstraints(),t.visualElement.projection&&(t.visualElement.projection.isAnimationBlocked=!0,t.visualElement.projection.target=void 0),DH((function(e){var n,r,i=t.getAxisMotionValue(e).get()||0;if(tB.test(i)){var a=null===(r=null===(n=t.visualElement.projection)||void 0===n?void 0:n.layout)||void 0===r?void 0:r.actual[e];if(a)i=_H(a)*(parseFloat(i)/100)}t.originPoint[e]=i})),null===u||void 0===u||u(e,n),null===(r=t.visualElement.animationState)||void 0===r||r.setActive(zB.Drag,!0))},u=function(e,n){var r=t.getProps(),i=r.dragPropagation,a=r.dragDirectionLock,o=r.onDirectionLock,u=r.onDrag;if(i||t.openGlobalLock){var s=n.offset;if(a&&null===t.currentDirection)return t.currentDirection=ZH(s),void(null!==t.currentDirection&&(null===o||void 0===o||o(t.currentDirection)));t.updateAxis("x",n.point,s),t.updateAxis("y",n.point,s),t.visualElement.syncRender(),null===u||void 0===u||u(e,n)}},s=function(e,n){return t.stop(e,n)};this.panSession=new vH(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}}},{key:"stop",value:function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}}},{key:"cancel",value:function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(zB.Drag,!1)}},{key:"updateAxis",value:function(e,t,n){var r=this.getProps().drag;if(n&&JH(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Fz(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Fz(i,e,n.max):Math.min(e,i)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}}},{key:"resolveConstraints",value:function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,a=this.constraints;n&&vj(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,a=t.right;return{x:AH(e.x,r,a),y:AH(e.y,n,i)}}(i.actual,n),this.elastic=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:OH;return!1===e?e=0:!0===e&&(e=OH),{x:NH(e,"left","right"),y:NH(e,"top","bottom")}}(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&DH((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))}},{key:"resolveRefConstraints",value:function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!vj(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var a=function(e,t,n){var r=$H(e,n),i=t.scroll;return i&&(WH(r.x,i.x),WH(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),o=function(e,t){return{x:RH(e.x,t.x),y:RH(e.y,t.y)}}(i.layout.actual,a);if(n){var u=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(o));this.hasMutatedConstraints=!!u,u&&(o=LH(u))}return o}},{key:"startAnimation",value:function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,a=n.dragElastic,o=n.dragTransition,u=n.dragSnapToOrigin,s=n.onDragTransitionEnd,c=this.constraints||{},l=DH((function(n){var s;if(JH(n,r,t.currentDirection)){var l=null!==(s=null===c||void 0===c?void 0:c[n])&&void 0!==s?s:{};u&&(l={min:0,max:0});var f=a?200:1e6,h=a?40:1e7,d=Object.assign(Object.assign({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10},o),l);return t.startAxisValueAnimation(n,d)}}));return Promise.all(l).then(s)}},{key:"startAxisValueAnimation",value:function(e,t){return MW(e,this.getAxisMotionValue(e),0,t)}},{key:"stopAnimation",value:function(){var e=this;DH((function(t){return e.getAxisMotionValue(t).stop()}))}},{key:"getAxisMotionValue",value:function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)}},{key:"snapToCursor",value:function(e){var t=this;DH((function(n){if(JH(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],o=a.min,u=a.max;i.set(e[n]-Fz(o,u,.5))}}}))}},{key:"scalePositionWithinConstraints",value:function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,a=this.visualElement.projection;if(vj(i)&&a&&this.constraints){this.stopAnimation();var o={x:0,y:0};DH((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();o[e]=function(e,t){var n=.5,r=_H(e),i=_H(t);return i>r?n=Vz(t.min,t.max-r,e.min):r>i&&(n=Vz(e.min,e.max-i,t.min)),Cz(0,1,n)}({min:r,max:r},t.constraints[e])}}));var u=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=u?u({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),DH((function(e){if(JH(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],a=i.min,u=i.max;n.set(Fz(a,u,o[e]))}}))}}},{key:"addListeners",value:function(){var e,t=this;YH.set(this.visualElement,this);var n=iz(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){vj(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,a=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var o=HB(window,"resize",(function(){return t.scalePositionWithinConstraints()})),u=i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(DH((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())}));return function(){o(),n(),a(),null===u||void 0===u||u()}}},{key:"getProps",value:function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,a=e.dragPropagation,o=void 0!==a&&a,u=e.dragConstraints,s=void 0!==u&&u,c=e.dragElastic,l=void 0===c?OH:c,f=e.dragMomentum,h=void 0===f||f;return Object.assign(Object.assign({},e),{drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:s,dragElastic:l,dragMomentum:h})}}]),e}();function JH(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}function ZH(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}var eK={pan:Sz((function(e){var n=e.onPan,r=e.onPanStart,i=e.onPanEnd,a=e.onPanSessionStart,o=e.visualElement,u=n||r||i||a,s=(0,t.useRef)(null),c=(0,t.useContext)(oj).transformPagePoint,l={onSessionStart:a,onStart:r,onMove:n,onEnd:function(e,t){s.current=null,i&&i(e,t)}};(0,t.useEffect)((function(){null!==s.current&&s.current.updateHandlers(l)})),az(o,"pointerdown",u&&function(e){s.current=new vH(e,l,{transformPagePoint:c})}),dz((function(){return s.current&&s.current.end()}))})),drag:Sz((function(e){var n=e.dragControls,r=e.visualElement,i=Sj((function(){return new XH(r)}));(0,t.useEffect)((function(){return n&&n.subscribe(i)}),[i,n]),(0,t.useEffect)((function(){return i.addListeners()}),[i])}))},tK=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function nK(){var e=tK.map((function(){return new BW})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){tK.forEach((function(r){var i,a="on"+r,o=e[a];null===(i=t[r])||void 0===i||i.call(t),o&&(t[r]=n[a](o))}))}};return e.forEach((function(e,t){n["on"+tK[t]]=function(t){return e.add(t)},n["notify"+tK[t]]=function(){return e.notify.apply(e,arguments)}})),n}function rK(e,t,n){var r,i=t.willChange;for(var a in t){var o=t[a],u=n[a];if(qj(o))e.addValue(a,o),JW(i)&&i.add(a);else if(qj(u))e.addValue(a,qW(o)),JW(i)&&i.remove(a);else if(u!==o)if(e.hasValue(a)){var s=e.getValue(a);!s.hasAnimated&&s.set(o)}else e.addValue(a,qW(null!==(r=e.getStaticValue(a))&&void 0!==r?r:o))}for(var c in n)void 0===t[c]&&e.removeValue(c);return t}var iK=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,a=e.makeTargetAnimatable,o=e.measureViewportBox,u=e.render,s=e.readValueFromInstance,c=e.removeValueFromRenderState,l=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e){var t,h,d=e.parent,p=e.props,v=e.presenceId,m=e.blockInitialAnimation,y=e.visualState,g=e.shouldReduceMotion,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=!1,w=y.latestValues,_=y.renderState,x=nK(),S=new Map,T=new Map,E={},I=Object.assign({},w);function C(){t&&b&&(A(),u(t,_,p.style,U.projection))}function A(){r(U,_,w,k,p)}function R(){x.notifyUpdate(w)}function O(e,t){var n=t.onChange((function(t){w[e]=t,p.onUpdate&&eW.update(R,!1,!0)})),r=t.onRenderRequest(U.scheduleRender);T.set(e,(function(){n(),r()}))}var N=f(p),P=N.willChange,D=Qc(N,["willChange"]);for(var L in D){var M=D[L];void 0!==w[L]&&qj(M)&&(M.set(w[L],!1),JW(P)&&P.add(L))}var V=bj(p),F=wj(p),U=Object.assign(Object.assign({treeType:n,current:null,depth:d?d.depth+1:0,parent:d,children:new Set,presenceId:v,shouldReduceMotion:g,variantChildren:F?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===d||void 0===d?void 0:d.isMounted()),blockInitialAnimation:m,isMounted:function(){return Boolean(t)},mount:function(e){b=!0,t=U.current=e,U.projection&&U.projection.mount(e),F&&d&&!V&&(h=null===d||void 0===d?void 0:d.addVariantChild(U)),S.forEach((function(e,t){return O(t,e)})),null===d||void 0===d||d.children.add(U),U.setProps(p)},unmount:function(){var e;null===(e=U.projection)||void 0===e||e.unmount(),Qq.update(R),Qq.render(C),T.forEach((function(e){return e()})),null===h||void 0===h||h(),null===d||void 0===d||d.children.delete(U),x.clearAllListeners(),t=void 0,b=!1},addVariantChild:function(e){var t,n=U.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return l&&n===e.treeType?l(U.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return F?U:null===d||void 0===d?void 0:d.getClosestVariantNode()},getLayoutId:function(){return p.layoutId},getInstance:function(){return t},getStaticValue:function(e){return w[e]},setStaticValue:function(e,t){return w[e]=t},getLatestValues:function(){return w},setVisibility:function(e){U.isVisible!==e&&(U.isVisible=e,U.scheduleRender())},makeTargetAnimatable:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(U,e,p,t)},measureViewportBox:function(){return o(t,p)},addValue:function(e,t){U.hasValue(e)&&U.removeValue(e),S.set(e,t),w[e]=t.get(),O(e,t)},removeValue:function(e){var t;S.delete(e),null===(t=T.get(e))||void 0===t||t(),T.delete(e),delete w[e],c(e,_)},hasValue:function(e){return S.has(e)},getValue:function(e,t){var n=S.get(e);return void 0===n&&void 0!==t&&(n=qW(t),U.addValue(e,n)),n},forEachValue:function(e){return S.forEach(e)},readValue:function(e){var n;return null!==(n=w[e])&&void 0!==n?n:s(t,e,k)},setBaseTarget:function(e,t){I[e]=t},getBaseTarget:function(e){if(i){var t=i(p,e);if(void 0!==t&&!qj(t))return t}return I[e]}},x),{build:function(){return A(),_},scheduleRender:function(){eW.render(C,!1,!0)},syncRender:C,setProps:function(e){(e.transformTemplate||p.transformTemplate)&&U.scheduleRender(),p=e,x.updatePropListeners(e),E=rK(U,f(p),E)},getProps:function(){return p},getVariant:function(e){var t;return null===(t=p.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return p.transition},getTransformPagePoint:function(){return p.transformPagePoint},getVariantContext:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)return null===d||void 0===d?void 0:d.getVariantContext();if(!V){var t=(null===d||void 0===d?void 0:d.getVariantContext())||{};return void 0!==p.initial&&(t.initial=p.initial),t}for(var n={},r=0;r<oK;r++){var i=aK[r],a=p[i];(yj(a)||!1===a)&&(n[i]=a)}return n}});return U}},aK=["initial"].concat(l(iH)),oK=aK.length;function uK(e){return"string"===typeof e&&e.startsWith("var(--")}var sK=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function cK(e){var t=sK.exec(e);if(!t)return[,];var n=s(t,3);return[n[1],n[2]]}function lK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=cK(e),i=s(r,2),a=i[0],o=i[1];if(a){var u=window.getComputedStyle(t).getPropertyValue(a);return u?u.trim():uK(o)?lK(o,t,n+1):o}}var fK,hK=new Set(["width","height","top","left","right","bottom","x","y"]),dK=function(e){return hK.has(e)},pK=function(e,t){e.set(t,!1),e.set(t)},vK=function(e){return e===oB||e===nB};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(fK||(fK={}));var mK=function(e,t){return parseFloat(e.split(", ")[t])},yK=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var a=i.match(/^matrix3d\((.+)\)$/);if(a)return mK(a[1],t);var o=i.match(/^matrix\((.+)\)$/);return o?mK(o[1],e):0}},gK=new Set(["x","y","z"]),kK=Mj.filter((function(e){return!gK.has(e)}));function bK(e){var t=[];return kK.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}var wK={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,a=t.paddingRight,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,a=t.paddingBottom,o=void 0===a?"0":a;return n.max-n.min-parseFloat(i)-parseFloat(o)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:yK(4,13),y:yK(5,14)},_K=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),a=getComputedStyle(i),o=a.display,u={};"none"===o&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){u[e]=wK[e](r,a)})),t.syncRender();var s=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);pK(r,u[n]),e[n]=wK[n](s,a)})),e};function xK(e,t,n,r){return function(e){return Object.keys(e).some(dK)}(t)?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t=Object.assign({},t),r=Object.assign({},r);var i=Object.keys(t).filter(dK),a=[],o=!1,u=[];if(i.forEach((function(i){var s=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=KW(l),h=t[i];if(MB(h)){var d=h.length,p=null===h[0]?1:0;l=h[p],f=KW(l);for(var v=p;v<d;v++)c?KW(h[v]):(c=KW(h[v]))===f||vK(f)&&vK(c)}else c=KW(h);if(f!==c)if(vK(f)&&vK(c)){var m=s.get();"string"===typeof m&&s.set(parseFloat(m)),"string"===typeof h?t[i]=parseFloat(h):Array.isArray(h)&&c===nB&&(t[i]=h.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===h)?0===l?s.set(c.transform(l)):t[i]=f.transform(h):(o||(a=bK(e),o=!0),u.push(i),r[i]=void 0!==r[i]?r[i]:t[i],pK(s,h))}})),u.length){var c=u.indexOf("height")>=0?window.pageYOffset:null,l=_K(t,e,u);return a.length&&a.forEach((function(t){var n=s(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),cj&&null!==c&&window.scrollTo({top:c}),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var SK=function(e,t,n,r){var i=function(e,t,n){var r,i=Qc(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:i,transitionEnd:n};for(var o in n&&(n=Object.assign({},n)),e.forEachValue((function(e){var t=e.get();if(uK(t)){var n=lK(t,a);n&&e.set(n)}})),i){var u=i[o];if(uK(u)){var s=lK(u,a);s&&(i[o]=s,n&&(null!==(r=n[o])&&void 0!==r||(n[o]=u)))}}return{target:i,transitionEnd:n}}(e,t,r);return xK(e,t=i.target,n,r=i.transitionEnd)};var TK={treeType:"dom",readValueFromInstance:function(e,t){if(Uj(t)){var n=EW(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r)),a=(Hj(t)?i.getPropertyValue(t):i[t])||0;return"string"===typeof a?a.trim():a},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return $H(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=t.transition,a=t.transitionEnd,o=Qc(t,["transition","transitionEnd"]),u=n.transformValues;void 0===r&&(r=!0);var s=function(e,t,n){var r,i,a={};for(var o in e)a[o]=null!==(r=XW(o,t))&&void 0!==r?r:null===(i=n.getValue(o))||void 0===i?void 0:i.get();return a}(o,i||{},e);if(u&&(a&&(a=u(a)),o&&(o=u(o)),s&&(s=u(s))),r){!function(e,t,n){var r,i,a,o,u=Object.keys(t).filter((function(t){return!e.hasValue(t)})),s=u.length;if(s)for(var c=0;c<s;c++){var l=u[c],f=t[l],h=null;Array.isArray(f)&&(h=f[0]),null===h&&(h=null!==(i=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==i?i:t[l]),void 0!==h&&null!==h&&("string"===typeof h&&(VW(h)||FW(h))?h=parseFloat(h):!QW(h)&&oq.test(f)&&(h=IW(l,f)),e.addValue(l,qW(h)),null!==(a=(o=n)[l])&&void 0!==a||(o[l]=h),e.setBaseTarget(l,h))}}(e,o,s);var c=SK(e,o,s,a);a=c.transitionEnd,o=c.target}return Object.assign({transition:i,transitionEnd:a},o)},scrapeMotionValuesFromProps:PB,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),fB(t,n,r,i.transformTemplate)},render:RB},EK=iK(TK),IK=iK(Object.assign(Object.assign({},TK),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Uj(t)?(null===(n=EW(t))||void 0===n?void 0:n.default)||0:(t=OB.has(t)?t:AB(t),e.getAttribute(t))},scrapeMotionValuesFromProps:DB,build:function(e,t,n,r,i){SB(t,n,r,i.transformTemplate)},render:NB})),CK=function(e,t){return Pj(e)?IK(t,{enableHardwareAcceleration:!1}):EK(t,{enableHardwareAcceleration:!0})};function AK(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var RK={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!nB.test(e))return e;e=parseFloat(e)}var n=AK(e,t.target.x),r=AK(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},OK="_$css",NK={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,a=e.includes("var("),o=[];a&&(e=e.replace(sK,(function(e){return o.push(e),OK})));var u=oq.parse(e);if(u.length>5)return i;var s=oq.createTransformer(e),c="number"!==typeof u[0]?1:0,l=r.x.scale*n.x,f=r.y.scale*n.y;u[0+c]/=l,u[1+c]/=f;var h=Fz(l,f,.5);"number"===typeof u[2+c]&&(u[2+c]/=h),"number"===typeof u[3+c]&&(u[3+c]/=h);var d=s(u);if(a){var p=0;d=d.replace(OK,(function(){var e=o[p];return p++,e}))}return d}},PK=function(e){E(n,e);var t=C(n);function n(){return A(this,n),t.apply(this,arguments)}return O(n,[{key:"componentDidMount",value:function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,a=n.switchLayoutGroup,o=n.layoutId,u=r.projection;e=DK,Object.assign(Dj,e),u&&((null===i||void 0===i?void 0:i.group)&&i.group.add(u),(null===a||void 0===a?void 0:a.register)&&o&&a.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",(function(){t.safeToRemove()})),u.setOptions(Object.assign(Object.assign({},u.options),{onExitComplete:function(){return t.safeToRemove()}}))),Tj.hasEverUpdated=!0}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,a=n.drag,o=n.isPresent,u=i.projection;return u?(u.isPresent=o,a||e.layoutDependency!==r||void 0===r?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||eW.postRender((function(){var e;(null===(e=u.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null}},{key:"componentDidUpdate",value:function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))}},{key:"safeToRemove",value:function(){var e=this.props.safeToRemove;null===e||void 0===e||e()}},{key:"render",value:function(){return null}}]),n}(t.Component);var DK={borderRadius:Object.assign(Object.assign({},RK),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:RK,borderTopRightRadius:RK,borderBottomLeftRadius:RK,borderBottomRightRadius:RK,boxShadow:NK},LK={measureLayout:function(e){var n=s(Ez(),2),r=n[0],i=n[1],a=(0,t.useContext)(Ij);return t.createElement(PK,Object.assign({},e,{layoutGroup:a,switchLayoutGroup:(0,t.useContext)(Cj),isPresent:r,safeToRemove:i}))}};function MK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=qj(e)?e:qW(e);return MW("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}var VK=["TopLeft","TopRight","BottomLeft","BottomRight"],FK=VK.length,UK=function(e){return"string"===typeof e?parseFloat(e):e},jK=function(e){return"number"===typeof e||nB.test(e)};function BK(e,t,n,r,i,a){var o,u,s,c;i?(e.opacity=Fz(0,null!==(o=n.opacity)&&void 0!==o?o:1,qK(r)),e.opacityExit=Fz(null!==(u=t.opacity)&&void 0!==u?u:1,0,WK(r))):a&&(e.opacity=Fz(null!==(s=t.opacity)&&void 0!==s?s:1,null!==(c=n.opacity)&&void 0!==c?c:1,r));for(var l=0;l<FK;l++){var f="border".concat(VK[l],"Radius"),h=zK(t,f),d=zK(n,f);if(void 0!==h||void 0!==d)h||(h=0),d||(d=0),0===h||0===d||jK(h)===jK(d)?(e[f]=Math.max(Fz(UK(h),UK(d),r),0),(tB.test(d)||tB.test(h))&&(e[f]+="%")):e[f]=d}(t.rotate||n.rotate)&&(e.rotate=Fz(t.rotate||0,n.rotate||0,r))}function zK(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var qK=HK(0,.5,Iq),WK=HK(.5,.95,_q);function HK(e,t,n){return function(r){return r<e?0:r>t?1:n(Vz(e,t,r))}}function KK(e,t){e.min=t.min,e.max=t.max}function GK(e,t){KK(e.x,t.x),KK(e.y,t.y)}function QK(e,t,n,r,i){return e=jH(e-=t,1/n,r),void 0!==i&&(e=jH(e,1/i,r)),e}function $K(e,t,n,r,i){var a=s(n,3),o=a[0],u=a[1],c=a[2];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(tB.test(t)){t=parseFloat(t),t=Fz(o.min,o.max,t/100)-o.min}if("number"===typeof t){var u=Fz(a.min,a.max,r);e===a&&(u-=t),e.min=QK(e.min,t,n,u,i),e.max=QK(e.max,t,n,u,i)}}(e,t[o],t[u],t[c],t.scale,r,i)}var YK=["x","scaleX","originX"],XK=["y","scaleY","originY"];function JK(e,t,n,r){$K(e.x,t,YK,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),$K(e.y,t,XK,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function ZK(e){return 0===e.translate&&1===e.scale}function eG(e){return ZK(e.x)&&ZK(e.y)}function tG(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var nG=function(){function e(){A(this,e),this.members=[]}return O(e,[{key:"add",value:function(e){UW(this.members,e),e.scheduleRender()}},{key:"remove",value:function(e){if(jW(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}}},{key:"relegate",value:function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)}},{key:"promote",value:function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))}},{key:"exitAnimationComplete",value:function(){this.members.forEach((function(e){var t,n,r,i,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===a||a.call(i)}))}},{key:"scheduleRender",value:function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))}},{key:"removeLeadSnapshot",value:function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}]),e}();function rG(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(a+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var o=n.rotate,u=n.rotateX,s=n.rotateY;o&&(a+="rotate(".concat(o,"deg) ")),u&&(a+="rotateX(".concat(u,"deg) ")),s&&(a+="rotateY(".concat(s,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(a+="scale(".concat(c,", ").concat(l,")"))?"none":a}var iG=function(e,t){return e.depth-t.depth},aG=function(){function e(){A(this,e),this.children=[],this.isDirty=!1}return O(e,[{key:"add",value:function(e){UW(this.children,e),this.isDirty=!0}},{key:"remove",value:function(e){jW(this.children,e),this.isDirty=!0}},{key:"forEach",value:function(e){this.isDirty&&this.children.sort(iG),this.isDirty=!1,this.children.forEach(e)}}]),e}();function oG(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===n||void 0===n?void 0:n();A(this,e),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){r.isUpdating&&(r.isUpdating=!1,r.clearAllSnapshots())},this.updateProjection=function(){r.nodes.forEach(dG),r.nodes.forEach(pG)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=i,this.root=a?a.root||a:this,this.path=a?[].concat(l(a.path),[a]):[],this.parent=a,this.depth=a?a.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new aG)}return O(e,[{key:"addEventListener",value:function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new BW),this.eventHandlers.get(e).add(t)}},{key:"notifyListeners",value:function(e){for(var t=this.eventHandlers.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===t||void 0===t||t.notify.apply(t,r)}},{key:"hasListeners",value:function(e){return this.eventHandlers.has(e)}},{key:"registerPotentialNode",value:function(e,t){this.potentialNodes.set(e,t)}},{key:"mount",value:function(e){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var a=this.options,o=a.layoutId,u=a.layout,s=a.visualElement;if(s&&!s.getInstance()&&s.mount(e),this.root.nodes.add(this),null===(n=this.parent)||void 0===n||n.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),i&&(u||o)&&(this.isLayoutDirty=!0),t){var c,l=function(){return r.root.updateBlockedByResize=!1};t(e,(function(){r.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(l,250),Tj.hasAnimatedSinceResize&&(Tj.hasAnimatedSinceResize=!1,r.nodes.forEach(hG))}))}o&&this.root.registerSharedNode(o,this),!1!==this.options.animate&&s&&(o||u)&&this.addEventListener("didUpdate",(function(e){var t,n,i,a,o,u=e.delta,c=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,f=e.layout;if(r.isTreeAnimationBlocked())return r.target=void 0,void(r.relativeTarget=void 0);var h=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:s.getDefaultTransition())&&void 0!==n?n:wG,d=s.getProps(),p=d.onLayoutAnimationStart,v=d.onLayoutAnimationComplete,m=!r.targetLayout||!tG(r.targetLayout,f)||l,y=!c&&l;if((null===(i=r.resumeFrom)||void 0===i?void 0:i.instance)||y||c&&(m||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(u,y);var g=Object.assign(Object.assign({},LW(h,"layout")),{onPlay:p,onComplete:v});s.shouldReduceMotion&&(g.delay=0,g.type=!1),r.startAnimation(g)}else c||0!==r.animationProgress||r.finishAnimation(),r.isLead()&&(null===(o=(a=r.options).onExitComplete)||void 0===o||o.call(a));r.targetLayout=f}))}}},{key:"unmount",value:function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,Qq.preRender(this.updateProjection)}},{key:"blockUpdate",value:function(){this.updateManuallyBlocked=!0}},{key:"unblockUpdate",value:function(){this.updateManuallyBlocked=!1}},{key:"isUpdateBlocked",value:function(){return this.updateManuallyBlocked||this.updateBlockedByResize}},{key:"isTreeAnimationBlocked",value:function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1}},{key:"startUpdate",value:function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(vG))}},{key:"willUpdate",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.isUpdateBlocked())null===(t=(e=this.options).onExitComplete)||void 0===t||t.call(e);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var a=this.path[i];a.shouldResetTransform=!0,a.updateScroll()}var o=this.options,u=o.layoutId,s=o.layout;if(void 0!==u||s){var c=null===(n=this.options.visualElement)||void 0===n?void 0:n.getProps().transformTemplate;this.prevTransformTemplateValue=null===c||void 0===c?void 0:c(this.latestValues,""),this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}}}},{key:"didUpdate",value:function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(lG);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(_G),this.potentialNodes.clear()),this.nodes.forEach(fG),this.nodes.forEach(uG),this.nodes.forEach(sG),this.clearAllSnapshots(),$q.update(),$q.preRender(),$q.render())}},{key:"clearAllSnapshots",value:function(){this.nodes.forEach(cG),this.sharedNodes.forEach(mG)}},{key:"scheduleUpdateProjection",value:function(){eW.preRender(this.updateProjection,!1,!0)}},{key:"scheduleCheckAfterUnmount",value:function(){var e=this;eW.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))}},{key:"updateSnapshot",value:function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));SG(t),this.snapshot={measured:e,layout:t,latestValues:{}}}}},{key:"updateLayout",value:function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();SG(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}}},{key:"updateScroll",value:function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))}},{key:"resetTransform",value:function(){var e;if(a){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!eG(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),o=i!==this.prevTransformTemplateValue;t&&(n||FH(this.latestValues)||o)&&(a(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}}},{key:"measure",value:function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(WH(t.x,n.x),WH(t.y,n.y)),t}},{key:"removeElementScroll",value:function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};GK(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,a=r.options,o=r.isScrollRoot;if(r!==this.root&&i&&a.layoutScroll){if(o){GK(t,e);var u=this.root.scroll;u&&(WH(t.x,-u.x),WH(t.y,-u.y))}WH(t.x,i.x),WH(t.y,i.y)}}return t}},{key:"applyTransform",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={x:{min:0,max:0},y:{min:0,max:0}};GK(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&QH(n,{x:-i.scroll.x,y:-i.scroll.y}),FH(i.latestValues)&&QH(n,i.latestValues)}return FH(this.latestValues)&&QH(n,this.latestValues),n}},{key:"removeTransform",value:function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};GK(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&FH(i.latestValues)){VH(i.latestValues)&&i.updateSnapshot();var a={x:{min:0,max:0},y:{min:0,max:0}};GK(a,i.measure()),JK(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,a)}}return FH(this.latestValues)&&JK(n,this.latestValues),n}},{key:"setTargetDelta",value:function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()}},{key:"setOptions",value:function(e){var t;this.options=Object.assign(Object.assign(Object.assign({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})}},{key:"clearMeasurements",value:function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}},{key:"resolveTargetDelta",value:function(){var e,t,n,r,i=this.options,a=i.layout,o=i.layoutId;this.layout&&(a||o)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},CH(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),GK(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,EH(t.x,n.x,r.x),EH(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):GK(this.target,this.layout.actual),qH(this.target,this.targetDelta)):GK(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},CH(this.relativeTargetOrigin,this.target,this.relativeParent.target),GK(this.relativeTarget,this.relativeTargetOrigin)))))}},{key:"getClosestProjectingParent",value:function(){if(this.parent&&!FH(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}},{key:"calcProjection",value:function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();GK(this.layoutCorrected,this.layout.actual),function(e,t,n){var r,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.length;if(o){var u,s;t.x=t.y=1;for(var c=0;c<o;c++)s=(u=n[c]).projectionDelta,"contents"!==(null===(i=null===(r=u.instance)||void 0===r?void 0:r.style)||void 0===i?void 0:i.display)&&(a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&QH(e,{x:-u.scroll.x,y:-u.scroll.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,qH(e,s)),a&&FH(u.latestValues)&&QH(e,u.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var a=i.target;if(a){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var o=this.treeScale.x,u=this.treeScale.y,s=this.projectionTransform;TH(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=rG(this.projectionDelta,this.treeScale),this.projectionTransform===s&&this.treeScale.x===o&&this.treeScale.y===u||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}}},{key:"hide",value:function(){this.isVisible=!1}},{key:"show",value:function(){this.isVisible=!0}},{key:"scheduleRender",value:function(){var e,t,n,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null===(t=(e=this.options).scheduleRender)||void 0===t||t.call(e),r&&(null===(n=this.getStack())||void 0===n||n.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}},{key:"setAnimationOrigin",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.snapshot,a=(null===i||void 0===i?void 0:i.latestValues)||{},o=Object.assign({},this.latestValues),u={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!r;var s={x:{min:0,max:0},y:{min:0,max:0}},c=null===i||void 0===i?void 0:i.isShared,l=((null===(t=this.getStack())||void 0===t?void 0:t.members.length)||0)<=1,f=Boolean(c&&!l&&!0===this.options.crossfade&&!this.path.some(bG));this.animationProgress=0,this.mixTargetDelta=function(t){var r,i=t/1e3;yG(u.x,e.x,i),yG(u.y,e.y,i),n.setTargetDelta(u),n.relativeTarget&&n.relativeTargetOrigin&&n.layout&&(null===(r=n.relativeParent)||void 0===r?void 0:r.layout)&&(CH(s,n.layout.actual,n.relativeParent.layout.actual),kG(n.relativeTarget,n.relativeTargetOrigin,s,i)),c&&(n.animationValues=o,BK(o,a,n.latestValues,i,f,l)),n.root.scheduleUpdateProjection(),n.scheduleRender(),n.animationProgress=i},this.mixTargetDelta(0)}},{key:"startAnimation",value:function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(Qq.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eW.update((function(){Tj.hasAnimatedSinceResize=!0,r.currentAnimation=MK(0,1e3,Object.assign(Object.assign({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))}},{key:"completeAnimation",value:function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}},{key:"finishAnimation",value:function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()}},{key:"applyTransformsToTarget",value:function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(GK(t,n),QH(t,i),TH(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))}},{key:"registerSharedNode",value:function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new nG),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})}},{key:"isLead",value:function(){var e=this.getStack();return!e||e.lead===this}},{key:"getLead",value:function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}},{key:"getPrevLead",value:function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}},{key:"getStack",value:function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)}},{key:"promote",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.needsReset,n=e.transition,r=e.preserveFollowOpacity,i=this.getStack();i&&i.promote(this,r),t&&(this.projectionDelta=void 0,this.needsReset=!0),n&&this.setOptions({transition:n})}},{key:"relegate",value:function(){var e=this.getStack();return!!e&&e.relegate(this)}},{key:"resetRotation",value:function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<Lj.length;r++){var i="rotate"+Lj[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var a in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(a,n[a]);e.scheduleRender()}}}},{key:"getProjectionStyles",value:function(){var e,t,n,r,i,a,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u={};if(!this.instance||this.isSVG)return u;if(!this.isVisible)return{visibility:"hidden"};u.visibility="";var s=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=FB(o.pointerEvents)||"",u.transform=s?s(this.latestValues,""):"none",u;var c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){var l={};return this.options.layoutId&&(l.opacity=null!==(t=this.latestValues.opacity)&&void 0!==t?t:1,l.pointerEvents=FB(o.pointerEvents)||""),this.hasProjected&&!FH(this.latestValues)&&(l.transform=s?s({},""):"none",this.hasProjected=!1),l}var f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),u.transform=rG(this.projectionDeltaWithTransform,this.treeScale,f),s&&(u.transform=s(f,u.transform));var h=this.projectionDelta,d=h.x,p=h.y;for(var v in u.transformOrigin="".concat(100*d.origin,"% ").concat(100*p.origin,"% 0"),c.animationValues?u.opacity=c===this?null!==(r=null!==(n=f.opacity)&&void 0!==n?n:this.latestValues.opacity)&&void 0!==r?r:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=c===this?null!==(i=f.opacity)&&void 0!==i?i:"":null!==(a=f.opacityExit)&&void 0!==a?a:0,Dj)if(void 0!==f[v]){var m=Dj[v],y=m.correct,g=m.applyTo,k=y(f[v],c);if(g)for(var b=g.length,w=0;w<b;w++)u[g[w]]=k;else u[v]=k}return this.options.layoutId&&(u.pointerEvents=c===this?FB(o.pointerEvents)||"":"none"),u}},{key:"clearSnapshot",value:function(){this.resumeFrom=this.snapshot=void 0}},{key:"resetTree",value:function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(lG),this.root.sharedNodes.clear()}}]),e}()}function uG(e){e.updateLayout()}function sG(e){var t,n,r,i,a=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var o=e.layout,u=o.actual,s=o.measured;"size"===e.options.animationType?DH((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=_H(t);t.min=u[e].min,t.max=t.min+n})):"position"===e.options.animationType&&DH((function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=_H(u[e]);t.max=t.min+n}));var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};TH(c,u,a.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a.isShared?TH(l,e.applyTransform(s,!0),a.measured):TH(l,u,a.layout);var f=!eG(c),h=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var d=e.relativeParent,p=d.snapshot,v=d.layout;if(p&&v){var m={x:{min:0,max:0},y:{min:0,max:0}};CH(m,a.layout,p.layout);var y={x:{min:0,max:0},y:{min:0,max:0}};CH(y,u,v.actual),tG(m,y)||(h=!0)}}e.notifyListeners("didUpdate",{layout:u,snapshot:a,delta:l,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function cG(e){e.clearSnapshot()}function lG(e){e.clearMeasurements()}function fG(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function hG(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function dG(e){e.resolveTargetDelta()}function pG(e){e.calcProjection()}function vG(e){e.resetRotation()}function mG(e){e.removeLeadSnapshot()}function yG(e,t,n){e.translate=Fz(t.translate,0,n),e.scale=Fz(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function gG(e,t,n,r){e.min=Fz(t.min,n.min,r),e.max=Fz(t.max,n.max,r)}function kG(e,t,n,r){gG(e.x,t.x,n.x,r),gG(e.y,t.y,n.y,r)}function bG(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var wG={duration:.45,ease:[.4,0,.1,1]};function _G(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function xG(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function SG(e){xG(e.x),xG(e.y)}var TG=oG({attachResizeListener:function(e,t){return HB(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),EG={current:void 0},IG=oG({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!EG.current){var e=new TG(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),EG.current=e}return EG.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),CG=Object.assign(Object.assign(Object.assign(Object.assign({},lH),Tz),eK),LK),AG=Oj((function(e,t){return function(e,t,n,r,i){var a=t.forwardMotionProps,o=void 0!==a&&a,u=Pj(e)?qB:WB;return Object.assign(Object.assign({},u),{preloadedFeatures:n,useRender:IB(o),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,CG,CK,IG)}));var RG,OG,NG,PG,DG,LG,MG,VG,FG,UG,jG,BG,zG,qG,WG,HG,KG,GG,QG,$G,YG,XG=n(184),JG=ej.div(RG||(RG=AM(["\n  width: 100%;\n  height: 100%;\n  padding: 10px 0;\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #999999;\n"]))),ZG=ej.div(OG||(OG=AM(["\n  width: 570px;\n  height: 600px;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-top: 20px;\n  border-radius: 20px;\n  gap: 22px;\n  box-sizing: border-box;\n"]))),eQ=ej.h1(NG||(NG=AM(["\n  font-size: 31px;\n  font-weight: 800;\n  margin: 8px 0;\n"]))),tQ=ej(AG.div)(PG||(PG=AM(["\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  box-sizing: border-box;\n  border: 2px solid rgba(0, 0, 0, 0.1);\n  border-radius: 20px;\n  padding: 10px 30px;\n  width: 300px;\n  cursor: pointer;\n"]))),nQ=ej.h1(DG||(DG=AM(["\n  font-weight: 600;\n  font-size: 15px;\n  color: rgba(0, 0, 0, 0.6);\n"]))),rQ=ej.form(LG||(LG=AM(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 300px;\n  border-top: 2px solid rgba(0, 0, 0, 0.1);\n  position: relative;\n  padding-top: 20px;\n  gap: 22px;\n"]))),iQ=ej.h1(MG||(MG=AM(["\n  position: absolute;\n  font-size: px;\n  color: rgba(0, 0, 0, 0.6);\n  background-color: white;\n  font-weight: 700;\n  padding: 10px;\n  top: -20px;\n"]))),aQ=ej.input(VG||(VG=AM(['\n  width: 100%;\n  height: 50px;\n  border-radius: 4px;\n  border: 2px solid rgba(0, 0, 0, 0.1);\n  padding: 0 8px;\n  box-sizing: border-box;\n  font-size: 17px;\n  font-weight: 600;\n  ::placeholder {\n    color: darkgray;\n    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;\n  }\n']))),oQ=ej.h1(FG||(FG=AM(["\n  position: absolute;\n  bottom: -23px;\n  font-size: 11px;\n  color: red;\n"]))),uQ=ej.button(UG||(UG=AM(["\n  border: none;\n  background-color: ",";\n  color: ",";\n  width: 300px;\n  padding: 5px 0;\n  border-radius: 20px;\n  cursor: pointer;\n  font-weight: 600;\n  font-size: 15px;\n  box-sizing: border-box;\n  border: 2px solid rgba(0, 0, 0, 0.1);\n  :nth-child(1) {\n    margin-top: 10px;\n  }\n"])),(function(e){return e.isBlack?"#272c30":"white"}),(function(e){return e.isBlack?"white":"#272c30"})),sQ={hover:{backgroundColor:"rgba(0,0,0,0.1)"}},cQ=function(){var e=s((0,t.useState)(""),2),n=e[0],r=e[1],i=s((0,t.useState)(""),2),a=i[0],o=i[1],u=s((0,t.useState)(""),2),c=u[0],l=u[1],f=function(e){var t=e.target,n=t.name,i=t.value;"email"===n?r(i):"password"===n&&o(i)},h=function(){var e=d(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"Google"===(n=t.currentTarget.getAttribute("name"))?r=new VL.auth.GoogleAuthProvider:"Git"===n&&(r=new VL.auth.GithubAuthProvider),e.next=4,FL.signInWithPopup(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=d(b().mark((function e(t){var r,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=im(),e.prev=2,e.next=5,dd(r,n,a);case 5:i=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l("\ub85c\uadf8\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc774\uba54\uc77c/\ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.");case 11:console.log(i);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,XG.jsx)(JG,{children:(0,XG.jsxs)(ZG,{children:[(0,XG.jsx)(xF,{icon:NM,color:"#1D9BF0",size:"2x"}),(0,XG.jsx)(eQ,{children:"\ud2b8\uc704\ud130\uc5d0 \ub85c\uadf8\uc778\ud558\uae30"}),(0,XG.jsxs)(tQ,{onClick:h,name:"Google",variants:sQ,whileHover:"hover",children:[(0,XG.jsx)(xF,{icon:OM,color:"red",size:"lg"}),(0,XG.jsx)(nQ,{children:"Google \uacc4\uc815\uc73c\ub85c \uacc4\uc18d\ud558\uae30"})]}),(0,XG.jsxs)(tQ,{onClick:h,name:"Git",variants:sQ,whileHover:"hover",children:[(0,XG.jsx)(xF,{icon:RM,color:"black",size:"lg"}),(0,XG.jsx)(nQ,{children:"GitHub \uacc4\uc815\uc73c\ub85c \uacc4\uc18d\ud558\uae30"})]}),(0,XG.jsxs)(rQ,{onSubmit:p,children:[(0,XG.jsx)(iQ,{children:"\ub610\ub294"}),(0,XG.jsx)(aQ,{name:"email",type:"email",required:!0,placeholder:"\uc774\uba54\uc77c \uc8fc\uc18c",onChange:f}),(0,XG.jsx)(aQ,{name:"password",type:"password",required:!0,placeholder:"\ube44\ubc00\ubc88\ud638",onChange:f}),(0,XG.jsx)(uQ,{isBlack:!0,children:"\ub85c\uadf8\uc778"}),(0,XG.jsx)(oQ,{children:c})]}),(0,XG.jsx)(CM,{to:"/join",children:(0,XG.jsx)(uQ,{isBlack:!1,children:"\ud68c\uc6d0\uac00\uc785"})})]})})},lQ={prefix:"fas",iconName:"ban",icon:[512,512,[],"f05e","M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"]},fQ={prefix:"fas",iconName:"edit",icon:[576,512,[],"f044","M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"]},hQ={prefix:"fas",iconName:"moon",icon:[512,512,[],"f186","M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"]},dQ={prefix:"fas",iconName:"pen",icon:[512,512,[],"f304","M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"]},pQ={prefix:"fas",iconName:"sun",icon:[512,512,[],"f185","M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"]},vQ={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"]},mQ={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"]},yQ={prefix:"fas",iconName:"user",icon:[448,512,[],"f007","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"]},gQ=Hu({key:"themeState",default:!1}),kQ=ej.div(jG||(jG=AM(["\n  width: 280px;\n  height: 80px;\n  border-radius: 15px;\n  background-color: white;\n  margin: 20px 0;\n  position: relative;\n  display: flex;\n  align-items: center;\n  padding: 0 10px;\n  box-sizing: border-box;\n  border: ",";\n"])),(function(e){return e.dark?"1px solid black":"1px solid #22b2da"})),bQ=ej.div(BG||(BG=AM(["\n  display: flex;\n  position: absolute;\n  top: 5px;\n  right: 10px;\n  gap: 7px;\n"]))),wQ=ej.img(zG||(zG=AM(["\n  position: absolute;\n  width: 60px;\n  height: 60px;\n  bottom: -40%;\n  right: -20px;\n  border-radius: 50%;\n  border: 2px solid white;\n"]))),_Q=ej.form(qG||(qG=AM(["\n  display: flex;\n  box-sizing: border-box;\n  position: relative;\n  width: 210px;\n"]))),xQ=ej.input(WG||(WG=AM(["\n  padding: 10px;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  border: none;\n  background-color: #22b2da;\n  color: white;\n  border-radius: 10px;\n  &:focus {\n    outline: none;\n  }\n"]))),SQ=ej.button(HG||(HG=AM(["\n  position: absolute;\n  height: 100%;\n  right: 0;\n  border: none;\n  cursor: pointer;\n  background-color: transparent;\n"]))),TQ=ej.div(KG||(KG=AM(["\n  cursor: pointer;\n"]))),EQ=ej.h4(GG||(GG=AM(["\n  font-size: 13px;\n"]))),IQ=ej.div(QG||(QG=AM(["\n  cursor: pointer;\n"]))),CQ=ej.div($G||($G=AM(["\n  cursor: pointer;\n"]))),AQ=function(e){var n=e.tweetObj,r=e.isOwner,i=Ku(gQ),a=s((0,t.useState)(!1),2),o=a[0],u=a[1],c=s((0,t.useState)(n.tweet),2),l=c[0],f=c[1],h=function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this tweet?")){e.next=6;break}return e.next=4,UL.doc("tweets/".concat(n.id)).delete();case 4:return e.next=6,jL.refFromURL(n.attachmentUrl).delete();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){return u((function(e){return!e}))},v=function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,UL.doc("tweets/".concat(n.id)).update({tweet:l});case 3:u(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,XG.jsxs)(kQ,{dark:i,children:[n.attachmentUrl&&(0,XG.jsx)(wQ,{src:n.attachmentUrl,width:"50px",height:"50px"}),r&&(0,XG.jsxs)(bQ,{children:[(0,XG.jsx)(CQ,{onClick:h,children:(0,XG.jsx)(xF,{icon:vQ})}),o?(0,XG.jsx)(TQ,{onClick:p,children:(0,XG.jsx)(xF,{icon:lQ})}):(0,XG.jsx)(IQ,{onClick:p,children:(0,XG.jsx)(xF,{icon:dQ})})]}),o?(0,XG.jsx)(XG.Fragment,{children:(0,XG.jsxs)(_Q,{onSubmit:v,children:[" ",(0,XG.jsx)(xQ,{type:"text",placeholder:"Edit your nweet",value:l,required:!0,onChange:function(e){var t=e.target.value;f(t)},autoFocus:!0}),(0,XG.jsx)(SQ,{children:(0,XG.jsx)(xF,{style:{color:"white"},icon:fQ})})]})}):(0,XG.jsxs)(XG.Fragment,{children:[" ",(0,XG.jsx)(EQ,{children:n.tweet})]})]})},RQ=new Uint8Array(16);function OQ(){if(!YG&&!(YG="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return YG(RQ)}var NQ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var PQ=function(e){return"string"===typeof e&&NQ.test(e)},DQ=[],LQ=0;LQ<256;++LQ)DQ.push((LQ+256).toString(16).substr(1));var MQ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(DQ[e[t+0]]+DQ[e[t+1]]+DQ[e[t+2]]+DQ[e[t+3]]+"-"+DQ[e[t+4]]+DQ[e[t+5]]+"-"+DQ[e[t+6]]+DQ[e[t+7]]+"-"+DQ[e[t+8]]+DQ[e[t+9]]+"-"+DQ[e[t+10]]+DQ[e[t+11]]+DQ[e[t+12]]+DQ[e[t+13]]+DQ[e[t+14]]+DQ[e[t+15]]).toLowerCase();if(!PQ(n))throw TypeError("Stringified UUID is invalid");return n};var VQ,FQ,UQ,jQ,BQ,zQ,qQ,WQ,HQ,KQ,GQ,QQ,$Q,YQ,XQ,JQ,ZQ,e$,t$,n$,r$,i$=function(e,t,n){var r=(e=e||{}).random||(e.rng||OQ)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return MQ(r)},a$=ej.div(VQ||(VQ=AM(["\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: ",";\n"])),(function(e){return e.dark?"black":"white"})),o$=ej.div(FQ||(FQ=AM(["\n  margin-top: 150px;\n  width: 280px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding-bottom: 20px;\n  border-bottom: ",";\n"])),(function(e){return e.border?e.dark?"1px solid white":"1px solid black":"none"})),u$=ej.form(UQ||(UQ=AM(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),s$=ej.div(jQ||(jQ=AM(["\n  position: relative;\n  width: 280px;\n"]))),c$=ej.input(BQ||(BQ=AM(["\n  width: 280px;\n  height: 50px;\n  outline: none;\n  box-sizing: border-box;\n  border: 1px solid #22b2da;\n  padding: 10px 20px;\n  padding-right: 60px;\n  border-radius: 30px;\n  color: ",";\n  background-color: transparent;\n"])),(function(e){return e.dark?"white":"black"})),l$=ej.input(zQ||(zQ=AM(["\n  position: absolute;\n  height: 50px;\n  width: 50px;\n  font-size: 25px;\n  border-radius: 50%;\n  right: 0;\n  background-color: #22b2da;\n  color: white;\n  border: none;\n  cursor: pointer;\n"]))),f$=ej.input(qQ||(qQ=AM(["\n  display: none;\n"]))),h$=ej.label(WQ||(WQ=AM(["\n  color: #22b2da;\n  font-size: 12px;\n  width: 260px;\n  border-bottom: 2px dotted #22b2da;\n  margin-bottom: 10px;\n"]))),d$=ej.div(HQ||(HQ=AM(["\n  box-sizing: border-box;\n  width: 260px;\n  display: flex;\n  justify-content: center;\n  padding: 25px 0;\n  gap: 10px;\n"]))),p$=ej.div(KQ||(KQ=AM(["\n  display: flex;\n  justify-content: center;\n  padding: 10px 0;\n  box-sizing: border-box;\n"]))),v$=ej.img(GQ||(GQ=AM(["\n  width: 100px;\n  height: 100px;\n  border-radius: 50%;\n  border: 2px solid white;\n"]))),m$=ej.div(QQ||(QQ=AM(["\n  font-size: 15px;\n  color: #22b2da;\n  font-weight: 800;\n  cursor: pointer;\n  z-index: 1;\n"]))),y$=function(e){var n=e.userObj,r=s((0,t.useState)(""),2),i=r[0],a=r[1],o=s((0,t.useState)([]),2),u=o[0],c=o[1],l=s((0,t.useState)(""),2),f=l[0],h=l[1],p=Ku(gQ),v=function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UL.collection("tweets").onSnapshot((function(e){var t=e.docs.map((function(e){return S({id:e.id},e.data())}));c(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=d(b().mark((function e(t){var r,o,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r="",""===f){e.next=10;break}return o=jL.ref().child("".concat(n.uid,"/").concat(i$())),e.next=6,o.putString(f,"data_url");case 6:return u=e.sent,e.next=9,u.ref.getDownloadURL();case 9:r=e.sent;case 10:return e.next=12,UL.collection("tweets").add({tweet:i,createdAt:Date.now(),creatorId:n.uid,attachmentUrl:r});case 12:a("");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){v()}),[p]),(0,XG.jsx)(a$,{dark:p,children:(0,XG.jsxs)(o$,{border:!1,children:[(0,XG.jsxs)(u$,{onSubmit:m,children:[(0,XG.jsxs)(s$,{children:[(0,XG.jsx)(c$,{dark:p,value:i,onChange:function(e){var t=e.target.value;a(t)},type:"text",placeholder:"Write....",maxLength:100}),(0,XG.jsx)(l$,{type:"submit",value:"+"})]}),(0,XG.jsx)(h$,{dark:p,htmlFor:"inputImage",children:f?(0,XG.jsxs)(p$,{children:[(0,XG.jsx)(v$,{src:f}),(0,XG.jsx)(m$,{onClick:function(){return h("")},children:"X"})]}):(0,XG.jsxs)(d$,{children:[(0,XG.jsx)("h1",{children:"Add photos"}),(0,XG.jsx)(xF,{icon:mQ})]})}),(0,XG.jsx)(f$,{id:"inputImage",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;h(t)},n.readAsDataURL(t)}})]}),u.map((function(e){return(0,XG.jsx)(AQ,{tweetObj:e,isOwner:e.creatorId===n.uid},e.id)}))]})})},g$=ej.form($Q||($Q=AM(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 420px;\n  position: relative;\n  padding-top: 20px;\n  gap: 22px;\n"]))),k$=function(){var e=yM(),n=s((0,t.useState)(""),2),r=n[0],i=n[1],a=s((0,t.useState)(""),2),o=a[0],u=a[1],c=s((0,t.useState)(""),2),l=c[0],f=c[1],h=function(e){var t=e.target,n=t.name,r=t.value;"email"===n?i(r):"password"===n&&u(r)},p=function(){var t=d(b().mark((function t(n){var i;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),i=im(),t.prev=2,t.next=5,fd(i,r,o);case 5:t.sent,e("/"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),f("\ud574\ub2f9 \uc774\uba54\uc77c/\ud328\uc2a4\uc6cc\ub4dc\ub85c \ud68c\uc6d0\uac00\uc785\uc744 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return(0,XG.jsx)(JG,{children:(0,XG.jsxs)(ZG,{style:{alignItems:"center",justifyContent:"center"},children:[(0,XG.jsx)(eQ,{children:"\uacc4\uc815\uc744 \uc0dd\uc131\ud558\uc138\uc694"}),(0,XG.jsxs)(g$,{onSubmit:p,children:[(0,XG.jsx)(aQ,{placeholder:"\uc774\uba54\uc77c",onChange:h,name:"email",type:"email",required:!0}),(0,XG.jsx)(aQ,{placeholder:"\ube44\ubc00\ubc88\ud638",onChange:h,type:"password",name:"password",required:!0}),(0,XG.jsx)(oQ,{style:{bottom:"68px"},children:l}),(0,XG.jsx)(uQ,{isBlack:!0,style:{marginTop:"25px",width:"100%",height:"50px"},children:"\ud68c\uc6d0\uac00\uc785"})]})]})})},b$=ej.h1(YQ||(YQ=AM(["\n  width: 100%;\n  font-size: 14px;\n  background-color: white;\n  display: flex;\n  justify-content: center;\n  border: 1px solid black;\n  box-sizing: border-box;\n  padding: 15px 0;\n  border-radius: 20px;\n  margin-bottom: 10px;\n"]))),w$=ej.div(XQ||(XQ=AM(["\n  width: 100%;\n  font-size: 14px;\n  background-color: #22b2da;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  justify-content: center;\n  box-sizing: border-box;\n  padding: 15px 0;\n  border-radius: 20px;\n  margin-bottom: 10px;\n"]))),_$=ej.form(JQ||(JQ=AM(["\n  width: 280px;\n  position: relative;\n  height: 44px;\n  box-sizing: border-box;\n  margin-bottom: 10px;\n  display: flex;\n"]))),x$=ej.input(ZQ||(ZQ=AM(["\n  width: 100%;\n  font-size: 14px;\n  background-color: #22b2da;\n  color: white;\n  padding: 15px 10px;\n  border-radius: 20px;\n  border: none;\n  &:focus {\n    outline: none;\n  }\n"]))),S$=ej.button(e$||(e$=AM(["\n  position: absolute;\n  right: 10px;\n  cursor: pointer;\n  top: 30%;\n  font-size: 15px;\n  color: white;\n  background-color: transparent;\n  border: none;\n"]))),T$=ej.button(t$||(t$=AM(["\n  margin-top: 30px;\n  width: 280px;\n  padding: 15px 0;\n  box-sizing: border-box;\n  border-radius: 20px;\n  background-color: tomato;\n  color: white;\n  border: none;\n  cursor: pointer;\n"]))),E$=function(e){var n=e.userObj,r=e.refreshUser,i=Ku(gQ),a=s((0,t.useState)(!1),2),o=a[0],u=a[1],c=yM(),l=s((0,t.useState)(null===n.displayName?"Anonymous":n.displayName),2),f=l[0],h=l[1],p=function(){var e=d(b().mark((function e(t){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n.displayName===f){e.next=5;break}return e.next=4,n.updateProfile({displayName:f});case 4:r();case 5:u(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=d(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UL.collection("tweets").where("creatorId","==","".concat(n.uid)).orderBy("createdAt").get();case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){v()}),[]),(0,XG.jsxs)(a$,{dark:i,children:[(0,XG.jsxs)(o$,{border:!0,dark:i,children:[(0,XG.jsx)(b$,{children:f}),o?(0,XG.jsxs)(_$,{onSubmit:p,children:[(0,XG.jsx)(x$,{autoFocus:!0,onChange:function(e){var t=e.target.value;h(t)},type:"text",placeholder:"Display name",value:f}),(0,XG.jsx)(S$,{children:(0,XG.jsx)(xF,{icon:dQ})})]}):(0,XG.jsx)(w$,{onClick:function(){u(!0)},children:"Update Profile"})]}),(0,XG.jsx)(T$,{onClick:function(){FL.signOut(),c("/")},children:"Log Out"})]})},I$=ej.ul(n$||(n$=AM(["\n  position: fixed;\n  display: flex;\n  align-items: center;\n  width: 100%;\n  justify-content: center;\n  padding: 40px 0;\n  gap: 25px;\n"]))),C$=ej.div(r$||(r$=AM(["\n  font-size: 22px;\n  color: #22b2da;\n  width: 35px;\n  height: 35px;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"]))),A$=function(e){e.userObj;var t=s(Gu(gQ),2),n=t[0],r=t[1],i=mM();return(0,XG.jsx)("nav",{children:(0,XG.jsxs)(I$,{children:[(0,XG.jsx)("li",{children:(0,XG.jsx)(CM,{to:"/",children:(0,XG.jsx)(C$,{style:"/"===i.pathname?{backgroundColor:"#22b2da",color:"white"}:{},children:(0,XG.jsx)(xF,{icon:NM})})})}),(0,XG.jsx)("li",{children:(0,XG.jsx)(CM,{to:"/profile",children:(0,XG.jsx)(C$,{style:"/profile"===i.pathname?{backgroundColor:"#22b2da",color:"white"}:{},children:(0,XG.jsx)(xF,{icon:yQ})})})}),(0,XG.jsx)("li",{children:(0,XG.jsx)(C$,{onClick:function(){r((function(e){return!e}))},children:n?(0,XG.jsx)(xF,{icon:pQ}):(0,XG.jsx)(xF,{icon:hQ})})})]})})},R$=function(e){var t=e.isLoggedIn,n=e.userObj,r=e.refreshUser;return(0,XG.jsxs)(IM,{children:[t?(0,XG.jsx)(A$,{userObj:n}):null,(0,XG.jsx)(_M,{children:t?(0,XG.jsxs)(XG.Fragment,{children:[(0,XG.jsx)(bM,{exact:!0,path:"/",element:(0,XG.jsx)(y$,{userObj:n})}),(0,XG.jsx)(bM,{exact:!0,path:"/Profile",element:(0,XG.jsx)(E$,{userObj:n,refreshUser:r})})]}):(0,XG.jsxs)(XG.Fragment,{children:[(0,XG.jsx)(bM,{exact:!0,path:"/",element:(0,XG.jsx)(cQ,{})}),(0,XG.jsx)(bM,{exact:!0,path:"/join",element:(0,XG.jsx)(k$,{})})]})})]})};var O$=function(){var e=s((0,t.useState)(FL.currentUser),2),n=e[0],r=e[1],i=s((0,t.useState)(!1),2),a=i[0],o=i[1],u=s((0,t.useState)(null),2),c=u[0],l=u[1];return(0,t.useEffect)((function(){FL.onAuthStateChanged((function(e){e?(r(!0),l(e)):(r(!1),l(null)),o(!0)}))})),(0,XG.jsx)(Wu,{children:a?(0,XG.jsx)(R$,{isLoggedIn:n,userObj:c,refreshUser:function(){console.log("refresh"),o(!1),o(!0)}}):"Initializing..."})};r.createRoot(document.getElementById("root")).render((0,XG.jsx)(O$,{}))}()}();
//# sourceMappingURL=main.c17fb19d.js.map